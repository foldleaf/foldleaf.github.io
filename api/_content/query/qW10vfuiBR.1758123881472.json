[{"_path":"/essay/10000.关于本站","_dir":"","_draft":false,"_partial":false,"_locale":"","title":"关于本站","description":"经过多方面的尝试，把hexo、vuepress、hugo、docusaurus等静态博客都搭了一遍，hugo是用go模板语法来写的，但是有点问题就是有些主题的依赖下载有问题，能用的主题又感觉不好看，docusaurus除了默认主题外唯一找到个不错的主题但似乎又因为npm依赖问题而放弃……最终方案是hexo-butterfly","subtitle":"このサイトについて","index":42,"date":"2030-01-30 08:47:26","lunar_date":"正月初九","year":"2023","month":"01","month_en":"Jan","day":"30","tag":"杂谈","tag_en":"RAMBLE","cover":"/img/rabbit/028.jpg","categories":"杂谈","body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"经过多方面的尝试，把hexo、vuepress、hugo、docusaurus等静态博客都搭了一遍，hugo是用go模板语法来写的，但是有点问题就是有些主题的依赖下载有问题，能用的主题又感觉不好看，docusaurus除了默认主题外唯一找到个不错的主题但似乎又因为npm依赖问题而放弃……最终方案是"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"hexo-butterfly"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"使用hexo作为主博客，在butterfly、sakura、shoka中最后选择了butterfly主题"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"hexo butterfly","src":"/img/essay/1000.%E5%85%B3%E4%BA%8E%E6%9C%AC%E7%AB%99/hexo1.PNG"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"hexo butterfly","src":"/img/essay/1000.%E5%85%B3%E4%BA%8E%E6%9C%AC%E7%AB%99/hexo2.PNG"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"现在自己做了一套设计，用nuxt3编写\n"},{"type":"element","tag":"img","props":{"alt":"leaf","src":"/img/essay/1000.%E5%85%B3%E4%BA%8E%E6%9C%AC%E7%AB%99/leaf.PNG"},"children":[]}]}],"toc":{"title":"","searchDepth":2,"depth":3,"links":[]}},"_type":"markdown","_id":"content:essay:10000.关于本站.md","_source":"content","_file":"essay/10000.关于本站.md","_stem":"essay/10000.关于本站","_extension":"md"},{"_path":"/essay/41.nuxt-tailwindcss踩坑指南","_dir":"essay","_draft":false,"_partial":false,"_locale":"","title":"nuxt-tailwindcss 踩坑指南","description":"Nuxt 是基于 Vue.js 全栈 Web 框架;Tailwind CSS 是原子化 CSS 样式库","subtitle":"avoid the pitfalls of nuxt-tailwindcss","index":41,"tag":"技术","tag_en":"TECH","date":"2023/12/24","lunar_date":"冬月廿三","year":2023,"month":12,"month_en":"Jan","day":30,"cover":"/img/rabbit/041.jpg","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"安装nuxt"},"children":[{"type":"text","value":"安装nuxt"}]},{"type":"element","tag":"pre","props":{"className":["language-bash"],"code":"npx nuxi init nuxt-app\n","language":"bash","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"npx nuxi init nuxt-app\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"安装失败解决方法：\n"},{"type":"element","tag":"a","props":{"href":"https://juejin.cn/post/7154586714416087076","rel":["nofollow"]},"children":[{"type":"text","value":"https://juejin.cn/post/7154586714416087076"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"1、host文件使用管理员权限修改：\nwin+x快捷键，使用powershell管理员权限打开hosts文件"}]},{"type":"element","tag":"pre","props":{"className":["language-bash"],"code":"notepad C:\\Windows\\System32\\drivers\\etc\\hosts\n","language":"bash","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"notepad C:\\Windows\\System32\\drivers\\etc\\hosts\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"2、在末尾添加一行"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"185.199.108.133 raw.githubusercontent.com"}]},{"type":"text","value":"，保存即可"}]},{"type":"element","tag":"h1","props":{"id":"安装tailwind-css"},"children":[{"type":"text","value":"安装tailwind css"}]},{"type":"element","tag":"pre","props":{"className":["language-bash"],"code":"npm install -D @nuxtjs/tailwindcss\n","language":"bash","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"npm install -D @nuxtjs/tailwindcss\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"打开 ./nuxt.config.ts 将 @nuxtjs/tailwindcss 模块添加至 modules 设定参数中"}]},{"type":"element","tag":"pre","props":{"className":["language-ts"],"code":"export default defineNuxtConfig({\n  modules: ['@nuxtjs/tailwindcss'],\n})\n","language":"ts","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"export default defineNuxtConfig({\n  modules: ['@nuxtjs/tailwindcss'],\n})\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"初始化tailwind，会在根目录下生成文件 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"tailwind.config.js"}]}]},{"type":"element","tag":"pre","props":{"className":["language-bash"],"code":"npx tailwindcss init\n","language":"bash","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"npx tailwindcss init\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"./tailwind.config.js"}]},{"type":"element","tag":"pre","props":{"className":["language-js"],"code":"/** @type {import('tailwindcss').Config} */\nmodule.exports = {\n  content: [\n    './components/**/*.{js,vue,ts}',\n    './layouts/**/*.vue',\n    './pages/**/*.vue',\n    './plugins/**/*.{js,ts}',\n    './app.vue',\n  ],\n  darkMode: 'class',\n  \n  theme: {\n    extend: {\n      colors: {\n        leaf: {\n          50: \"#5F99F7\",\n          100: \"#5F99F7\",\n        }\n      }\n    },\n  },\n  plugins: [\n    require('@tailwindcss/typography'),\n  ],\n}\n","language":"js","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"/** @type {import('tailwindcss').Config} */\nmodule.exports = {\n  content: [\n    './components/**/*.{js,vue,ts}',\n    './layouts/**/*.vue',\n    './pages/**/*.vue',\n    './plugins/**/*.{js,ts}',\n    './app.vue',\n  ],\n  darkMode: 'class',\n  \n  theme: {\n    extend: {\n      colors: {\n        leaf: {\n          50: \"#5F99F7\",\n          100: \"#5F99F7\",\n        }\n      }\n    },\n  },\n  plugins: [\n    require('@tailwindcss/typography'),\n  ],\n}\n"}]}]},{"type":"element","tag":"pre","props":{"className":["language-html"],"code":"<template>\n  <div class=\"\">\n  <!-- <div class=\"dark\"> 更改class名更换为下面 dark 字段的颜色（在tailwindcss配置文件中有定义）-->\n    <h1 class=\"text-red-500 dark:text-leaf-100\">twitter clone</h1>\n  </div>\n</template>\n","language":"html","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"<template>\n  <div class=\"\">\n  <!-- <div class=\"dark\"> 更改class名更换为下面 dark 字段的颜色（在tailwindcss配置文件中有定义）-->\n    <h1 class=\"text-red-500 dark:text-leaf-100\">twitter clone</h1>\n  </div>\n</template>\n"}]}]},{"type":"element","tag":"h1","props":{"id":"路由"},"children":[{"type":"text","value":"路由"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"nuxt3通过文件结构约定了路由"}]},{"type":"element","tag":"pre","props":{"className":["language-bash"],"code":"./pages/\n└── index/\n    ├── blog/\n    │   ├── [...slug].vue\n    │   └── index.vue\n    └── index.vue\n","language":"bash","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"./pages/\n└── index/\n    ├── blog/\n    │   ├── [...slug].vue\n    │   └── index.vue\n    └── index.vue\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在nuxt3中，pages目录下的每一个文件即为一个路由，文件名即为路由名，pages根目录下的index.vue为默认路由。\npages目录可创建子目录。目录的index.vue为对应的路由\n"},{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"...slug"}]},{"type":"text","value":".vue官网叫做catch-all route，匹配该路由下的所有子路"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"/"}]},{"type":"text","value":"：/pages/index.vue"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"/blog"}]},{"type":"text","value":": /pages/blog/index.vue"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"/blog/*"}]},{"type":"text","value":": /pages/blog/"},{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"...slug"}]},{"type":"text","value":".vue"}]},{"type":"element","tag":"h1","props":{"id":"嵌套路由"},"children":[{"type":"text","value":"嵌套路由"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"关于嵌套路由，在nuxt中也是有约定的，父路由需要创建一个同名的文件夹,然后在其中放入子路由"}]},{"type":"element","tag":"pre","props":{"className":["language-bash"],"code":"./pages/\n└── index/\n    ├── blog/\n    │   ├── [...slug].vue\n    │   └── index.vue\n    ├── doc/\n    │    └── index.vue\n    └── index.vue\n","language":"bash","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"./pages/\n└── index/\n    ├── blog/\n    │   ├── [...slug].vue\n    │   └── index.vue\n    ├── doc/\n    │    └── index.vue\n    └── index.vue\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"现在有一个两栏的布局："}]},{"type":"element","tag":"pre","props":{"className":["language-html"],"code":"<aside>\n  <NuxtLink to=\"/blog\">这是blog!</NuxtLink>\n  <NuxtLink to=\"/blog/about\">这是about</NuxtLink>\n  <NuxtLink to=\"/doc\">这是doc</NuxtLink>\n</aside>\n\n<main>\n  <NuxtPage/>\n</main>\n","language":"html","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"<aside>\n  <NuxtLink to=\"/blog\">这是blog!</NuxtLink>\n  <NuxtLink to=\"/blog/about\">这是about</NuxtLink>\n  <NuxtLink to=\"/doc\">这是doc</NuxtLink>\n</aside>\n\n<main>\n  <NuxtPage/>\n</main>\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在这里，"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"/"}]},{"type":"text","value":"即为父路由，点击"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"<NuxtLink/>"}]},{"type":"text","value":"，只有"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"<NuxtPage/>"}]},{"type":"text","value":"中的内容会根据路由改变而发生变化"}]},{"type":"element","tag":"h1","props":{"id":"nuxt-content-模块"},"children":[{"type":"text","value":"Nuxt content 模块"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"首先在项目中导入content"}]},{"type":"element","tag":"pre","props":{"className":["language-bash"],"code":"npm install @nuxt/content\n","language":"bash","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"npm install @nuxt/content\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在nuxt.config.ts中添加该模块"}]},{"type":"element","tag":"pre","props":{"className":["language-js"],"code":"export default defineNuxtConfig({\n  modules: [\n    '@nuxtjs/tailwindcss',\n    '@nuxt/content',\n  ],\n})\n","language":"js","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"export default defineNuxtConfig({\n  modules: [\n    '@nuxtjs/tailwindcss',\n    '@nuxt/content',\n  ],\n})\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"创建./content目录"}]},{"type":"element","tag":"pre","props":{"className":["language-bash"],"code":"./content/\n└── blog/\n    ├── about.md\n    └── 001.md\n","language":"bash","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"./content/\n└── blog/\n    ├── about.md\n    └── 001.md\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"创建./content/blog目录，该目录要对应./pages/blog\n然后访问路由，例如/blog/about，因为并没有定义这个路由，所以会匹配"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"[...slug].vue"}]},{"type":"text","value":"使用"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"<ContentDoc />"}]},{"type":"text","value":"展示md文件的内容，要渲染内容可以使用"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"<ContentRenderer />"}]}]},{"type":"element","tag":"pre","props":{"className":["language-html"],"code":"<template>\n    <main>\n        <ContentDoc />\n    </main>\n</template>\n","language":"html","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"<template>\n    <main>\n        <ContentDoc />\n    </main>\n</template>\n"}]}]},{"type":"element","tag":"h1","props":{"id":"contentdoc文字渲染"},"children":[{"type":"text","value":"contentDoc文字渲染"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"安装tailwindcss插件"}]},{"type":"element","tag":"pre","props":{"className":["language-bash"],"code":"npm i -D @tailwindcss/typography\n","language":"bash","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"npm i -D @tailwindcss/typography\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在tailwind.config.js中添加配置"}]},{"type":"element","tag":"pre","props":{"className":["language-js"],"code":"/** @type {import('tailwindcss').Config} */\nexport default {\n  content: [\n    './components/**/*.{js,vue,ts}',\n    './layouts/**/*.vue',\n    './pages/**/*.vue',\n    './plugins/**/*.{js,ts}',\n    './app.vue',\n  ],\n  theme: {\n    extend: {},\n  },\n  plugins: [\n    require('@tailwindcss/typography'),\n  ],\n}\n","language":"js","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"/** @type {import('tailwindcss').Config} */\nexport default {\n  content: [\n    './components/**/*.{js,vue,ts}',\n    './layouts/**/*.vue',\n    './pages/**/*.vue',\n    './plugins/**/*.{js,ts}',\n    './app.vue',\n  ],\n  theme: {\n    extend: {},\n  },\n  plugins: [\n    require('@tailwindcss/typography'),\n  ],\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"[...slug].vue"}]},{"type":"text","value":"中添加样式"}]},{"type":"element","tag":"pre","props":{"className":["language-html"],"code":"<template>\n    <main>\n        <ContentDoc class=\"prose\"/>\n    </main>\n</template>\n","language":"html","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"<template>\n    <main>\n        <ContentDoc class=\"prose\"/>\n    </main>\n</template>\n"}]}]},{"type":"element","tag":"h1","props":{"id":"content的路由不支持纯中文"},"children":[{"type":"text","value":"content的路由不支持纯中文"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"md文件为纯中文似乎不能解析，但中文混有数字或字母的就可以解析"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"解决方法 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"https://github.com/nuxt/content/issues/1383#issuecomment-1196237686"}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"文件:"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"./content/blog/中文.md"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"使用 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"markdown"}]},{"type":"text","value":" 的 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"format"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":["language-bash"],"code":"---\n_path: /blog/中文\n---\n","language":"bash","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"---\n_path: /blog/中文\n---\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"路由:"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"/blog/中文"}]}]},{"type":"element","tag":"h1","props":{"id":"contentlist-文章列表加跳转"},"children":[{"type":"text","value":"ContentList 文章列表加跳转"}]},{"type":"element","tag":"pre","props":{"className":["language-html"],"code":"<ContentList path=\"/articles\" v-slot=\"{ list }\">\n    <div v-for=\"article in list\" :key=\"article._path\">\n        <NuxtLink :to=\"article._path\">\n            <h2>{{ article.title }}</h2>\n            <p>{{ article.description }}</p>\n        </NuxtLink>\n  </div>\n</ContentList>\n","language":"html","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"<ContentList path=\"/articles\" v-slot=\"{ list }\">\n    <div v-for=\"article in list\" :key=\"article._path\">\n        <NuxtLink :to=\"article._path\">\n            <h2>{{ article.title }}</h2>\n            <p>{{ article.description }}</p>\n        </NuxtLink>\n  </div>\n</ContentList>\n"}]}]},{"type":"element","tag":"h1","props":{"id":"资源路径"},"children":[{"type":"text","value":"资源路径"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"字体、图片资源放在public文件夹下，使用时用/img/imge1.jpg、/fonts/font1.ttf"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\ntailwind.css放在assets文件夹下，如~assests/css/tailwind.css"}]},{"type":"element","tag":"h1","props":{"id":"代码块高亮"},"children":[{"type":"text","value":"代码块高亮"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://www.boyyang.cn/detail/?id=19","rel":["nofollow"]},"children":[{"type":"text","value":"https://www.boyyang.cn/detail/?id=19"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"安装highlight.js"}]},{"type":"element","tag":"pre","props":{"className":["language-bash"],"code":"npm i highlight.js\n","language":"bash","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"npm i highlight.js\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"./plugins文件夹下新建highlight.ts"}]},{"type":"element","tag":"pre","props":{"className":["language-js"],"code":"import hljs from 'highlight.js'\nimport {defineNuxtPlugin} from '#app'\nimport 'highlight.js/styles/base16/onedark.css'\nimport bash from 'highlight.js/lib/languages/bash'\n// import html from 'highlight.js/lib/languages/html'\nimport javascript from 'highlight.js/lib/languages/javascript'\nimport css from 'highlight.js/lib/languages/css'\nimport go from 'highlight.js/lib/languages/go'\nimport java from 'highlight.js/lib/languages/java'\nimport python from 'highlight.js/lib/languages/python'\nimport rust from 'highlight.js/lib/languages/rust'\n\nhljs.registerLanguage('bash',bash)\n// hljs.registerLanguage('html',html)\nhljs.registerLanguage('javascript',javascript)\nhljs.registerLanguage('css',css)\nhljs.registerLanguage('go',go)\nhljs.registerLanguage('java',java)\nhljs.registerLanguage('python',python)\nhljs.registerLanguage('rust',rust)\n\nexport default defineNuxtPlugin((nuxtApp) => {\n    nuxtApp.vueApp.directive('highlight',\n        {\n            mounted(el) {\n                let element = el.querySelectorAll('pre code')\n                element.forEach((block: HTMLElement) => {\n                    if (block.dataset.highlighted === 'yes') return\n                    hljs.highlightElement(block)\n                })\n            },\n            updated(el) {\n                let element = el.querySelectorAll('pre code')\n                element.forEach((block: HTMLElement) => {\n                    if (block.dataset.highlighted === 'yes') return\n                    hljs.highlightElement(block)\n                })\n            },\n            getSSRProps(binding, vnode) {\n                // 你可以在这里提供SSR特定的props\n                return {}\n            },\n        },\n    )\n})\n","language":"js","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"import hljs from 'highlight.js'\nimport {defineNuxtPlugin} from '#app'\nimport 'highlight.js/styles/base16/onedark.css'\nimport bash from 'highlight.js/lib/languages/bash'\n// import html from 'highlight.js/lib/languages/html'\nimport javascript from 'highlight.js/lib/languages/javascript'\nimport css from 'highlight.js/lib/languages/css'\nimport go from 'highlight.js/lib/languages/go'\nimport java from 'highlight.js/lib/languages/java'\nimport python from 'highlight.js/lib/languages/python'\nimport rust from 'highlight.js/lib/languages/rust'\n\nhljs.registerLanguage('bash',bash)\n// hljs.registerLanguage('html',html)\nhljs.registerLanguage('javascript',javascript)\nhljs.registerLanguage('css',css)\nhljs.registerLanguage('go',go)\nhljs.registerLanguage('java',java)\nhljs.registerLanguage('python',python)\nhljs.registerLanguage('rust',rust)\n\nexport default defineNuxtPlugin((nuxtApp) => {\n    nuxtApp.vueApp.directive('highlight',\n        {\n            mounted(el) {\n                let element = el.querySelectorAll('pre code')\n                element.forEach((block: HTMLElement) => {\n                    if (block.dataset.highlighted === 'yes') return\n                    hljs.highlightElement(block)\n                })\n            },\n            updated(el) {\n                let element = el.querySelectorAll('pre code')\n                element.forEach((block: HTMLElement) => {\n                    if (block.dataset.highlighted === 'yes') return\n                    hljs.highlightElement(block)\n                })\n            },\n            getSSRProps(binding, vnode) {\n                // 你可以在这里提供SSR特定的props\n                return {}\n            },\n        },\n    )\n})\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":".nuxt.config.ts配置文件中添加plugins:"}]},{"type":"element","tag":"pre","props":{"className":["language-js"],"code":"plugins: [\n        {\n            src: '~/plugins/highlight.ts',\n            mode: 'all',\n        },\n    ],\n","language":"js","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"plugins: [\n        {\n            src: '~/plugins/highlight.ts',\n            mode: 'all',\n        },\n    ],\n"}]}]},{"type":"element","tag":"h1","props":{"id":"生产环境资源无法加载"},"children":[{"type":"text","value":"生产环境资源无法加载"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Failed to load resource: the server responded with a status of 404 (Not Found)"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"element","tag":"a","props":{"href":"https://github.com/nuxt/nuxt/issues/21974","rel":["nofollow"]},"children":[{"type":"text","value":"https://github.com/nuxt/nuxt/issues/21974"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在./nuxt.config.ts中"}]},{"type":"element","tag":"pre","props":{"className":["language-js"],"code":"export default defineNuxtConfig({\n  experimental: {\n    payloadExtraction: false\n  }\n})\n","language":"js","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"export default defineNuxtConfig({\n  experimental: {\n    payloadExtraction: false\n  }\n})\n"}]}]}],"toc":{"title":"","searchDepth":2,"depth":3,"links":[]}},"_type":"markdown","_id":"content:essay:41.nuxt-tailwindcss踩坑指南.md","_source":"content","_file":"essay/41.nuxt-tailwindcss踩坑指南.md","_stem":"essay/41.nuxt-tailwindcss踩坑指南","_extension":"md"},{"_path":"/essay/40.nginx部署","_dir":"essay","_draft":false,"_partial":false,"_locale":"","title":"nginx部署","description":"nginx (\"engine x\") is an HTTP web server, reverse proxy, content cache, load balancer, TCP/UDP proxy server, and mail proxy server. Originally written by Igor Sysoev and distributed under the 2-clause BSD License.","subtitle":"Nginx deployment","index":40,"date":"2023-06-15 20:15:00","lunar_date":"四月廿八","year":2023,"month":"06","month_en":"Jun","day":"15","tag":"技术","tag_en":"TECH","cover":"/img/rabbit/040.jpg","categories":"部署","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"正向代理反向代理"},"children":[{"type":"text","value":"正向代理、反向代理"}]},{"type":"element","tag":"h2","props":{"id":"正向代理"},"children":[{"type":"text","value":"正向代理"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"作为客户端的代理，服务端只与客户端的代理进行交互。服务端实际上不会知道与它交互的客户端是哪个，它只与代理接收或发送消息，代理则转发消息给客户端。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"例子"}]},{"type":"text","value":": 魔法上网，服务端不会知道客户端的 ip"}]},{"type":"element","tag":"h2","props":{"id":"反向代理"},"children":[{"type":"text","value":"反向代理"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"作为服务端的代理，例如魔法上网，客户端只与服务端的代理进行交互。客户端只与代理接收或发送消息，代理则转发消息给服务端。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"例子"}]},{"type":"text","value":": 公司内网，服务端在局域网内，外网无法直接访问，需要通过网关这个代理来转发请求"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Nginx 就属于反向代理"}]},{"type":"element","tag":"h1","props":{"id":"nginx-常见命令"},"children":[{"type":"text","value":"Nginx 常见命令"}]},{"type":"element","tag":"pre","props":{"className":["language-bash"],"code":"nginx -s stop    # 停止 Nginx 服务\nnginx -s reload  # 重新加载配置文件\nnginx -s quit    # 平滑停止 Nginx 服务\nnginx -t         # 测试配置文件是否正确\n","language":"bash","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"nginx -s stop    # 停止 Nginx 服务\nnginx -s reload  # 重新加载配置文件\nnginx -s quit    # 平滑停止 Nginx 服务\nnginx -t         # 测试配置文件是否正确\n"}]}]},{"type":"element","tag":"h1","props":{"id":"nginx-部署"},"children":[{"type":"text","value":"Nginx 部署"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Nginx 相关配置文件目录: "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"/etc/nginx/"}]},{"type":"text","value":"\n主配置文件为: "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"/etc/nginx/nginx.conf"}]}]},{"type":"element","tag":"pre","props":{"className":["language-nginx"],"code":"# 进程\nworker_processes  1;\n\n# 连接数\nevents {\n    worker_connections  1024;\n}\n\n# http 服务\nhttp {\n    include       mime.types;\n    default_type  application/octet-stream;\n\n    sendfile        on;\n    keepalive_timeout  65;\n\n    server {\n        listen       80;\n        server_name  localhost;\n\n        access_log   /var/log/web_app-access.log;\n        error_log    /var/log/web_app-error.log;\n\n        location / {\n            proxy_pass                 http://127.0.0.1:8084;\n            proxy_redirect             off;\n            proxy_set_header           Host             $host;\n            proxy_set_header           X-Real-IP        $remote_addr;\n            proxy_set_header           X-Forwarded-For  $proxy_add_x_forwarded_for;\n        }\n    }\n}\n","language":"nginx","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"# 进程\nworker_processes  1;\n\n# 连接数\nevents {\n    worker_connections  1024;\n}\n\n# http 服务\nhttp {\n    include       mime.types;\n    default_type  application/octet-stream;\n\n    sendfile        on;\n    keepalive_timeout  65;\n\n    server {\n        listen       80;\n        server_name  localhost;\n\n        access_log   /var/log/web_app-access.log;\n        error_log    /var/log/web_app-error.log;\n\n        location / {\n            proxy_pass                 http://127.0.0.1:8084;\n            proxy_redirect             off;\n            proxy_set_header           Host             $host;\n            proxy_set_header           X-Real-IP        $remote_addr;\n            proxy_set_header           X-Forwarded-For  $proxy_add_x_forwarded_for;\n        }\n    }\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"执行下面的命令检查配置文件语法："}]},{"type":"element","tag":"pre","props":{"className":["language-bash"],"code":"nginx -t\n","language":"bash","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"nginx -t\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"执行下面的命令重新加载配置文件："}]},{"type":"element","tag":"pre","props":{"className":["language-bash"],"code":"nginx -s reload\n","language":"bash","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"nginx -s reload\n"}]}]},{"type":"element","tag":"h1","props":{"id":"负载均衡"},"children":[{"type":"text","value":"负载均衡"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"各种地方都说得高大上，但使用起来并不复杂，其中一种就是一套后端代码的服务部署到多个地址"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"使用 nginx 的 upstream 配置来添加多个服务器地址实现负载均衡。"}]},{"type":"element","tag":"h1","props":{"id":"轮询默认"},"children":[{"type":"text","value":"轮询(默认)"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"即按时间顺序逐一分配到不同的后端服务器"}]},{"type":"element","tag":"pre","props":{"className":["language-nginx"],"code":"worker_processes  1;\n\nevents {\n    worker_connections  1024;\n}\n\nhttp {\n    include       mime.types;\n    default_type  application/octet-stream;\n\n    sendfile        on;\n    keepalive_timeout  65;\n    \n    upstream backend {\n      server 127.0.0.1:9000;\n      # 这里需要填真实可用的地址，默认轮询\n      #server backend1.example.com;\n      #server backend2.example.com;\n    }\n\n    server {\n        # nginx 的端口\n        listen       80;\n        server_name  localhost;\n\n        access_log   /var/log/web_app-access.log;\n        error_log    /var/log/web_app-error.log;\n\n        location / {\n            proxy_pass                 http://backend/;\n            proxy_redirect             off;\n            proxy_set_header           Host             $host;\n            proxy_set_header           X-Real-IP        $remote_addr;\n            proxy_set_header           X-Forwarded-For  $proxy_add_x_forwarded_for;\n        }\n    }\n}\n","language":"nginx","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"worker_processes  1;\n\nevents {\n    worker_connections  1024;\n}\n\nhttp {\n    include       mime.types;\n    default_type  application/octet-stream;\n\n    sendfile        on;\n    keepalive_timeout  65;\n    \n    upstream backend {\n      server 127.0.0.1:9000;\n      # 这里需要填真实可用的地址，默认轮询\n      #server backend1.example.com;\n      #server backend2.example.com;\n    }\n\n    server {\n        # nginx 的端口\n        listen       80;\n        server_name  localhost;\n\n        access_log   /var/log/web_app-access.log;\n        error_log    /var/log/web_app-error.log;\n\n        location / {\n            proxy_pass                 http://backend/;\n            proxy_redirect             off;\n            proxy_set_header           Host             $host;\n            proxy_set_header           X-Real-IP        $remote_addr;\n            proxy_set_header           X-Forwarded-For  $proxy_add_x_forwarded_for;\n        }\n    }\n}\n"}]}]},{"type":"element","tag":"h1","props":{"id":"权重"},"children":[{"type":"text","value":"权重"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"weight 代表权重，默认为1,权重越高被分配的客户端越多"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"weight和访问比率成正比，用于后端服务器性能不均的情况。 例如"}]},{"type":"element","tag":"pre","props":{"className":["language-nginx"],"code":"upstream backend{\n    server 127.0.0.1:9000 weight=5;\n    server backend1.example.com weight=1;\n    server backend2.example.com weight=2;\n}\n","language":"nginx","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"upstream backend{\n    server 127.0.0.1:9000 weight=5;\n    server backend1.example.com weight=1;\n    server backend2.example.com weight=2;\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"其他部分与上述的轮询一样，下同"}]},{"type":"element","tag":"h1","props":{"id":"最小连接"},"children":[{"type":"text","value":"最小连接"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"分配到当前连接数最小的服务"}]},{"type":"element","tag":"pre","props":{"className":["language-nginx"],"code":"upstream backend { \n    least_conn;\n    server 127.0.0.1:9000; \n    server backend1.example.com;\n    server backend2.example.com;\n}   \n","language":"nginx","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"upstream backend { \n    least_conn;\n    server 127.0.0.1:9000; \n    server backend1.example.com;\n    server backend2.example.com;\n}   \n"}]}]},{"type":"element","tag":"h1","props":{"id":"ip_hash"},"children":[{"type":"text","value":"ip_hash"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"每个请求按访问ip的hash值分配，每个访问客户端会固定访问一个后端服务器，可以解决会话Session丢失的问题"}]},{"type":"element","tag":"pre","props":{"className":["language-nginx"],"code":"upstream backend { \n    ip_hash;\n    server 127.0.0.1:9000; \n    server backend1.example.com;\n    server backend2.example.com;\n}   \n","language":"nginx","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"upstream backend { \n    ip_hash;\n    server 127.0.0.1:9000; \n    server backend1.example.com;\n    server backend2.example.com;\n}   \n"}]}]},{"type":"element","tag":"h1","props":{"id":"nginx分离静态文件请求"},"children":[{"type":"text","value":"Nginx分离静态文件请求"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"将静态文件部分的请求直接使用 nginx 处理，而将 API 接口类的动态处理请求转发给后端的 Go 程序来处理。"}]},{"type":"element","tag":"pre","props":{"className":["language-nginx"],"code":"worker_processes  1;\n\nevents {\n    worker_connections  1024;\n}\n\nhttp {\n    include       mime.types;\n    default_type  application/octet-stream;\n\n    sendfile        on;\n    keepalive_timeout  65;\n\n    server {\n        listen       80;\n        server_name  web_app;\n\n        access_log   /var/log/web_app-access.log;\n        error_log    /var/log/web_app-error.log;\n\n        # 静态文件请求\n        location ~ .*\\.(gif|jpg|jpeg|png|js|css|eot|ttf|woff|svg|otf)$ {\n            access_log off;\n            expires    1d;\n            root       /data/app/web_app;\n        }\n\n        # index.html页面请求\n        # 因为是单页面应用这里使用 try_files 处理一下，避免刷新页面时出现404的问题\n        location / {\n            root /data/app/web_app/templates;\n            index index.html;\n            try_files $uri $uri/ /index.html;\n        }\n\n        # API请求\n        location /api {\n            # 后端服务的地址\n            proxy_pass                 http://127.0.0.1:9000;\n            proxy_redirect             off;\n            proxy_set_header           Host             $host;\n            proxy_set_header           X-Real-IP        $remote_addr;\n            proxy_set_header           X-Forwarded-For  $proxy_add_x_forwarded_for;\n        }\n    }\n}\n","language":"nginx","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"worker_processes  1;\n\nevents {\n    worker_connections  1024;\n}\n\nhttp {\n    include       mime.types;\n    default_type  application/octet-stream;\n\n    sendfile        on;\n    keepalive_timeout  65;\n\n    server {\n        listen       80;\n        server_name  web_app;\n\n        access_log   /var/log/web_app-access.log;\n        error_log    /var/log/web_app-error.log;\n\n        # 静态文件请求\n        location ~ .*\\.(gif|jpg|jpeg|png|js|css|eot|ttf|woff|svg|otf)$ {\n            access_log off;\n            expires    1d;\n            root       /data/app/web_app;\n        }\n\n        # index.html页面请求\n        # 因为是单页面应用这里使用 try_files 处理一下，避免刷新页面时出现404的问题\n        location / {\n            root /data/app/web_app/templates;\n            index index.html;\n            try_files $uri $uri/ /index.html;\n        }\n\n        # API请求\n        location /api {\n            # 后端服务的地址\n            proxy_pass                 http://127.0.0.1:9000;\n            proxy_redirect             off;\n            proxy_set_header           Host             $host;\n            proxy_set_header           X-Real-IP        $remote_addr;\n            proxy_set_header           X-Forwarded-For  $proxy_add_x_forwarded_for;\n        }\n    }\n}\n"}]}]},{"type":"element","tag":"h1","props":{"id":"前后端分离部署"},"children":[{"type":"text","value":"前后端分离部署"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"前端和后端分开部署到不同的服务器，我们需要处理跨域问题，关于处理跨域问题请见 "},{"type":"element","tag":"a","props":{"href":""},"children":[{"type":"text","value":"前后端交互"}]}]}],"toc":{"title":"","searchDepth":2,"depth":3,"links":[{"id":"正向代理","depth":2,"text":"正向代理"},{"id":"反向代理","depth":2,"text":"反向代理"}]}},"_type":"markdown","_id":"content:essay:40.nginx部署.md","_source":"content","_file":"essay/40.nginx部署.md","_stem":"essay/40.nginx部署","_extension":"md"},{"_path":"/essay/39.docker部署","_dir":"essay","_draft":false,"_partial":false,"_locale":"","title":"docker部署","description":"","subtitle":"Docker deployment","index":39,"date":"2023-06-15 20:09:52","lunar_date":"四月廿八","year":2023,"month":"06","month_en":"Jun","day":"15","tag":"技术","tag_en":"TECH","cover":"/img/rabbit/039.jpg","categories":"部署","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"基本使用"},"children":[{"type":"text","value":"基本使用"}]},{"type":"element","tag":"h2","props":{"id":"编写-dockerfile"},"children":[{"type":"text","value":"编写 Dockerfile"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在项目根目录下编写Dockerfile(默认使用名称就是"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Dockerfile"}]},{"type":"text","value":"，不需要后缀)"}]},{"type":"element","tag":"pre","props":{"className":["language-bash"],"code":"FROM golang:alpine\n\n# 为我们的镜像设置必要的环境变量\nENV GO111MODULE=on \\\n    GOPROXY=https://goproxy.cn,direct \\\n    CGO_ENABLED=0 \\\n    GOOS=linux \\\n    GOARCH=amd64\n\n# 移动到工作目录：/build\nWORKDIR /build\n\n# 将代码复制到容器中\nCOPY . .\n\n# 将我们的代码编译成二进制可执行文件app\nRUN go build -o app .\n\n# 移动到用于存放生成的二进制文件的 /dist 目录\nWORKDIR /dist\n\n# 将二进制文件从 /build 目录复制到这里\nRUN cp /build/app .\n\n# 声明服务端口\nEXPOSE 9000\n\n# 启动容器时运行的命令\nCMD [\"/dist/app\"]\n","language":"bash","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"FROM golang:alpine\n\n# 为我们的镜像设置必要的环境变量\nENV GO111MODULE=on \\\n    GOPROXY=https://goproxy.cn,direct \\\n    CGO_ENABLED=0 \\\n    GOOS=linux \\\n    GOARCH=amd64\n\n# 移动到工作目录：/build\nWORKDIR /build\n\n# 将代码复制到容器中\nCOPY . .\n\n# 将我们的代码编译成二进制可执行文件app\nRUN go build -o app .\n\n# 移动到用于存放生成的二进制文件的 /dist 目录\nWORKDIR /dist\n\n# 将二进制文件从 /build 目录复制到这里\nRUN cp /build/app .\n\n# 声明服务端口\nEXPOSE 9000\n\n# 启动容器时运行的命令\nCMD [\"/dist/app\"]\n"}]}]},{"type":"element","tag":"h2","props":{"id":"构建-docker-镜像"},"children":[{"type":"text","value":"构建 docker 镜像"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"项目根目录下执行，创建镜像并制定镜像名为 web_app"}]},{"type":"element","tag":"pre","props":{"className":["language-bash"],"code":"docker build . -t web_app\n","language":"bash","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"docker build . -t web_app\n"}]}]},{"type":"element","tag":"h2","props":{"id":"运行镜像"},"children":[{"type":"text","value":"运行镜像"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"指定端口运行镜像"}]},{"type":"element","tag":"pre","props":{"className":["language-bash"],"code":"docker run -p 9000:9000 web_app\n","language":"bash","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"docker run -p 9000:9000 web_app\n"}]}]},{"type":"element","tag":"h1","props":{"id":"最佳实践"},"children":[{"type":"text","value":"最佳实践"}]},{"type":"element","tag":"h2","props":{"id":"分阶段构建"},"children":[{"type":"text","value":"分阶段构建"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Go 程序编译之后会得到一个可执行的二进制文件，在最终的镜像中是不需要 go 编译器的，但是以上的 dockerfile 会把 go 的编译环境也打包到镜像中。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"分阶段构建的目的是仅打包需要打包的，尽可能地减小镜像的体积"}]},{"type":"element","tag":"pre","props":{"className":["language-bash"],"code":"###################\n# 1. AS: 构建阶段作为一个镜像,命名为 builder\n###################\nFROM golang:alpine AS builder\n\n# 为我们的镜像设置必要的环境变量\nENV GO111MODULE=on \\\n    GOPROXY=https://goproxy.cn,direct \\\n    CGO_ENABLED=0 \\\n    GOOS=linux \\\n    GOARCH=amd64\n\n# 移动到工作目录：/build\nWORKDIR /build\n\n# 将代码复制到容器中\nCOPY . .\n\n# 将我们的代码编译成二进制可执行文件 app\nRUN go build -o app .\n\n###################\n# 2. 创建一个小镜像，scratch 是 docker 中的最小镜像\n###################\nFROM scratch\n\n# 从builder镜像中把/dist/app 拷贝到当前目录\nCOPY --from=builder /build/app /\n\n# 需要运行的命令\nENTRYPOINT [\"/app\"]\n","language":"bash","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"###################\n# 1. AS: 构建阶段作为一个镜像,命名为 builder\n###################\nFROM golang:alpine AS builder\n\n# 为我们的镜像设置必要的环境变量\nENV GO111MODULE=on \\\n    GOPROXY=https://goproxy.cn,direct \\\n    CGO_ENABLED=0 \\\n    GOOS=linux \\\n    GOARCH=amd64\n\n# 移动到工作目录：/build\nWORKDIR /build\n\n# 将代码复制到容器中\nCOPY . .\n\n# 将我们的代码编译成二进制可执行文件 app\nRUN go build -o app .\n\n###################\n# 2. 创建一个小镜像，scratch 是 docker 中的最小镜像\n###################\nFROM scratch\n\n# 从builder镜像中把/dist/app 拷贝到当前目录\nCOPY --from=builder /build/app /\n\n# 需要运行的命令\nENTRYPOINT [\"/app\"]\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"将编译环境的部分给忽略掉，只把可执行文件的镜像拷贝到一个最小镜像中"}]},{"type":"element","tag":"h2","props":{"id":"拷贝其他文件"},"children":[{"type":"text","value":"拷贝其他文件"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"除了go还附带其他文件，比如网页的静态文件等等则需要拷贝，一起放在镜像中"}]},{"type":"element","tag":"pre","props":{"className":["language-bash"],"code":"...\nFROM scratch\n\nCOPY ./templates /templates\nCOPY ./static /static\nCOPY ./conf /conf\n...\n","language":"bash","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"...\nFROM scratch\n\nCOPY ./templates /templates\nCOPY ./static /static\nCOPY ./conf /conf\n...\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"不过这种是前后端放在一起部署，并非所谓的前后端分离，前后端分离一般会是使用 nginx 来部署，之后再介绍。"}]},{"type":"element","tag":"h1","props":{"id":"多容器"},"children":[{"type":"text","value":"多容器"}]},{"type":"element","tag":"h2","props":{"id":"容器关联"},"children":[{"type":"text","value":"容器关联"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在使用多个容器时会用到，比如在使用 MySQL 时是用的docker容器，容器名为MySQL123。那么在配置文件中修改host项为容器名，如:"}]},{"type":"element","tag":"pre","props":{"className":["language-yaml"],"code":"host: mysql123\n","language":"yaml","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"host: mysql123\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"修改后重新构建镜像"}]},{"type":"element","tag":"pre","props":{"className":["language-bash"],"code":"docker build . -t web_app\n","language":"bash","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"docker build . -t web_app\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"运行应用容器并与容器"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"mysql123"}]},{"type":"text","value":"关联"}]},{"type":"element","tag":"pre","props":{"className":["language-bash"],"code":"docker run --link=mysql123:mysql123 -p 8888:8888 web_app_app\n","language":"bash","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"docker run --link=mysql123:mysql123 -p 8888:8888 web_app_app\n"}]}]},{"type":"element","tag":"h2","props":{"id":"docker-compose容器编排"},"children":[{"type":"text","value":"docker compose(容器编排)"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"参考于别处"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"使用Dockerfile定义你的应用环境以便可以在任何地方复制。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"定义组成应用程序的服务，docker-compose.yml 以便它们可以在隔离的环境中一起运行。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"执行 docker-compose up命令来启动并运行整个应用程序。"}]}]},{"type":"element","tag":"h3","props":{"id":"编写docker-composeyml"},"children":[{"type":"text","value":"编写docker-compose.yml"}]},{"type":"element","tag":"pre","props":{"className":["language-yaml"],"code":"文件名:docker-compose.yml\n# yaml 配置\nversion: \"3.7\"\nservices:\n  # mysql容器\n  mysql8019:\n    image: \"mysql:8.0.19\"\n    ports:\n      - \"33061:3306\"\n    command: \"--default-authentication-plugin=mysql_native_password --init-file /data/application/init.sql\"\n    environment:\n      MYSQL_ROOT_PASSWORD: \"mysql123\"\n      MYSQL_DATABASE: \"web_app\"\n      MYSQL_PASSWORD: \"mysql123\"\n    volumes:\n      - ./init.sql:/data/application/init.sql # 数据库初始化\n    \n  # redis容器, 参考mysql即可\n  redis:\n    image: \"\"\n    ports:\n      - \"\"\n\n  # 应用程序的容器\n  web_app:\n    build: .\n    command: sh -c \"./wait-for.sh mysql8019:3306 redis:6379 -- ./web_app ./conf/config.ini\"\n    depends_on:\n      - mysql8019\n    ports:\n      - \"9000:9000\"\n","language":"yaml","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"文件名:docker-compose.yml\n# yaml 配置\nversion: \"3.7\"\nservices:\n  # mysql容器\n  mysql8019:\n    image: \"mysql:8.0.19\"\n    ports:\n      - \"33061:3306\"\n    command: \"--default-authentication-plugin=mysql_native_password --init-file /data/application/init.sql\"\n    environment:\n      MYSQL_ROOT_PASSWORD: \"mysql123\"\n      MYSQL_DATABASE: \"web_app\"\n      MYSQL_PASSWORD: \"mysql123\"\n    volumes:\n      - ./init.sql:/data/application/init.sql # 数据库初始化\n    \n  # redis容器, 参考mysql即可\n  redis:\n    image: \"\"\n    ports:\n      - \"\"\n\n  # 应用程序的容器\n  web_app:\n    build: .\n    command: sh -c \"./wait-for.sh mysql8019:3306 redis:6379 -- ./web_app ./conf/config.ini\"\n    depends_on:\n      - mysql8019\n    ports:\n      - \"9000:9000\"\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"容器的编排有先后顺序，以上述为例，必须先启动mysql与redis后才能启动应用程序。"}]},{"type":"element","tag":"h3","props":{"id":"编写dockerfile"},"children":[{"type":"text","value":"编写Dockerfile"}]},{"type":"element","tag":"pre","props":{"className":["language-bash"],"code":"FROM golang:alpine AS builder\n\n# 为我们的镜像设置必要的环境变量\nENV GO111MODULE=on \\\n    GOPROXY=https://goproxy.cn,direct \\\n    CGO_ENABLED=0 \\\n    GOOS=linux \\\n    GOARCH=amd64\n\n# 移动到工作目录：/build\nWORKDIR /build\n\n# 将代码复制到容器中\nCOPY . .\n\n# 下载依赖信息\nRUN go mod download\n\n# 将我们的代码编译成二进制可执行文件 web_app\nRUN go build -o web_app .\n\n###################\n# 接下来创建一个小镜像\n###################\nFROM debian:stretch-slim\n\n# 从builder镜像中把脚本拷贝到当前目录\nCOPY ./wait-for.sh /\n\n# 从builder镜像中把静态文件拷贝到当前目录\nCOPY ./templates /templates\nCOPY ./static /static\n\n# 从builder镜像中把配置文件拷贝到当前目录\nCOPY ./conf /conf\n\n\n# 从builder镜像中把/dist/app 拷贝到当前目录\nCOPY --from=builder /build/web_app /\n\nRUN set -eux; \\\n    apt-get update; \\\n    apt-get install -y \\\n        --no-install-recommends \\\n        netcat; \\\n        chmod 755 wait-for.sh\n\n# 不在Dockerfile里运行\n# ENTRYPOINT [\"/web_app\", \"conf/config.ini\"]\n","language":"bash","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"FROM golang:alpine AS builder\n\n# 为我们的镜像设置必要的环境变量\nENV GO111MODULE=on \\\n    GOPROXY=https://goproxy.cn,direct \\\n    CGO_ENABLED=0 \\\n    GOOS=linux \\\n    GOARCH=amd64\n\n# 移动到工作目录：/build\nWORKDIR /build\n\n# 将代码复制到容器中\nCOPY . .\n\n# 下载依赖信息\nRUN go mod download\n\n# 将我们的代码编译成二进制可执行文件 web_app\nRUN go build -o web_app .\n\n###################\n# 接下来创建一个小镜像\n###################\nFROM debian:stretch-slim\n\n# 从builder镜像中把脚本拷贝到当前目录\nCOPY ./wait-for.sh /\n\n# 从builder镜像中把静态文件拷贝到当前目录\nCOPY ./templates /templates\nCOPY ./static /static\n\n# 从builder镜像中把配置文件拷贝到当前目录\nCOPY ./conf /conf\n\n\n# 从builder镜像中把/dist/app 拷贝到当前目录\nCOPY --from=builder /build/web_app /\n\nRUN set -eux; \\\n    apt-get update; \\\n    apt-get install -y \\\n        --no-install-recommends \\\n        netcat; \\\n        chmod 755 wait-for.sh\n\n# 不在Dockerfile里运行\n# ENTRYPOINT [\"/web_app\", \"conf/config.ini\"]\n"}]}]},{"type":"element","tag":"h3","props":{"id":"执行"},"children":[{"type":"text","value":"执行"}]},{"type":"element","tag":"pre","props":{"className":["language-bash"],"code":"docker-compose up\n","language":"bash","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"docker-compose up\n"}]}]}],"toc":{"title":"","searchDepth":2,"depth":3,"links":[{"id":"编写-dockerfile","depth":2,"text":"编写 Dockerfile"},{"id":"构建-docker-镜像","depth":2,"text":"构建 docker 镜像"},{"id":"运行镜像","depth":2,"text":"运行镜像"},{"id":"分阶段构建","depth":2,"text":"分阶段构建"},{"id":"拷贝其他文件","depth":2,"text":"拷贝其他文件"},{"id":"容器关联","depth":2,"text":"容器关联"},{"id":"docker-compose容器编排","depth":2,"text":"docker compose(容器编排)","children":[{"id":"编写docker-composeyml","depth":3,"text":"编写docker-compose.yml"},{"id":"编写dockerfile","depth":3,"text":"编写Dockerfile"},{"id":"执行","depth":3,"text":"执行"}]}]}},"_type":"markdown","_id":"content:essay:39.docker部署.md","_source":"content","_file":"essay/39.docker部署.md","_stem":"essay/39.docker部署","_extension":"md"},{"_path":"/essay/38.go项目框架及规范","_dir":"essay","_draft":false,"_partial":false,"_locale":"","title":"go 项目框架及规范","description":"个人觉得比较不错的规范，四处偷师得来的","subtitle":"goプロジェクトの枠組みと規範","index":38,"date":"2023-06-15 10:32:44","lunar_date":"四月廿八","year":2023,"month":"06","month_en":"Jun","day":"15","tag":"技术","tag_en":"TECH","cover":"/img/rabbit/038.jpg","categories":"golang","body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"个人觉得比较不错的规范，四处偷师得来的"}]},{"type":"element","tag":"h1","props":{"id":"项目结构与分层"},"children":[{"type":"text","value":"项目结构与分层"}]},{"type":"element","tag":"pre","props":{"className":["language-bash"],"code":"├─controller\n├─dao\n│  ├─mysql\n│  └─redis\n├─logger\n├─logic\n├─middlewares\n├─models\n├─utils\n│  ├─jwt\n│  └─snowflake\n├─routes\n└─settings\n","language":"bash","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"├─controller\n├─dao\n│  ├─mysql\n│  └─redis\n├─logger\n├─logic\n├─middlewares\n├─models\n├─utils\n│  ├─jwt\n│  └─snowflake\n├─routes\n└─settings\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"controller"}]},{"type":"text","value":": 请求处理与参数校验\n"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"logic"}]},{"type":"text","value":": 业务逻辑的实现，也叫 service 层\n"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"dao"}]},{"type":"text","value":": 对数据库的相关操作"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"model"}]},{"type":"text","value":": 数据模型\n"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"routes"}]},{"type":"text","value":": 路由接口\n"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"settings"}]},{"type":"text","value":": 配置的加载\n"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"middlewares"}]},{"type":"text","value":": 中间件\n"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"utils"}]},{"type":"text","value":": 自定义功能的工具库，方便调用\n"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"logger"}]},{"type":"text","value":": 日志库的封装"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://github.com/foldleaf/go_web_template","rel":["nofollow"]},"children":[{"type":"text","value":"项目地址"}]}]},{"type":"element","tag":"h1","props":{"id":"配置文件的加载"},"children":[{"type":"text","value":"配置文件的加载"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"示例配置"}]},{"type":"element","tag":"pre","props":{"className":["language-yaml"],"code":"app:\n  name: \"web_app\"\n  mode: \"dev\"\n  port: 8081\n  start_time: \"2023-01-01\"\n  machine_id: 1\n\nlog:\n  # 日志级别\n  level: \"debug\"\n  #文件名\n  filename: \"web_app.log\"\n  # 文件最大大小（M）\n  max_size: 200\n  # 文件最大保存天数\n  max_age: 30\n  # 文件备份数量\n  max_backups: 7\n  \n\nmysql:\n  host: \"127.0.0.1\"\n  port: 3306\n  user: \"root\"\n  password: \"mysql123\"\n  dbname: \"sql_demo\"\n  # 最大连接数\n  max_open_conns: 200\n  # 空闲连接数\n  max_idle_conns: 50\n\n\nredis:\n  host: \"127.0.0.1\"\n  port: 6379\n  password: \"\"\n  db: 0\n  pool_size: 100\n","language":"yaml","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"app:\n  name: \"web_app\"\n  mode: \"dev\"\n  port: 8081\n  start_time: \"2023-01-01\"\n  machine_id: 1\n\nlog:\n  # 日志级别\n  level: \"debug\"\n  #文件名\n  filename: \"web_app.log\"\n  # 文件最大大小（M）\n  max_size: 200\n  # 文件最大保存天数\n  max_age: 30\n  # 文件备份数量\n  max_backups: 7\n  \n\nmysql:\n  host: \"127.0.0.1\"\n  port: 3306\n  user: \"root\"\n  password: \"mysql123\"\n  dbname: \"sql_demo\"\n  # 最大连接数\n  max_open_conns: 200\n  # 空闲连接数\n  max_idle_conns: 50\n\n\nredis:\n  host: \"127.0.0.1\"\n  port: 6379\n  password: \"\"\n  db: 0\n  pool_size: 100\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"使用viper加载配置"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"package settings\n\nimport (\n    \"fmt\"\n    \"github.com/fsnotify/fsnotify\"\n    \"github.com/spf13/viper\"\n)\n\nfunc Init() (err error) {\n    // viper.SetConfigFile(\"config.yaml\")   //指定文件加后缀\n    viper.SetConfigName(\"config\") // 指定配置文件名称，不需要带后缀，会自动识别指定目录下相同的文件名\n    viper.SetConfigType(\"yaml\")   //指定配置文件类型，用于远程获取配置，本地时不生效\n    viper.AddConfigPath(\".\")      //指定查找配置文件的路径（这里用相对路径）\n    err = viper.ReadInConfig()    //读取文件配置\n    if err != nil {\n        // 读取配置信息失败\n        fmt.Println(\"viper.ReadInConfig() 读取配置信息失败:\", err)\n        return\n    }\n\n    viper.WatchConfig()\n    viper.OnConfigChange(func(in fsnotify.Event) {\n        fmt.Println(\"配置文件修改\")\n    })\n    return\n}\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"package settings\n\nimport (\n    \"fmt\"\n    \"github.com/fsnotify/fsnotify\"\n    \"github.com/spf13/viper\"\n)\n\nfunc Init() (err error) {\n    // viper.SetConfigFile(\"config.yaml\")   //指定文件加后缀\n    viper.SetConfigName(\"config\") // 指定配置文件名称，不需要带后缀，会自动识别指定目录下相同的文件名\n    viper.SetConfigType(\"yaml\")   //指定配置文件类型，用于远程获取配置，本地时不生效\n    viper.AddConfigPath(\".\")      //指定查找配置文件的路径（这里用相对路径）\n    err = viper.ReadInConfig()    //读取文件配置\n    if err != nil {\n        // 读取配置信息失败\n        fmt.Println(\"viper.ReadInConfig() 读取配置信息失败:\", err)\n        return\n    }\n\n    viper.WatchConfig()\n    viper.OnConfigChange(func(in fsnotify.Event) {\n        fmt.Println(\"配置文件修改\")\n    })\n    return\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"此后使用viper.GetString()、viper.GetInt()即可获取配置参数，如"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"viper.GetInt(\"app.port\")\nviper.GetString(\"mysql.user\")\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"viper.GetInt(\"app.port\")\nviper.GetString(\"mysql.user\")\n"}]}]},{"type":"element","tag":"h1","props":{"id":"日志"},"children":[{"type":"text","value":"日志"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"使用zap日志库"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"package logger\n\nimport (\n    \"net\"\n    \"net/http\"\n    \"net/http/httputil\"\n    \"os\"\n    \"runtime/debug\"\n    \"strings\"\n    \"time\"\n\n    \"github.com/gin-gonic/gin\"\n    \"github.com/spf13/viper\"\n    \"go.uber.org/zap\"\n    \"go.uber.org/zap/zapcore\"\n    \"gopkg.in/natefinch/lumberjack.v2\"\n)\n\n// var lg *zap.Logger\n\n// Init 初始化Logger\nfunc Init() (err error) {\n    writeSyncer := getLogWriter(\n        viper.GetString(\"log.filename\"),\n        viper.GetInt(\"max_size\"),\n        viper.GetInt(\"max_backups\"),\n        viper.GetInt(\"max_age\"),\n    )\n    encoder := getEncoder()\n    var l = new(zapcore.Level)\n    err = l.UnmarshalText([]byte(viper.GetString(\"log.level\")))\n    if err != nil {\n        return\n    }\n    var core zapcore.Core\n    if viper.GetString(\"app.mode\") == \"dev\" {\n        // 开发模式，日志输出到终端\n        consoleEncoder := zapcore.NewConsoleEncoder(zap.NewDevelopmentEncoderConfig())\n        core = zapcore.NewTee(\n            zapcore.NewCore(encoder, writeSyncer, l),\n            zapcore.NewCore(consoleEncoder, zapcore.Lock(os.Stdout), zapcore.DebugLevel),\n        )\n    } else {\n        // 非开发模式，日志只输出到文件\n        core = zapcore.NewCore(encoder, writeSyncer, l)\n    }\n\n    lg := zap.New(core, zap.AddCaller())\n    zap.ReplaceGlobals(lg) // 替换zap包中全局的logger实例，后续在其他包中只需使用zap.L()调用即可\n    return\n}\n\nfunc getEncoder() zapcore.Encoder {\n    encoderConfig := zap.NewProductionEncoderConfig()\n    encoderConfig.EncodeTime = zapcore.ISO8601TimeEncoder\n    encoderConfig.TimeKey = \"time\"\n    encoderConfig.EncodeLevel = zapcore.CapitalLevelEncoder\n    encoderConfig.EncodeDuration = zapcore.SecondsDurationEncoder\n    encoderConfig.EncodeCaller = zapcore.ShortCallerEncoder\n    return zapcore.NewJSONEncoder(encoderConfig)\n}\n\nfunc getLogWriter(filename string, maxSize, maxBackup, maxAge int) zapcore.WriteSyncer {\n    lumberJackLogger := &lumberjack.Logger{\n        Filename:   filename,\n        MaxSize:    maxSize,\n        MaxBackups: maxBackup,\n        MaxAge:     maxAge,\n    }\n    return zapcore.AddSync(lumberJackLogger)\n}\n\n// GinLogger 接收gin框架默认的日志\nfunc GinLogger() gin.HandlerFunc {\n    return func(c *gin.Context) {\n        start := time.Now()\n        path := c.Request.URL.Path\n        query := c.Request.URL.RawQuery\n        c.Next()\n\n        cost := time.Since(start)\n        zap.L().Info(path,\n            zap.Int(\"status\", c.Writer.Status()),\n            zap.String(\"method\", c.Request.Method),\n            zap.String(\"path\", path),\n            zap.String(\"query\", query),\n            zap.String(\"ip\", c.ClientIP()),\n            zap.String(\"user-agent\", c.Request.UserAgent()),\n            zap.String(\"errors\", c.Errors.ByType(gin.ErrorTypePrivate).String()),\n            zap.Duration(\"cost\", cost),\n        )\n    }\n}\n\n// GinRecovery recover掉项目可能出现的panic，并使用zap记录相关日志\nfunc GinRecovery(stack bool) gin.HandlerFunc {\n    return func(c *gin.Context) {\n        defer func() {\n            if err := recover(); err != nil {\n                // Check for a broken connection, as it is not really a\n                // condition that warrants a panic stack trace.\n                var brokenPipe bool\n                if ne, ok := err.(*net.OpError); ok {\n                    if se, ok := ne.Err.(*os.SyscallError); ok {\n                        if strings.Contains(strings.ToLower(se.Error()), \"broken pipe\") || strings.Contains(strings.ToLower(se.Error()), \"connection reset by peer\") {\n                            brokenPipe = true\n                        }\n                    }\n                }\n\n                httpRequest, _ := httputil.DumpRequest(c.Request, false)\n                if brokenPipe {\n                    zap.L().Error(c.Request.URL.Path,\n                        zap.Any(\"error\", err),\n                        zap.String(\"request\", string(httpRequest)),\n                    )\n                    // If the connection is dead, we can't write a status to it.\n                    c.Error(err.(error)) // nolint: errcheck\n                    c.Abort()\n                    return\n                }\n\n                if stack {\n                    zap.L().Error(\"[Recovery from panic]\",\n                        zap.Any(\"error\", err),\n                        zap.String(\"request\", string(httpRequest)),\n                        zap.String(\"stack\", string(debug.Stack())),\n                    )\n                } else {\n                    zap.L().Error(\"[Recovery from panic]\",\n                        zap.Any(\"error\", err),\n                        zap.String(\"request\", string(httpRequest)),\n                    )\n                }\n                c.AbortWithStatus(http.StatusInternalServerError)\n            }\n        }()\n        c.Next()\n    }\n}\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"package logger\n\nimport (\n    \"net\"\n    \"net/http\"\n    \"net/http/httputil\"\n    \"os\"\n    \"runtime/debug\"\n    \"strings\"\n    \"time\"\n\n    \"github.com/gin-gonic/gin\"\n    \"github.com/spf13/viper\"\n    \"go.uber.org/zap\"\n    \"go.uber.org/zap/zapcore\"\n    \"gopkg.in/natefinch/lumberjack.v2\"\n)\n\n// var lg *zap.Logger\n\n// Init 初始化Logger\nfunc Init() (err error) {\n    writeSyncer := getLogWriter(\n        viper.GetString(\"log.filename\"),\n        viper.GetInt(\"max_size\"),\n        viper.GetInt(\"max_backups\"),\n        viper.GetInt(\"max_age\"),\n    )\n    encoder := getEncoder()\n    var l = new(zapcore.Level)\n    err = l.UnmarshalText([]byte(viper.GetString(\"log.level\")))\n    if err != nil {\n        return\n    }\n    var core zapcore.Core\n    if viper.GetString(\"app.mode\") == \"dev\" {\n        // 开发模式，日志输出到终端\n        consoleEncoder := zapcore.NewConsoleEncoder(zap.NewDevelopmentEncoderConfig())\n        core = zapcore.NewTee(\n            zapcore.NewCore(encoder, writeSyncer, l),\n            zapcore.NewCore(consoleEncoder, zapcore.Lock(os.Stdout), zapcore.DebugLevel),\n        )\n    } else {\n        // 非开发模式，日志只输出到文件\n        core = zapcore.NewCore(encoder, writeSyncer, l)\n    }\n\n    lg := zap.New(core, zap.AddCaller())\n    zap.ReplaceGlobals(lg) // 替换zap包中全局的logger实例，后续在其他包中只需使用zap.L()调用即可\n    return\n}\n\nfunc getEncoder() zapcore.Encoder {\n    encoderConfig := zap.NewProductionEncoderConfig()\n    encoderConfig.EncodeTime = zapcore.ISO8601TimeEncoder\n    encoderConfig.TimeKey = \"time\"\n    encoderConfig.EncodeLevel = zapcore.CapitalLevelEncoder\n    encoderConfig.EncodeDuration = zapcore.SecondsDurationEncoder\n    encoderConfig.EncodeCaller = zapcore.ShortCallerEncoder\n    return zapcore.NewJSONEncoder(encoderConfig)\n}\n\nfunc getLogWriter(filename string, maxSize, maxBackup, maxAge int) zapcore.WriteSyncer {\n    lumberJackLogger := &lumberjack.Logger{\n        Filename:   filename,\n        MaxSize:    maxSize,\n        MaxBackups: maxBackup,\n        MaxAge:     maxAge,\n    }\n    return zapcore.AddSync(lumberJackLogger)\n}\n\n// GinLogger 接收gin框架默认的日志\nfunc GinLogger() gin.HandlerFunc {\n    return func(c *gin.Context) {\n        start := time.Now()\n        path := c.Request.URL.Path\n        query := c.Request.URL.RawQuery\n        c.Next()\n\n        cost := time.Since(start)\n        zap.L().Info(path,\n            zap.Int(\"status\", c.Writer.Status()),\n            zap.String(\"method\", c.Request.Method),\n            zap.String(\"path\", path),\n            zap.String(\"query\", query),\n            zap.String(\"ip\", c.ClientIP()),\n            zap.String(\"user-agent\", c.Request.UserAgent()),\n            zap.String(\"errors\", c.Errors.ByType(gin.ErrorTypePrivate).String()),\n            zap.Duration(\"cost\", cost),\n        )\n    }\n}\n\n// GinRecovery recover掉项目可能出现的panic，并使用zap记录相关日志\nfunc GinRecovery(stack bool) gin.HandlerFunc {\n    return func(c *gin.Context) {\n        defer func() {\n            if err := recover(); err != nil {\n                // Check for a broken connection, as it is not really a\n                // condition that warrants a panic stack trace.\n                var brokenPipe bool\n                if ne, ok := err.(*net.OpError); ok {\n                    if se, ok := ne.Err.(*os.SyscallError); ok {\n                        if strings.Contains(strings.ToLower(se.Error()), \"broken pipe\") || strings.Contains(strings.ToLower(se.Error()), \"connection reset by peer\") {\n                            brokenPipe = true\n                        }\n                    }\n                }\n\n                httpRequest, _ := httputil.DumpRequest(c.Request, false)\n                if brokenPipe {\n                    zap.L().Error(c.Request.URL.Path,\n                        zap.Any(\"error\", err),\n                        zap.String(\"request\", string(httpRequest)),\n                    )\n                    // If the connection is dead, we can't write a status to it.\n                    c.Error(err.(error)) // nolint: errcheck\n                    c.Abort()\n                    return\n                }\n\n                if stack {\n                    zap.L().Error(\"[Recovery from panic]\",\n                        zap.Any(\"error\", err),\n                        zap.String(\"request\", string(httpRequest)),\n                        zap.String(\"stack\", string(debug.Stack())),\n                    )\n                } else {\n                    zap.L().Error(\"[Recovery from panic]\",\n                        zap.Any(\"error\", err),\n                        zap.String(\"request\", string(httpRequest)),\n                    )\n                }\n                c.AbortWithStatus(http.StatusInternalServerError)\n            }\n        }()\n        c.Next()\n    }\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"比较繁琐，之后使用zap.L().Error()即可打印错误日志信息"}]},{"type":"element","tag":"h1","props":{"id":"数据库初始化"},"children":[{"type":"text","value":"数据库初始化"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"使用sqlx"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"\nimport (\n    \"fmt\"\n\n    \"github.com/jmoiron/sqlx\"\n    \"github.com/spf13/viper\"\n    \"go.uber.org/zap\"\n\n    _ \"github.com/go-sql-driver/mysql\"\n)\n\nvar db *sqlx.DB\n\nfunc Init() (err error) {\n    // dsn := \"user:password@tcp(127.0.0.1:3306)/sql_test?charset=utf8mb4&parseTime=True\"\n    dsn := fmt.Sprintf(\"%s:%s@tcp(%s:%s)/%s?charset=utf8mb4&parseTime=True\",\n        viper.GetString(\"mysql.user\"),\n        viper.GetString(\"mysql.password\"),\n        viper.GetString(\"mysql.host\"),\n        viper.GetString(\"mysql.port\"),\n        viper.GetString(\"mysql.dbname\"),\n    )\n    // 也可以使用MustConnect连接不成功就panic\n    db, err = sqlx.Connect(\"mysql\", dsn)\n    if err != nil {\n        zap.L().Error(\"connect DB failed\", zap.Error(err))\n        return\n    }\n    db.SetMaxOpenConns(viper.GetInt(\"mysql.max_open_conns\"))\n    db.SetMaxIdleConns(viper.GetInt(\"mysql.max_idle_conns\"))\n    return\n}\n\nfunc Close() {\n    _ = db.Close()\n}\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"\nimport (\n    \"fmt\"\n\n    \"github.com/jmoiron/sqlx\"\n    \"github.com/spf13/viper\"\n    \"go.uber.org/zap\"\n\n    _ \"github.com/go-sql-driver/mysql\"\n)\n\nvar db *sqlx.DB\n\nfunc Init() (err error) {\n    // dsn := \"user:password@tcp(127.0.0.1:3306)/sql_test?charset=utf8mb4&parseTime=True\"\n    dsn := fmt.Sprintf(\"%s:%s@tcp(%s:%s)/%s?charset=utf8mb4&parseTime=True\",\n        viper.GetString(\"mysql.user\"),\n        viper.GetString(\"mysql.password\"),\n        viper.GetString(\"mysql.host\"),\n        viper.GetString(\"mysql.port\"),\n        viper.GetString(\"mysql.dbname\"),\n    )\n    // 也可以使用MustConnect连接不成功就panic\n    db, err = sqlx.Connect(\"mysql\", dsn)\n    if err != nil {\n        zap.L().Error(\"connect DB failed\", zap.Error(err))\n        return\n    }\n    db.SetMaxOpenConns(viper.GetInt(\"mysql.max_open_conns\"))\n    db.SetMaxIdleConns(viper.GetInt(\"mysql.max_idle_conns\"))\n    return\n}\n\nfunc Close() {\n    _ = db.Close()\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"使用gorm"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"// 全局变量，db和error在其他文件里也需要使用\nvar db  *gorm.DB\n\nfunc Init() (err error){\n    //使用占位符，然后用setting.go里的配置参数来替代\n    dsn := fmt.Sprintf(\"%s:%s@tcp(%s:%s)/%s?charset=utf8mb4&parseTime=True\",\n        viper.GetString(\"mysql.user\"),\n        viper.GetString(\"mysql.password\"),\n        viper.GetString(\"mysql.host\"),\n        viper.GetString(\"mysql.port\"),\n        viper.GetString(\"mysql.dbname\"),\n    )\n    db, err = gorm.Open(postgres.Open(dsn), &gorm.Config{\n        //禁用默认表名的复数形式\n        NamingStrategy: schema.NamingStrategy{SingularTable: true},\n    })\n    // if err != nil {\n    //  fmt.Println(\"数据库连接失败，请检查连接参数\", err)\n    // }\n    if err != nil {\n        zap.L().Error(\"connect DB failed\", zap.Error(err))\n        return\n    }\n\n    //\n\n    //数据库自动迁移，括号内的参数为需要构建的数据模型结构体\n    db.AutoMigrate()\n\n    sqlDB, err := db.DB()\n    if err != nil {\n        // fmt.Println(\"数据库连接设置出错，请检查连接参数\", err)\n        zap.L().Error(\"connect DB failed\", zap.Error(err))\n        return\n    }\n    // 以下这些参数可以写到配置文件里，然后使用 viper 来加载\n    // SetMaxIdleConns 设置空闲连接池中连接的最大数量\n    sqlDB.SetMaxIdleConns(50) //50可替换为 viper.GetInt(\"mysql.max_idle_conns\"),下同\n\n    // SetMaxOpenConns 设置打开数据库连接的最大数量。\n    sqlDB.SetMaxOpenConns(200)\n\n    // SetConnMaxLifetime 设置了连接可复用的最大时间。\n    //不能超过 gin 框架的连接超时时间\n    sqlDB.SetConnMaxLifetime(10 * time.Second)\n\n    //sqlDB.Close()\n}\n\nfunc Close() {\n    _ = db.Close()\n}\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"// 全局变量，db和error在其他文件里也需要使用\nvar db  *gorm.DB\n\nfunc Init() (err error){\n    //使用占位符，然后用setting.go里的配置参数来替代\n    dsn := fmt.Sprintf(\"%s:%s@tcp(%s:%s)/%s?charset=utf8mb4&parseTime=True\",\n        viper.GetString(\"mysql.user\"),\n        viper.GetString(\"mysql.password\"),\n        viper.GetString(\"mysql.host\"),\n        viper.GetString(\"mysql.port\"),\n        viper.GetString(\"mysql.dbname\"),\n    )\n    db, err = gorm.Open(postgres.Open(dsn), &gorm.Config{\n        //禁用默认表名的复数形式\n        NamingStrategy: schema.NamingStrategy{SingularTable: true},\n    })\n    // if err != nil {\n    //  fmt.Println(\"数据库连接失败，请检查连接参数\", err)\n    // }\n    if err != nil {\n        zap.L().Error(\"connect DB failed\", zap.Error(err))\n        return\n    }\n\n    //\n\n    //数据库自动迁移，括号内的参数为需要构建的数据模型结构体\n    db.AutoMigrate()\n\n    sqlDB, err := db.DB()\n    if err != nil {\n        // fmt.Println(\"数据库连接设置出错，请检查连接参数\", err)\n        zap.L().Error(\"connect DB failed\", zap.Error(err))\n        return\n    }\n    // 以下这些参数可以写到配置文件里，然后使用 viper 来加载\n    // SetMaxIdleConns 设置空闲连接池中连接的最大数量\n    sqlDB.SetMaxIdleConns(50) //50可替换为 viper.GetInt(\"mysql.max_idle_conns\"),下同\n\n    // SetMaxOpenConns 设置打开数据库连接的最大数量。\n    sqlDB.SetMaxOpenConns(200)\n\n    // SetConnMaxLifetime 设置了连接可复用的最大时间。\n    //不能超过 gin 框架的连接超时时间\n    sqlDB.SetConnMaxLifetime(10 * time.Second)\n\n    //sqlDB.Close()\n}\n\nfunc Close() {\n    _ = db.Close()\n}\n"}]}]},{"type":"element","tag":"h1","props":{"id":"错误处理约定状态码"},"children":[{"type":"text","value":"错误处理/约定状态码"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"const (\n    SUCCESS = 200\n    ERROR   = 500\n    //约定状态码\n    //code=1000...用户模块错误\n    ERROR_USERNAME_USED  = 1001\n    ERROR_PASSWORD_WRONG = 1002\n    ERROR_USER_NOT_EXIST = 1003\n\n    ERROR_TOKEN_NOT_EXIST = 1004\n    ERROR_TOKEN_OUT_TIME  = 1005\n    ERROR_TOKEN_WRONG     = 1006\n    ERROR_TYPE_WRONG      = 1007\n\n    //code=2000...文章模块错误\n\n    //code=3000...分类模块错误\n\n    // 等等\n)\n\n\nvar codeMsg = map[int]string{\n    SUCCESS:               \"OK\",\n    ERROR:                 \"FAIL\",\n    ERROR_USERNAME_USED:   \"该用户名已存在\",\n    ERROR_PASSWORD_WRONG:  \"密码错误\",\n    ERROR_USER_NOT_EXIST:  \"用户不存在\",\n    ERROR_TOKEN_NOT_EXIST: \"token不存在\",\n    ERROR_TOKEN_OUT_TIME:  \"token已过期\",\n    ERROR_TOKEN_WRONG:     \"token错误\",\n    ERROR_TYPE_WRONG:      \" token格式错误\",\n}\n\n// GetErrMsg 根据状态码获取对应的信息信息\nfunc GetErrMsg(code int) string {\n    return codeMsg[code]\n}\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"const (\n    SUCCESS = 200\n    ERROR   = 500\n    //约定状态码\n    //code=1000...用户模块错误\n    ERROR_USERNAME_USED  = 1001\n    ERROR_PASSWORD_WRONG = 1002\n    ERROR_USER_NOT_EXIST = 1003\n\n    ERROR_TOKEN_NOT_EXIST = 1004\n    ERROR_TOKEN_OUT_TIME  = 1005\n    ERROR_TOKEN_WRONG     = 1006\n    ERROR_TYPE_WRONG      = 1007\n\n    //code=2000...文章模块错误\n\n    //code=3000...分类模块错误\n\n    // 等等\n)\n\n\nvar codeMsg = map[int]string{\n    SUCCESS:               \"OK\",\n    ERROR:                 \"FAIL\",\n    ERROR_USERNAME_USED:   \"该用户名已存在\",\n    ERROR_PASSWORD_WRONG:  \"密码错误\",\n    ERROR_USER_NOT_EXIST:  \"用户不存在\",\n    ERROR_TOKEN_NOT_EXIST: \"token不存在\",\n    ERROR_TOKEN_OUT_TIME:  \"token已过期\",\n    ERROR_TOKEN_WRONG:     \"token错误\",\n    ERROR_TYPE_WRONG:      \" token格式错误\",\n}\n\n// GetErrMsg 根据状态码获取对应的信息信息\nfunc GetErrMsg(code int) string {\n    return codeMsg[code]\n}\n"}]}]},{"type":"element","tag":"h1","props":{"id":"路由接口"},"children":[{"type":"text","value":"路由接口"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在 api/v1 创建控制数据模型的接口 user.go、article.go、category.go，以及控制登录的接口 login.go\n以用户模块为例"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"//查询用户是否存在\nfunc UserExist(ctx *gin.Context) {\n\n}\n//查询用户\n//查询用户列表\nfunc GetUsers(ctx *gin.Context) {\n\n}\n//添加用户\nfunc AddUser(ctx *gin.Context) {\n\n}\n//编辑用户\nfunc EditUser(ctx *gin.Context) {\n\n}\n//删除用户\nfunc DeleteUser(ctx *gin.Context) {\n\n}\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"//查询用户是否存在\nfunc UserExist(ctx *gin.Context) {\n\n}\n//查询用户\n//查询用户列表\nfunc GetUsers(ctx *gin.Context) {\n\n}\n//添加用户\nfunc AddUser(ctx *gin.Context) {\n\n}\n//编辑用户\nfunc EditUser(ctx *gin.Context) {\n\n}\n//删除用户\nfunc DeleteUser(ctx *gin.Context) {\n\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在 routes/routes.go 的 v1 路由组中创建路由接口"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"router := r.Group(\"api/v1\")\n    {\n        // User 用户模块路由接口\n        router.POST(\"user/add\", v1.AddUser)\n        router.GET(\"users\", v1.GetUsers)\n        router.PUT(\"user/:id\", v1.EditUser)\n        router.DELETE(\"user/:id\", v1.DeleteUser)\n\n        // 其他模块路由接口\n\n        // 其他模块路由接口\n    }\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"router := r.Group(\"api/v1\")\n    {\n        // User 用户模块路由接口\n        router.POST(\"user/add\", v1.AddUser)\n        router.GET(\"users\", v1.GetUsers)\n        router.PUT(\"user/:id\", v1.EditUser)\n        router.DELETE(\"user/:id\", v1.DeleteUser)\n\n        // 其他模块路由接口\n\n        // 其他模块路由接口\n    }\n"}]}]},{"type":"element","tag":"h1","props":{"id":"主函数"},"children":[{"type":"text","value":"主函数"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"package main\n\nimport (\n    \"fmt\"\n    \"net/http\"\n\n    \"web_app/dao/mysql\"\n    \"web_app/dao/redis\"\n    \"web_app/logger\"\n    \"web_app/pkg/snowflake\"\n    \"web_app/routes\"\n    \"web_app/settings\"\n\n    // \"web_app/pkg/snowflake\"\n\n    \"context\"\n\n    \"github.com/spf13/viper\"\n    \"go.uber.org/zap\"\n\n    \"os\"\n    \"os/signal\"\n    \"syscall\"\n    \"time\"\n    // \"github.com/gin-gonic/gin\"\n)\n\n// Go Web 开发通用脚手架模板\n\nfunc main() {\n    // 1. 加载配置\n    if err := settings.Init(); err != nil {\n        fmt.Println(\"settings.Init() 加载配置失败:\", err)\n        return\n    }\n    // 2. 初始化日志\n    if err := logger.Init(); err != nil {\n        fmt.Println(\"logger.Init() 初始化日志失败:\", err)\n        return\n    }\n    // 延迟日志\n    defer zap.L().Sync()\n    zap.L().Debug(\"logger init success ...\")\n    // 3. 初始化 MySQL 连接\n    if err := mysql.Init(); err != nil {\n        fmt.Println(\"mysql.Init() 初始化mysql数据库失败:\", err)\n        return\n    }\n    defer mysql.Close()\n\n    // 4. 初始化 Redis 连接\n    if err := redis.Init(); err != nil {\n        fmt.Println(\"redis.Init() 初始化redis数据库失败:\", err)\n        return\n    }\n    defer redis.Close()\n\n    // 5. 注册路由\n    r := routes.Setup()\n    // 6. 启动服务 （优雅关机）\n\n    srv := &http.Server{\n        Addr:    fmt.Sprintf(\":%d\", viper.GetInt(\"app.port\")),\n        Handler: r,\n    }\n\n    go func() {\n        // 开启一个goroutine启动服务\n        if err := srv.ListenAndServe(); err != nil && err != http.ErrServerClosed {\n            zap.L().Fatal(\"listen: %s\\n\", zap.Error(err))\n        }\n    }()\n\n    // 等待中断信号来优雅地关闭服务器，为关闭服务器操作设置一个5秒的超时\n    quit := make(chan os.Signal, 1) // 创建一个接收信号的通道\n    signal.Notify(quit, syscall.SIGINT, syscall.SIGTERM) // 此处不会阻塞\n    <-quit                                               // 阻塞在此，当接收到上述两种信号时才会往下执行\n    zap.L().Info(\"Shutdown Server ...\")\n    // 创建一个5秒超时的context\n    ctx, cancel := context.WithTimeout(context.Background(), 5*time.Second)\n    defer cancel()\n    // 5秒内优雅关闭服务（将未处理完的请求处理完再关闭服务），超过5秒就超时退出\n    if err := srv.Shutdown(ctx); err != nil {\n        zap.L().Fatal(\"Server Shutdown: \", zap.Error(err))\n    }\n\n    zap.L().Info(\"Server exiting\")\n}\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"package main\n\nimport (\n    \"fmt\"\n    \"net/http\"\n\n    \"web_app/dao/mysql\"\n    \"web_app/dao/redis\"\n    \"web_app/logger\"\n    \"web_app/pkg/snowflake\"\n    \"web_app/routes\"\n    \"web_app/settings\"\n\n    // \"web_app/pkg/snowflake\"\n\n    \"context\"\n\n    \"github.com/spf13/viper\"\n    \"go.uber.org/zap\"\n\n    \"os\"\n    \"os/signal\"\n    \"syscall\"\n    \"time\"\n    // \"github.com/gin-gonic/gin\"\n)\n\n// Go Web 开发通用脚手架模板\n\nfunc main() {\n    // 1. 加载配置\n    if err := settings.Init(); err != nil {\n        fmt.Println(\"settings.Init() 加载配置失败:\", err)\n        return\n    }\n    // 2. 初始化日志\n    if err := logger.Init(); err != nil {\n        fmt.Println(\"logger.Init() 初始化日志失败:\", err)\n        return\n    }\n    // 延迟日志\n    defer zap.L().Sync()\n    zap.L().Debug(\"logger init success ...\")\n    // 3. 初始化 MySQL 连接\n    if err := mysql.Init(); err != nil {\n        fmt.Println(\"mysql.Init() 初始化mysql数据库失败:\", err)\n        return\n    }\n    defer mysql.Close()\n\n    // 4. 初始化 Redis 连接\n    if err := redis.Init(); err != nil {\n        fmt.Println(\"redis.Init() 初始化redis数据库失败:\", err)\n        return\n    }\n    defer redis.Close()\n\n    // 5. 注册路由\n    r := routes.Setup()\n    // 6. 启动服务 （优雅关机）\n\n    srv := &http.Server{\n        Addr:    fmt.Sprintf(\":%d\", viper.GetInt(\"app.port\")),\n        Handler: r,\n    }\n\n    go func() {\n        // 开启一个goroutine启动服务\n        if err := srv.ListenAndServe(); err != nil && err != http.ErrServerClosed {\n            zap.L().Fatal(\"listen: %s\\n\", zap.Error(err))\n        }\n    }()\n\n    // 等待中断信号来优雅地关闭服务器，为关闭服务器操作设置一个5秒的超时\n    quit := make(chan os.Signal, 1) // 创建一个接收信号的通道\n    signal.Notify(quit, syscall.SIGINT, syscall.SIGTERM) // 此处不会阻塞\n    <-quit                                               // 阻塞在此，当接收到上述两种信号时才会往下执行\n    zap.L().Info(\"Shutdown Server ...\")\n    // 创建一个5秒超时的context\n    ctx, cancel := context.WithTimeout(context.Background(), 5*time.Second)\n    defer cancel()\n    // 5秒内优雅关闭服务（将未处理完的请求处理完再关闭服务），超过5秒就超时退出\n    if err := srv.Shutdown(ctx); err != nil {\n        zap.L().Fatal(\"Server Shutdown: \", zap.Error(err))\n    }\n\n    zap.L().Info(\"Server exiting\")\n}\n"}]}]}],"toc":{"title":"","searchDepth":2,"depth":3,"links":[]}},"_type":"markdown","_id":"content:essay:38.go项目框架及规范.md","_source":"content","_file":"essay/38.go项目框架及规范.md","_stem":"essay/38.go项目框架及规范","_extension":"md"},{"_path":"/essay/37.常用工具","_dir":"","_draft":false,"_partial":false,"_locale":"","title":"常用工具","description":"各种各样的东西","subtitle":"一般的な工具","index":37,"tag":"杂谈","tag_en":"RAMBLE","date":"2023-04-17 08:47:26","lunar_date":"闰二廿七","year":2023,"month":"04","month_en":"Apr","day":"17","cover":"/img/rabbit/037.jpg","body":{"type":"root","children":[{"type":"element","tag":"h2","props":{"id":"数据库"},"children":[{"type":"text","value":"数据库"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"数据库连接"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\nNavicat"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\nDBeaver"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"数据库设计"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\npowerDesigne  上世纪的ui，换一个吧"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\npdmaner"}]},{"type":"element","tag":"h2","props":{"id":"编辑器"},"children":[{"type":"text","value":"编辑器"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"vscode 永远滴神 go、rust、python等等java和c系列也能配置\nIDEA java专用"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\nvisual studio c系列语言专用"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\npycharm python专用"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\ngoland go专用"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\nvim 需要配置，vim操作不好用"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\nneovim 现代化的vim"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\nhelix 比较新的东西，没试过，类似于vim"}]},{"type":"element","tag":"h2","props":{"id":"虚拟机"},"children":[{"type":"text","value":"虚拟机"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"vmware"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\nvirtual box"}]},{"type":"element","tag":"h2","props":{"id":"linux"},"children":[{"type":"text","value":"linux"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"ArchLinux 从零配置，滚动更新"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\nmanjaro 基于arch的，不过已经是两种东西了"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\ndebian 应该是最稳定的"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\nubuntu 基于debian的，比较稳定，已配好基本配置"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\nkali 安全渗透"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\nredhat 商业稳定版"}]},{"type":"element","tag":"h2","props":{"id":"接口测试"},"children":[{"type":"text","value":"接口测试"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"postman"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\napipost 本人用这个\napifox"}]},{"type":"element","tag":"h2","props":{"id":"博客建站"},"children":[{"type":"text","value":"博客建站"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"之前是"}]},{"type":"element","tag":"h3","props":{"id":"静态"},"children":[{"type":"text","value":"静态"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"hexo  感觉是国内生态最丰富的，推荐butterfly和Next主题，模板引擎编写"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\nvuepress  基于vue，vuepress2是基于vue3,1是vue2的，官网文档不太好用，推荐hope与reco主题"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\nhugo   go模板编写，推荐docsify（因为不知道为什么少了个依赖最后放弃了）"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\ndocusaurus  推荐前端华峰工程师的主题（虽然我试的时候似乎因为node版本过高出现问题）"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\ngatsby 外国很多，国内没什么人用"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\naurora  蝉时雨大佬用vue做的，大佬还用react做了另一个好看的"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\nmkdocs python编写的，作为知识库很不错\nnuxt、next、sveltekit 分别为vue、react、svelte的全能框架，动态静态均可。"}]},{"type":"element","tag":"h3","props":{"id":"动态"},"children":[{"type":"text","value":"动态"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"WordPress 主题丰富\ntypecho 主题丰富"}]},{"type":"element","tag":"h2","props":{"id":"容器化"},"children":[{"type":"text","value":"容器化"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"docker"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\nK8S"}]},{"type":"element","tag":"h2","props":{"id":"画图"},"children":[{"type":"text","value":"画图"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"draw.io\naxure"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\nfigma"}]},{"type":"element","tag":"h2","props":{"id":"小工具"},"children":[{"type":"text","value":"小工具"}]},{"type":"element","tag":"h3","props":{"id":"本地文件搜索"},"children":[{"type":"text","value":"本地文件搜索"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"everything"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\nfilelocator pro"}]},{"type":"element","tag":"h3","props":{"id":"磁盘查看"},"children":[{"type":"text","value":"磁盘查看"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"WizTree"}]},{"type":"element","tag":"h3","props":{"id":"截图"},"children":[{"type":"text","value":"截图"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"snipaste"}]},{"type":"element","tag":"h3","props":{"id":"文件对比"},"children":[{"type":"text","value":"文件对比"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"BCompare"}]},{"type":"element","tag":"h2","props":{"id":"抓包"},"children":[{"type":"text","value":"抓包"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"wireshark"}]},{"type":"element","tag":"h2","props":{"id":"_16进制的编辑软件"},"children":[{"type":"text","value":"16进制的编辑软件"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"winhex"}]},{"type":"element","tag":"h2","props":{"id":"桌面美化"},"children":[{"type":"text","value":"桌面美化"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"window  SIO，基于qt,并非真正的桌面"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\nlinux  kde、i3、xfce、gone等等"}]}],"toc":{"title":"","searchDepth":2,"depth":3,"links":[{"id":"数据库","depth":2,"text":"数据库"},{"id":"编辑器","depth":2,"text":"编辑器"},{"id":"虚拟机","depth":2,"text":"虚拟机"},{"id":"linux","depth":2,"text":"linux"},{"id":"接口测试","depth":2,"text":"接口测试"},{"id":"博客建站","depth":2,"text":"博客建站","children":[{"id":"静态","depth":3,"text":"静态"},{"id":"动态","depth":3,"text":"动态"}]},{"id":"容器化","depth":2,"text":"容器化"},{"id":"画图","depth":2,"text":"画图"},{"id":"小工具","depth":2,"text":"小工具","children":[{"id":"本地文件搜索","depth":3,"text":"本地文件搜索"},{"id":"磁盘查看","depth":3,"text":"磁盘查看"},{"id":"截图","depth":3,"text":"截图"},{"id":"文件对比","depth":3,"text":"文件对比"}]},{"id":"抓包","depth":2,"text":"抓包"},{"id":"_16进制的编辑软件","depth":2,"text":"16进制的编辑软件"},{"id":"桌面美化","depth":2,"text":"桌面美化"}]}},"_type":"markdown","_id":"content:essay:37.常用工具.md","_source":"content","_file":"essay/37.常用工具.md","_stem":"essay/37.常用工具","_extension":"md"},{"_path":"/essay/36.vue-router","_dir":"essay","_draft":false,"_partial":false,"_locale":"","title":"vue-router","description":"","subtitle":"vue-router","index":36,"date":"2023-04-16","lunar_date":"闰二廿六","year":"2023","month":"04","month_en":"Apr","day":"16","tag":"技术","tag_en":"TECH","cover":"/img/rabbit/036.jpg","categories":"vue","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"项目创建"},"children":[{"type":"text","value":"项目创建"}]},{"type":"element","tag":"pre","props":{"className":["language-bash"],"code":"npm create vite@latest\n# 项目命名为 sidebar\ncd sidebar\nnpm i\nnpm run dev\n","language":"bash","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"npm create vite@latest\n# 项目命名为 sidebar\ncd sidebar\nnpm i\nnpm run dev\n"}]}]},{"type":"element","tag":"h1","props":{"id":"资源准备"},"children":[{"type":"text","value":"资源准备"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"图标与字体，在index.html中head标签中引用"}]},{"type":"element","tag":"pre","props":{"className":["language-html"],"code":"<link\n    href=\"https://fonts.googleapis.com/css2?family=Material+Icons\"\n    rel=\"stylesheet\"\n/>\n        \n<link \n    rel=\"preconnect\" \n    href=\"https://fonts.googleapis.com\" \n/>\n<link \n    rel=\"preconnect\" \n    href=\"https://fonts.gstatic.com\" \n    crossorigin \n/>\n<link\n    href=\"https://fonts.googleapis.com/css2?family=Fira+Sans:wght@100&display=swap\"\n    rel=\"stylesheet\"\n/>\n","language":"html","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"<link\n    href=\"https://fonts.googleapis.com/css2?family=Material+Icons\"\n    rel=\"stylesheet\"\n/>\n        \n<link \n    rel=\"preconnect\" \n    href=\"https://fonts.googleapis.com\" \n/>\n<link \n    rel=\"preconnect\" \n    href=\"https://fonts.gstatic.com\" \n    crossorigin \n/>\n<link\n    href=\"https://fonts.googleapis.com/css2?family=Fira+Sans:wght@100&display=swap\"\n    rel=\"stylesheet\"\n/>\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"sass"}]},{"type":"element","tag":"pre","props":{"className":["language-bash"],"code":"npm add -D sass\n","language":"bash","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"npm add -D sass\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"vue-router"}]},{"type":"element","tag":"pre","props":{"className":["language-bash"],"code":"npm i vue-router\n","language":"bash","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"npm i vue-router\n"}]}]},{"type":"element","tag":"h1","props":{"id":"路由配置"},"children":[{"type":"text","value":"路由配置"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"以下都是在src文件夹下:\nsrc/views/Home.vue"}]},{"type":"element","tag":"pre","props":{"className":["language-html"],"code":"<template>\n    <main class=\"home-page\">\n        <h1>Home</h1>\n        <p>This is Home page</p>\n    </main>\n</template>\n","language":"html","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"<template>\n    <main class=\"home-page\">\n        <h1>Home</h1>\n        <p>This is Home page</p>\n    </main>\n</template>\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"src/views/About.vue类似"}]},{"type":"element","tag":"pre","props":{"className":["language-html"],"code":"<template>\n    <main class=\"about-page\">\n        <h1>About</h1>\n        <p>This is About page</p>\n    </main>\n</template>\n","language":"html","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"<template>\n    <main class=\"about-page\">\n        <h1>About</h1>\n        <p>This is About page</p>\n    </main>\n</template>\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"src/main.js"}]},{"type":"element","tag":"pre","props":{"className":["language-js"],"code":"import { createApp } from 'vue'\n// import './style.css'\nimport App from './App.vue'\nimport { createRouter,createWebHistory } from 'vue-router'\nimport Home from './views/Home.vue'\nimport About from './views/About.vue'\n\nconst router=createRouter({\n    history: createWebHistory(),\n    routes: [\n        {\n            path:'/',\n            component: Home,\n        },\n        {\n            path:'/about',\n            component: About,\n        }\n    ]\n})\n\ncreateApp(App).use(router).mount('#app')\n","language":"js","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"import { createApp } from 'vue'\n// import './style.css'\nimport App from './App.vue'\nimport { createRouter,createWebHistory } from 'vue-router'\nimport Home from './views/Home.vue'\nimport About from './views/About.vue'\n\nconst router=createRouter({\n    history: createWebHistory(),\n    routes: [\n        {\n            path:'/',\n            component: Home,\n        },\n        {\n            path:'/about',\n            component: About,\n        }\n    ]\n})\n\ncreateApp(App).use(router).mount('#app')\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"src/App.vue"}]},{"type":"element","tag":"pre","props":{"className":["language-html"],"code":"<script setup>\n\n</script>\n\n<template>\n  <div class=\"app\">\n    <router-view/>\n  </div>\n</template>\n\n<style lang=\"scss\">\n\n</style>\n","language":"html","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"<script setup>\n\n</script>\n\n<template>\n  <div class=\"app\">\n    <router-view/>\n  </div>\n</template>\n\n<style lang=\"scss\">\n\n</style>\n"}]}]},{"type":"element","tag":"h1","props":{"id":"将路由配置独立出来"},"children":[{"type":"text","value":"将路由配置独立出来"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"新建文件夹src/router\n将原来main.js有关router的代码移动到"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"src/router/index.js"}]},{"type":"text","value":"，注"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"import"}]},{"type":"text","value":"时文件层级会发生变化;\n该文件导出模块命名为router: "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"export default router"}]}]},{"type":"element","tag":"pre","props":{"className":["language-js"],"code":"import { createRouter,createWebHistory } from 'vue-router'\nimport Home from '../views/Home.vue'\nimport About from '../views/About.vue'\n\nconst router=createRouter({\n    history: createWebHistory(),\n    routes: [\n        {\n            path:'/',\n            component: Home,\n        },\n        {\n            path:'/about',\n            component: About,\n        }\n    ]\n})\n\nexport default router\n","language":"js","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"import { createRouter,createWebHistory } from 'vue-router'\nimport Home from '../views/Home.vue'\nimport About from '../views/About.vue'\n\nconst router=createRouter({\n    history: createWebHistory(),\n    routes: [\n        {\n            path:'/',\n            component: Home,\n        },\n        {\n            path:'/about',\n            component: About,\n        }\n    ]\n})\n\nexport default router\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在main.js中引用"}]},{"type":"element","tag":"pre","props":{"className":["language-js"],"code":"import { createApp } from 'vue'\n// import './style.css'\nimport App from './App.vue'\nimport router from './router'\n\ncreateApp(App).use(router).mount('#app')\n","language":"js","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"import { createApp } from 'vue'\n// import './style.css'\nimport App from './App.vue'\nimport router from './router'\n\ncreateApp(App).use(router).mount('#app')\n"}]}]},{"type":"element","tag":"h1","props":{"id":"侧边栏准备"},"children":[{"type":"text","value":"侧边栏准备"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"src/components/Sidebar.vue"}]},{"type":"element","tag":"pre","props":{"className":["language-html"],"code":"<template>\n    <aside>\n        Sidebar\n    </aside>\n</template>\n\n<script setup>\n\n</script>\n\n<style lang=\"scss\" scoped>\n\n</style>\n","language":"html","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"<template>\n    <aside>\n        Sidebar\n    </aside>\n</template>\n\n<script setup>\n\n</script>\n\n<style lang=\"scss\" scoped>\n\n</style>\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"src/App.vue"}]},{"type":"element","tag":"pre","props":{"className":["language-html"],"code":"<script setup>\nimport Sidebar from './components/Sidebar.vue';\n</script>\n\n<template>\n    <div class=\"app\">\n        <Sidebar />\n        <router-view />\n    </div>\n</template>\n\n<style lang=\"scss\">\n:root {\n    --primary: #4ade80;\n    --grey: #64748b;\n    --dark: #1e293b;\n    --dark-alt: #334155;\n    --light: #f1f5f9;\n    --sidebar-width: 300px;\n}\n\n* {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n    font-family: 'Fira sans', sans-serif;\n}\n\nbody {\n    background: var(--light);\n}\n\nbutton {\n    cursor: pointer;\n    appearance: none;\n    border: none;\n    outline: none;\n    background: none;\n}\n\n.app{\n    display: flex;\n    main{\n        flex: 1 1 0;\n        padding: 2rem;\n\n        @media (max-width: 768px) {\n            padding-left: 6rem;\n        }\n    }\n}\n</style>\n","language":"html","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"<script setup>\nimport Sidebar from './components/Sidebar.vue';\n</script>\n\n<template>\n    <div class=\"app\">\n        <Sidebar />\n        <router-view />\n    </div>\n</template>\n\n<style lang=\"scss\">\n:root {\n    --primary: #4ade80;\n    --grey: #64748b;\n    --dark: #1e293b;\n    --dark-alt: #334155;\n    --light: #f1f5f9;\n    --sidebar-width: 300px;\n}\n\n* {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n    font-family: 'Fira sans', sans-serif;\n}\n\nbody {\n    background: var(--light);\n}\n\nbutton {\n    cursor: pointer;\n    appearance: none;\n    border: none;\n    outline: none;\n    background: none;\n}\n\n.app{\n    display: flex;\n    main{\n        flex: 1 1 0;\n        padding: 2rem;\n\n        @media (max-width: 768px) {\n            padding-left: 6rem;\n        }\n    }\n}\n</style>\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"主要是写整体的css样式排版，我也不是很懂\n接下来重点在src/components/Sidebar.vue上"}]},{"type":"element","tag":"h1","props":{"id":"侧边导航栏"},"children":[{"type":"text","value":"侧边导航栏"}]},{"type":"element","tag":"pre","props":{"className":["language-html"],"code":"<div class=\"menu\">\n    <router-link class=\"button\" to=\"/\">\n        <span class=\"material-icons\">home</span>\n        <span class=\"text\">Home</span>\n    </router-link>\n    <router-link class=\"button\" to=\"/about\">\n        <span class=\"material-icons\">description</span>\n        <span class=\"text\">About</span>\n    </router-link>\n</div>\n","language":"html","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"<div class=\"menu\">\n    <router-link class=\"button\" to=\"/\">\n        <span class=\"material-icons\">home</span>\n        <span class=\"text\">Home</span>\n    </router-link>\n    <router-link class=\"button\" to=\"/about\">\n        <span class=\"material-icons\">description</span>\n        <span class=\"text\">About</span>\n    </router-link>\n</div>\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"css代码有点麻烦，忽略，只了解router-link即可"}]},{"type":"element","tag":"h1","props":{"id":"sidebar代码"},"children":[{"type":"text","value":"Sidebar代码"}]},{"type":"element","tag":"pre","props":{"className":["language-html"],"code":"<template>\n    <!-- 当is_expanded为true时，添加类名为'is_expanded'的样式 -->\n    <aside :class=\"`${is_expanded&&'is_expanded'}`\">\n        <div class=\"logo\">\n            <img src=\"../assets/vue.svg\" alt=\"vue\"/>\n        </div>\n        \n        <div class=\"menu-toggle-wrap\">\n            <button class=\"menu-toggle\" @click=\"ToggleMenu\">\n                <span class=\"material-icons\">keyboard_double_arrow_right</span>\n            </button>\n        </div>\n\n        <h3>Menu</h3>\n        <div class=\"menu\">\n            <router-link class=\"button\" to=\"/\">\n                <span class=\"material-icons\">home</span>\n                <span class=\"text\">Home</span>\n            </router-link>\n\n            <router-link class=\"button\" to=\"/about\">\n                <span class=\"material-icons\">description</span>\n                <span class=\"text\">About</span>\n            </router-link>\n        </div>\n\n    </aside>\n</template>\n\n<script setup>\nimport { ref } from 'vue';\nimport { RouterLink } from 'vue-router';\n\nconst is_expanded=ref(false)\nconst ToggleMenu=()=>{\n    is_expanded.value=!is_expanded.value\n}\n\n</script>\n\n<style lang=\"scss\" scoped>\naside{\n    display: flex;\n    flex-direction: column;\n\n    background-color: var(--dark);\n    color: var(--light);\n    width: calc(2rem + 32px);\n    overflow: hidden;\n    min-height: 100vh;\n    padding: 1rem;\n    transition: 0.2s ease-out;\n\n    .logo{\n        margin-bottom: 1rem;\n        img{\n            width: 2rem;\n        }\n    }\n\n    .menu-toggle-wrap{\n        display: flex;\n        justify-content: flex-end;\n        margin-bottom: 1rem;\n        \n        position: relative;\n        top: 0;\n        transition: 0.2s ease-out;\n\n        .menu-toggle{\n            transition: 0.2s ease-out;\n            .material-icons{\n                font-size: 2rem;\n                color: var(--light);\n                transition: 0.2s ease-out;\n            }\n\n            &:hover{\n                .material-icons{\n                    \n                    color: var(--primary);\n                    transform: translateX(0.5rem);\n                }\n            }\n        }\n    }\n\n    h3, .button .text{\n        opacity: 1;\n        transition: 0.3s ease-out;\n    }\n\n    .menu{\n        margin: 0 -1rem;\n\n        .button{\n            display: flex;\n            align-items: center;\n            text-decoration: none;\n\n            padding: 0.5rem 1rem;\n            transition: 0.2s ease-out;\n        }\n\n        .material-icons{\n            font-size: 2rem;\n            color: var(--light);\n            transition: 0.2s ease-out;\n        }\n\n        .text{\n            color: var(--light);\n            transition: 0.2s ease-out;\n        }\n\n        &:hover{\n            background-color: var(--dark-alt);\n\n            \n                \n        \n        }\n\n        \n    }\n    &.is_expanded{\n        width: var(--sidebar-width);\n\n        .menu-toggle-wrap{\n            top: -3rem;\n            .menu-toggle{\n                transform: rotate(-180deg);\n            }\n        }\n    }\n\n    @media (max-width: 768px) {\n        position: fixed;\n        z-index: 99;\n    }\n}\n</style>\n","language":"html","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"<template>\n    <!-- 当is_expanded为true时，添加类名为'is_expanded'的样式 -->\n    <aside :class=\"`${is_expanded&&'is_expanded'}`\">\n        <div class=\"logo\">\n            <img src=\"../assets/vue.svg\" alt=\"vue\"/>\n        </div>\n        \n        <div class=\"menu-toggle-wrap\">\n            <button class=\"menu-toggle\" @click=\"ToggleMenu\">\n                <span class=\"material-icons\">keyboard_double_arrow_right</span>\n            </button>\n        </div>\n\n        <h3>Menu</h3>\n        <div class=\"menu\">\n            <router-link class=\"button\" to=\"/\">\n                <span class=\"material-icons\">home</span>\n                <span class=\"text\">Home</span>\n            </router-link>\n\n            <router-link class=\"button\" to=\"/about\">\n                <span class=\"material-icons\">description</span>\n                <span class=\"text\">About</span>\n            </router-link>\n        </div>\n\n    </aside>\n</template>\n\n<script setup>\nimport { ref } from 'vue';\nimport { RouterLink } from 'vue-router';\n\nconst is_expanded=ref(false)\nconst ToggleMenu=()=>{\n    is_expanded.value=!is_expanded.value\n}\n\n</script>\n\n<style lang=\"scss\" scoped>\naside{\n    display: flex;\n    flex-direction: column;\n\n    background-color: var(--dark);\n    color: var(--light);\n    width: calc(2rem + 32px);\n    overflow: hidden;\n    min-height: 100vh;\n    padding: 1rem;\n    transition: 0.2s ease-out;\n\n    .logo{\n        margin-bottom: 1rem;\n        img{\n            width: 2rem;\n        }\n    }\n\n    .menu-toggle-wrap{\n        display: flex;\n        justify-content: flex-end;\n        margin-bottom: 1rem;\n        \n        position: relative;\n        top: 0;\n        transition: 0.2s ease-out;\n\n        .menu-toggle{\n            transition: 0.2s ease-out;\n            .material-icons{\n                font-size: 2rem;\n                color: var(--light);\n                transition: 0.2s ease-out;\n            }\n\n            &:hover{\n                .material-icons{\n                    \n                    color: var(--primary);\n                    transform: translateX(0.5rem);\n                }\n            }\n        }\n    }\n\n    h3, .button .text{\n        opacity: 1;\n        transition: 0.3s ease-out;\n    }\n\n    .menu{\n        margin: 0 -1rem;\n\n        .button{\n            display: flex;\n            align-items: center;\n            text-decoration: none;\n\n            padding: 0.5rem 1rem;\n            transition: 0.2s ease-out;\n        }\n\n        .material-icons{\n            font-size: 2rem;\n            color: var(--light);\n            transition: 0.2s ease-out;\n        }\n\n        .text{\n            color: var(--light);\n            transition: 0.2s ease-out;\n        }\n\n        &:hover{\n            background-color: var(--dark-alt);\n\n            \n                \n        \n        }\n\n        \n    }\n    &.is_expanded{\n        width: var(--sidebar-width);\n\n        .menu-toggle-wrap{\n            top: -3rem;\n            .menu-toggle{\n                transform: rotate(-180deg);\n            }\n        }\n    }\n\n    @media (max-width: 768px) {\n        position: fixed;\n        z-index: 99;\n    }\n}\n</style>\n"}]}]}],"toc":{"title":"","searchDepth":2,"depth":3,"links":[]}},"_type":"markdown","_id":"content:essay:36.vue-router.md","_source":"content","_file":"essay/36.vue-router.md","_stem":"essay/36.vue-router","_extension":"md"},{"_path":"/essay/35.electron-vite","_dir":"essay","_draft":false,"_partial":false,"_locale":"","title":"electron-vite","description":"这应该是目前最简单的创建方法\nhttps://github.com/electron-vite/electron-vite-vue","subtitle":"electron-vite","index":35,"date":"2023-04-15","lunar_date":"闰二廿五","year":"2023","month":"04","month_en":"Apr","day":"15","tag":"技术","tag_en":"TECH","cover":"/img/rabbit/035.jpg","categories":"electron","body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"这应该是目前最简单的创建方法\n"},{"type":"element","tag":"a","props":{"href":"https://github.com/electron-vite/electron-vite-vue","rel":["nofollow"]},"children":[{"type":"text","value":"https://github.com/electron-vite/electron-vite-vue"}]}]},{"type":"element","tag":"pre","props":{"className":["language-bash"],"code":"npm create electron-vite\n# 假设项目名为myapp\ncd myapp\nnpm i\n","language":"bash","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"npm create electron-vite\n# 假设项目名为myapp\ncd myapp\nnpm i\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在根目录下创建.npmrc文件，设置镜像"}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"很重要，国内build打包必需。试错了好多个方法，这个是最简洁有效的\n"},{"type":"element","tag":"a","props":{"href":"https://segmentfault.com/a/1190000040356146","rel":["nofollow"]},"children":[{"type":"text","value":"https://segmentfault.com/a/1190000040356146"}]}]}]},{"type":"element","tag":"pre","props":{"className":["language-bash"],"code":"ELECTRON_MIRROR=https://npm.taobao.org/mirrors/electron/\nELECTRON_BUILDER_BINARIES_MIRROR=http://npm.taobao.org/mirrors/electron-builder-binaries/\n","language":"bash","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"ELECTRON_MIRROR=https://npm.taobao.org/mirrors/electron/\nELECTRON_BUILDER_BINARIES_MIRROR=http://npm.taobao.org/mirrors/electron-builder-binaries/\n"}]}]},{"type":"element","tag":"pre","props":{"className":["language-bash"],"code":"npm run dev # 调试\nnpm run build # 打包文件在 release文件夹下\n","language":"bash","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"npm run dev # 调试\nnpm run build # 打包文件在 release文件夹下\n"}]}]}],"toc":{"title":"","searchDepth":2,"depth":3,"links":[]}},"_type":"markdown","_id":"content:essay:35.electron-vite.md","_source":"content","_file":"essay/35.electron-vite.md","_stem":"essay/35.electron-vite","_extension":"md"},{"_path":"/essay/34.pyside6使用qt designer生成的文件","_dir":"essay","_draft":false,"_partial":false,"_locale":"","title":"pyside6使用qt designer生成的文件","description":"在文件所在目录执行","subtitle":"pyside6 and qt designer","index":34,"date":"2023-04-12","lunar_date":"闰二廿二","year":"2023","month":"04","month_en":"Apr","day":"12","tag":"技术","tag_en":"TECH","cover":"/img/rabbit/034.jpg","categories":"python","mathjax":true,"body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"转成python文件"},"children":[{"type":"text","value":"转成python文件"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在文件所在目录执行"}]},{"type":"element","tag":"pre","props":{"className":["language-bash"],"code":"# pyside6-uic <ui文件名> -o <生成的py文件名>\npyside6-uic computer.ui -o computer.py\n","language":"bash","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"# pyside6-uic <ui文件名> -o <生成的py文件名>\npyside6-uic computer.ui -o computer.py\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在vscode中配置好Qt for Python插件后，只需要在ui文件处右键选择 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Compile Qt UI File(uic)"}]},{"type":"text","value":" 即可转换"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"可以右键选择 Edit QT UI DILE(designer)，便捷地在qt designer里打开并编辑ui文件"}]},{"type":"element","tag":"h1","props":{"id":"使用生成的python文件"},"children":[{"type":"text","value":"使用生成的python文件"}]},{"type":"element","tag":"pre","props":{"className":["language-python"],"code":"from PySide6.QtWidgets import QApplication,QWidget\n# 从生成的python文件中导入，导入的名称要与文件中的类名一致\nfrom computer import Ui_Form\n\nclass MyWindow(QWidget):\n    def __init__(self):\n        super().__init__()\n\n        # 使用生成的 ui\n        self.ui=Ui_Form()\n        self.ui.setupUi(self)\n\nif __name__ == \"__main__\":\n    app=QApplication()\n    window=MyWindow()\n    window.show()\n    app.exec()\n","language":"python","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"from PySide6.QtWidgets import QApplication,QWidget\n# 从生成的python文件中导入，导入的名称要与文件中的类名一致\nfrom computer import Ui_Form\n\nclass MyWindow(QWidget):\n    def __init__(self):\n        super().__init__()\n\n        # 使用生成的 ui\n        self.ui=Ui_Form()\n        self.ui.setupUi(self)\n\nif __name__ == \"__main__\":\n    app=QApplication()\n    window=MyWindow()\n    window.show()\n    app.exec()\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"class的另一种多继承写法，更简洁:"}]},{"type":"element","tag":"pre","props":{"className":["language-python"],"code":"class MyWindow(QWidget,Ui_Form):\n    def __init__(self):\n        super().__init__()\n        self.setupUi(self)\n","language":"python","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"class MyWindow(QWidget,Ui_Form):\n    def __init__(self):\n        super().__init__()\n        self.setupUi(self)\n"}]}]}],"toc":{"title":"","searchDepth":2,"depth":3,"links":[]}},"_type":"markdown","_id":"content:essay:34.pyside6使用qt designer生成的文件.md","_source":"content","_file":"essay/34.pyside6使用qt designer生成的文件.md","_stem":"essay/34.pyside6使用qt designer生成的文件","_extension":"md"},{"_path":"/essay/33.pyside6环境搭建及快速入门","_dir":"essay","_draft":false,"_partial":false,"_locale":"","title":"pyside6环境搭建及快速入门","description":"在此之前，你应该保证已经安装好python了","subtitle":"pyside6 quick guide","index":33,"date":"2023-04-11","lunar_date":"闰二廿一","year":"2023","month":"04","month_en":"Apr","day":"11","tag":"技术","tag_en":"TECH","cover":"/img/rabbit/033.jpg","categories":"python","mathjax":true,"body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在此之前，你应该保证已经安装好python了"}]},{"type":"element","tag":"h1","props":{"id":"pyside6"},"children":[{"type":"text","value":"pyside6"}]},{"type":"element","tag":"pre","props":{"className":["language-py"],"code":"pip install pyside6\n","language":"py","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"pip install pyside6\n"}]}]},{"type":"element","tag":"h1","props":{"id":"vscode"},"children":[{"type":"text","value":"vscode"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"插件 : Qt for Python"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"设置-扩展-Qt for Python :\n"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"designer path"}]},{"type":"text","value":": D:\\anaconda3\\Lib\\site-packages\\PySide6\\designer.exe\n"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"rcc path"}]},{"type":"text","value":": D:\\anaconda3\\Scripts\\pyside6-rcc.exe\n"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"uic path"}]},{"type":"text","value":": D:\\anaconda3\\Scripts\\pyside6-uic.exe"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"(因为我这个环境是有用anaconda的，选择pip install的位置(以上我的安装路径为D:\\anaconda3)即可,)"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"也可以直接在setting.json里直接编辑:"}]},{"type":"element","tag":"pre","props":{"className":["language-json"],"code":"\"qtForPython.designer.path\": \"D:\\\\anaconda3\\\\Lib\\\\site-packages\\\\PySide6\\\\designer.exe\",\n\"qtForPython.rcc.path\": \"D:\\\\anaconda3\\\\Scripts\\\\pyside6-rcc.exe\",\n\"qtForPython.uic.path\": \"D:\\\\anaconda3\\\\Scripts\\\\pyside6-uic.exe\",\n","language":"json","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"\"qtForPython.designer.path\": \"D:\\\\anaconda3\\\\Lib\\\\site-packages\\\\PySide6\\\\designer.exe\",\n\"qtForPython.rcc.path\": \"D:\\\\anaconda3\\\\Scripts\\\\pyside6-rcc.exe\",\n\"qtForPython.uic.path\": \"D:\\\\anaconda3\\\\Scripts\\\\pyside6-uic.exe\",\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在vscode中的左侧导航栏右键选择Create Qt UI File(designer),可以打开qt designer"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"设置-扩展-Python:设置自动补全的额外路径"}]},{"type":"element","tag":"pre","props":{"className":["language-json"],"code":"\"python.analysis.extraPaths\": [\n        \"D:\\\\anaconda3\\\\Lib\\\\site-packages\",\n        \"D:\\\\anaconda3\\\\Scripts\"\n    ],\n","language":"json","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"\"python.analysis.extraPaths\": [\n        \"D:\\\\anaconda3\\\\Lib\\\\site-packages\",\n        \"D:\\\\anaconda3\\\\Scripts\"\n    ],\n"}]}]},{"type":"element","tag":"h1","props":{"id":"最简可运行代码"},"children":[{"type":"text","value":"最简可运行代码"}]},{"type":"element","tag":"pre","props":{"className":["language-py"],"code":"# 导入包\nfrom PySide6.QtWidgets import QApplication, QWidget\n# sys 包仅用于访问命令行参数，图形化界面一般用不上\nimport sys\n\n# 每个应用程序只需要一个 QApplication 实例\n# 传入 sys.argv 以允许应用程序使用命令行参数(也可以忽略，图形化界面一般用不上)\napp = QApplication(sys.argv)\n\n# 创建一个 Qt 部件, 作为我们的窗口.\nwindow = QWidget()\n\n# 显示窗口，窗口默认是隐藏的\nwindow.show()  \n\n# 启动事件循环\napp.exec_()\n\n# 当退出程序后事件结束，程序结束\n\n","language":"py","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"# 导入包\nfrom PySide6.QtWidgets import QApplication, QWidget\n# sys 包仅用于访问命令行参数，图形化界面一般用不上\nimport sys\n\n# 每个应用程序只需要一个 QApplication 实例\n# 传入 sys.argv 以允许应用程序使用命令行参数(也可以忽略，图形化界面一般用不上)\napp = QApplication(sys.argv)\n\n# 创建一个 Qt 部件, 作为我们的窗口.\nwindow = QWidget()\n\n# 显示窗口，窗口默认是隐藏的\nwindow.show()  \n\n# 启动事件循环\napp.exec_()\n\n# 当退出程序后事件结束，程序结束\n\n"}]}]},{"type":"element","tag":"h1","props":{"id":"自定义窗口以及信号槽"},"children":[{"type":"text","value":"自定义窗口以及信号、槽"}]},{"type":"element","tag":"pre","props":{"className":["language-py"],"code":"from PySide6.QtWidgets import QApplication, QMainWindow, QPushButton,QLabel\n\n# 创建QMainWindow的子类，以自定义窗口\nclass MainWindow(QMainWindow):\n    def __init__(self):\n        super().__init__()\n        # 设置窗口标题\n        self.setWindowTitle(\"My App\")\n\n        # 按钮控件\n        button = QPushButton(\"点我点我\",self)\n        # 接着就可以设置这个控件的属性\n        button.setGeometry(0,0,200,200)\n        button.setToolTip(\"这是一个按钮\")\n        button.setText(\"我被点了\")\n        \n        # 点击按钮的信号\n        button.clicked.connect(self.hello)\n\n        # 同理，标签控件\n        label = QLabel(\"welcome\",self)\n        label.setGeometry(200,200,300,300)\n        label.setText(\"什么\")\n\n    # 接收点击按钮的信号(槽，即接收的函数)\n    def hello(self):\n        print(\"Hello\")\n        \nif __name__==\"__main__\":\n    app = QApplication()\n\n    window = MainWindow()\n    window.show()\n\n    app.exec()\n","language":"py","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"from PySide6.QtWidgets import QApplication, QMainWindow, QPushButton,QLabel\n\n# 创建QMainWindow的子类，以自定义窗口\nclass MainWindow(QMainWindow):\n    def __init__(self):\n        super().__init__()\n        # 设置窗口标题\n        self.setWindowTitle(\"My App\")\n\n        # 按钮控件\n        button = QPushButton(\"点我点我\",self)\n        # 接着就可以设置这个控件的属性\n        button.setGeometry(0,0,200,200)\n        button.setToolTip(\"这是一个按钮\")\n        button.setText(\"我被点了\")\n        \n        # 点击按钮的信号\n        button.clicked.connect(self.hello)\n\n        # 同理，标签控件\n        label = QLabel(\"welcome\",self)\n        label.setGeometry(200,200,300,300)\n        label.setText(\"什么\")\n\n    # 接收点击按钮的信号(槽，即接收的函数)\n    def hello(self):\n        print(\"Hello\")\n        \nif __name__==\"__main__\":\n    app = QApplication()\n\n    window = MainWindow()\n    window.show()\n\n    app.exec()\n"}]}]}],"toc":{"title":"","searchDepth":2,"depth":3,"links":[]}},"_type":"markdown","_id":"content:essay:33.pyside6环境搭建及快速入门.md","_source":"content","_file":"essay/33.pyside6环境搭建及快速入门.md","_stem":"essay/33.pyside6环境搭建及快速入门","_extension":"md"},{"_path":"/essay/32.(翻译)半小时学习rust","_dir":"essay","_draft":false,"_partial":false,"_locale":"","title":"（翻译）半小时学习rust","description":"https://fasterthanli.me/articles/a-half-hour-to-learn-rust\n本文为粗略的翻译\n为了提高编程语言的熟练度，就必须要大量阅读有关资料。但是，如果你不知道它的意思，你怎么能大量阅读呢？","subtitle":"A half-hour to learn Rust","index":32,"date":"2023-04-10","lunar_date":"闰二二十","year":"2023","month":"04","month_en":"Apr","day":"10","tag":"技术","tag_en":"TECH","cover":"/img/rabbit/032.jpg","categories":"rust","body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://fasterthanli.me/articles/a-half-hour-to-learn-rust","rel":["nofollow"]},"children":[{"type":"text","value":"https://fasterthanli.me/articles/a-half-hour-to-learn-rust"}]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\n本文为粗略的翻译"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\n为了提高编程语言的熟练度，就必须要大量阅读有关资料。但是，如果你不知道它的意思，你怎么能大量阅读呢？"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在本文中，我将不会关注于一两个概念，而是试着通过尽可能多的Rust 代码段，解释其中的关键字和符号的含义。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"准备好了吗？让我们开始吧！"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"let"}]},{"type":"text","value":"引入了变量绑定(variable binding)"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"let x;  // 声明 \"x\"\nx = 42; // 将 42 分配给 \"x\"\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"let x;  // 声明 \"x\"\nx = 42; // 将 42 分配给 \"x\"\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"也可以写成一行"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"let x = 42;\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"let x = 42;\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"您可以显式地指定变量的类型，用冒号表示类型注释:"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":":"}]}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"let x: i32; // i32是一个有符号的32位整数\nx = 42;\n// 有符号整数有: i8, i16, i32, i64, i128\n// 无符号整数有: u8, u16, u32, u64, u128 \n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"let x: i32; // i32是一个有符号的32位整数\nx = 42;\n// 有符号整数有: i8, i16, i32, i64, i128\n// 无符号整数有: u8, u16, u32, u64, u128 \n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"也可以写成一行"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"let x: i32 = 42;\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"let x: i32 = 42;\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"如果您声明一个变量,之后再初始化，编译器将会阻止你初始化之前使用这个变量"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"let x;\nfoobar(x); // error: borrow of possibly-uninitialized variable: `x`\n// 借用可能未初始化的变量: `x`\nx = 42;\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"let x;\nfoobar(x); // error: borrow of possibly-uninitialized variable: `x`\n// 借用可能未初始化的变量: `x`\nx = 42;\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"正确的写法是这样:"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"let x;\nx = 42;\nfoobar(x); //  `x` 的类型将会在这被推断出来\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"let x;\nx = 42;\nfoobar(x); //  `x` 的类型将会在这被推断出来\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"下划线是一个特殊的变量名,更确切地说是 “空缺名”,意思就是扔掉一些东西:"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"_"}]}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"// 42是常数，所以无事发生\nlet _ = 42;\n\n// 调用 `get_thing` 函数但是舍弃了扔掉了的结果\nlet _ = get_thing();\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"// 42是常数，所以无事发生\nlet _ = 42;\n\n// 调用 `get_thing` 函数但是舍弃了扔掉了的结果\nlet _ = get_thing();\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"以下划线开头的变量名是普通名称，只是编译器不会警告它们不被使用:"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"// 变量声明但不使用会被编译器警告\n// 在变量名前面加下划线可以去掉警告\nlet _x = 42;\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"// 变量声明但不使用会被编译器警告\n// 在变量名前面加下划线可以去掉警告\nlet _x = 42;\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"可以对同一个变量名多次绑定-你可以掩盖(shadow)变量绑定"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"let x = 13;\nlet x = x + 3;\n// 在这之后使用 `x` 指代的都是第二个 `x`\n// 第一个  `x` 已不存在.（关于这点本人有补充，见下）\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"let x = 13;\nlet x = x + 3;\n// 在这之后使用 `x` 指代的都是第二个 `x`\n// 第一个  `x` 已不存在.（关于这点本人有补充，见下）\n"}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"译者注: 掩盖(shadowing)是在作用域之内掩盖掉原有的变量名，在作用域结束之后掩盖失效，因为此处两个 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"x"}]},{"type":"text","value":" 作用域相同，所以第二个"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"x"}]},{"type":"text","value":"会一直掩盖第一个 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"x"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Rust 有元组(tuples)，您可以将其视为“不同类型的值的固定长度集合”。"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"let pair = ('a', 17);\npair.0; // 这是 'a'\npair.1; // 这是 17\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"let pair = ('a', 17);\npair.0; // 这是 'a'\npair.1; // 这是 17\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"如果想添加类型注释:"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"let pair: (char, i32) = ('a', 17);\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"let pair: (char, i32) = ('a', 17);\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"元组在执行任务时可以被解构(destructured)，这意味着它们被分解为独立的字段:"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"let (some_char, some_int) = ('a', 17);\n// 现在 some_char是 'a'，some_int是 17\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"let (some_char, some_int) = ('a', 17);\n// 现在 some_char是 'a'，some_int是 17\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"这点在函数返回元组时特别有用:"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"let (left, right) = slice.split_at(middle);\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"let (left, right) = slice.split_at(middle);\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"当然，在解构元组时，可以用"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"_"}]},{"type":"text","value":"来丢弃它的一部分"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"let (_, right) = slice.split_at(middle);\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"let (_, right) = slice.split_at(middle);\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"分号表示语句的结尾:"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"let x = 3;\nlet y = 5;\nlet z = y + x;\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"let x = 3;\nlet y = 5;\nlet z = y + x;\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"这意味着语句可以跨越多行"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"let x = vec![1, 2, 3, 4, 5, 6, 7, 8]\n    .iter()\n    .map(|x| x + 3)\n    .fold(0, |x, y| x + y);\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"let x = vec![1, 2, 3, 4, 5, 6, 7, 8]\n    .iter()\n    .map(|x| x + 3)\n    .fold(0, |x, y| x + y);\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"(我们待会儿再讨论它们的意思)\n"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"fn"}]},{"type":"text","value":"声明一个没有返回值的函数"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"fn greet() {\n    println!(\"Hi there!\");\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"fn greet() {\n    println!(\"Hi there!\");\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"下面的函数返回32位有符号整数，箭头"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"->"}]},{"type":"text","value":"表示它的返回类型:"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"fn fair_dice_roll() -> i32 {\n    4\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"fn fair_dice_roll() -> i32 {\n    4\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"一对花括号"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"{}"}]},{"type":"text","value":"声明一个代码块(block)，它有自己的作用域"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"// This prints \"in\", then \"out\"\nfn main() {\n    let x = \"out\";\n    {\n        // this is a different `x`\n        let x = \"in\";\n        println!(\"{}\", x);\n    }\n    println!(\"{}\", x);\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"// This prints \"in\", then \"out\"\nfn main() {\n    let x = \"out\";\n    {\n        // this is a different `x`\n        let x = \"in\";\n        println!(\"{}\", x);\n    }\n    println!(\"{}\", x);\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"代码块也是表达式，可以计算为(evaluate)一个值"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"let x = 42;\n// 两者等价\nlet x = { 42 };\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"let x = 42;\n// 两者等价\nlet x = { 42 };\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在一个代码块中，可以有多个语句"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"let x = {\n    let y = 1; // first statement\n    let z = 2; // second statement\n    y + z // 这是代码块的结尾 - 整个代码块返回的值\n};\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"let x = {\n    let y = 1; // first statement\n    let z = 2; // second statement\n    y + z // 这是代码块的结尾 - 整个代码块返回的值\n};\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"所以省略函数末尾语句的分号等价于return语句"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"fn fair_dice_roll() -> i32 {\n    return 4;\n}\n\nfn fair_dice_roll() -> i32 {\n    4\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"fn fair_dice_roll() -> i32 {\n    return 4;\n}\n\nfn fair_dice_roll() -> i32 {\n    4\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"if"}]},{"type":"text","value":" 条件语句也是表达式"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"fn fair_dice_roll() -> i32 {\n    if feeling_lucky {\n        6\n    } else {\n        4\n    }\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"fn fair_dice_roll() -> i32 {\n    if feeling_lucky {\n        6\n    } else {\n        4\n    }\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"match"}]},{"type":"text","value":"语句也是表达式"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"fn fair_dice_roll() -> i32 {\n    match feeling_lucky {\n        true => 6,\n        false => 4,\n    }\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"fn fair_dice_roll() -> i32 {\n    match feeling_lucky {\n        true => 6,\n        false => 4,\n    }\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"符号点"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"通常用于访问值的字段:"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"let a = (10, 20);\na.0; // this is 10\n\nlet amos = get_some_struct();\namos.nickname; // this is \"fasterthanlime\"\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"let a = (10, 20);\na.0; // this is 10\n\nlet amos = get_some_struct();\namos.nickname; // this is \"fasterthanlime\"\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"或者调用值的某个方法:"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"let nick = \"fasterthanlime\";\nnick.len(); // this is 14\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"let nick = \"fasterthanlime\";\nnick.len(); // this is 14\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"双冒号"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"::"}]},{"type":"text","value":"类似，但是它用于命名空间"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在这个例子中，"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"std"}]},{"type":"text","value":"是一个crate,"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"cmd"}]},{"type":"text","value":"是一个模块(module),"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"min"}]},{"type":"text","value":"是一个函数"}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"译者注:package、crate、module概念不要以其他语言的概念先入为主，这里简要提一下，不作展开"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"package为项目，就是cargo new创建的项目就称为package"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"crate是一个独立的编译单元，又分为binary(二进制) crate和library crate，硬要翻译这个名词的话叫做分隔箱比较恰当。\nbinary crate的充要条件是有src/main.rs\nlibrary crate的充要条件是有src/lib.rs"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"module是模块，用于内部代码的组织，可以控制作用域及私有性"}]}]}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"let least = std::cmp::min(3, 8); // this is 3\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"let least = std::cmp::min(3, 8); // this is 3\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"use directives can be used to \"bring in scope\" names from other namespace:\n"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"use"}]},{"type":"text","value":"关键字用来引入其他命名空间的作用域里的内容，例如函数"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"use std::cmp::min;\nlet least = min(7, 1); // this is 1\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"use std::cmp::min;\nlet least = min(7, 1); // this is 1\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在 use 关键字中，花括号还有另一个意思: 它们来源相同\n如果我们想同时导入 min 和 max，我们可以执行以下任何操作:"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"// this works:\nuse std::cmp::min;\nuse std::cmp::max;\n\n// this also works:\nuse std::cmp::{min, max};\n\n// this also works!\nuse std::{cmp::min, cmp::max};\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"// this works:\nuse std::cmp::min;\nuse std::cmp::max;\n\n// this also works:\nuse std::cmp::{min, max};\n\n// this also works!\nuse std::{cmp::min, cmp::max};\n"}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"类似于javascript的"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"import {min,max} from 'xxx'"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"A wildcard () lets you import every symbol from a namespace:*\n通配符"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"*"}]},{"type":"text","value":"允许你从命名空间导入所有内容"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"// this brings `min` and `max` in scope, and many other things\nuse std::cmp::*;\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"// this brings `min` and `max` in scope, and many other things\nuse std::cmp::*;\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"类型也命名空间，类型的方法可以作为常规函数调用:"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"let x = \"amos\".len(); // this is 4\nlet x = str::len(\"amos\"); // this is also 4\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"let x = \"amos\".len(); // this is 4\nlet x = str::len(\"amos\"); // this is also 4\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"str is a primitive type, but many non-primitive types are also in scope by default.\n"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"str"}]},{"type":"text","value":"是原始类型，但也有许多非原始类型"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"// `Vec` is a regular struct, not a primitive type\nlet v = Vec::new();\n\n// this is exactly the same code, but with the *full* path to `Vec`\nlet v = std::vec::Vec::new();\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"// `Vec` is a regular struct, not a primitive type\nlet v = Vec::new();\n\n// this is exactly the same code, but with the *full* path to `Vec`\nlet v = std::vec::Vec::new();\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"这会正常编译，因为Rust会在每个模块的开头插入:"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"use std::prelude::v1::*;\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"use std::prelude::v1::*;\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"(这引入了很多东西，"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Vec"}]},{"type":"text","value":", "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"String"}]},{"type":"text","value":", "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Option"}]},{"type":"text","value":" ,"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Result"}]},{"type":"text","value":" 等等)"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"struct"}]},{"type":"text","value":"关键字用于声明结构体"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"struct Vec2 {\n    x: f64, // 64-bit floating point, aka \"double precision\"\n    y: f64,\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"struct Vec2 {\n    x: f64, // 64-bit floating point, aka \"double precision\"\n    y: f64,\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"使用结构体字面量初始化"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"Rust code\nlet v1 = Vec2 { x: 1.0, y: 3.0 };\nlet v2 = Vec2 { y: 2.0, x: 4.0 };\n// the order does not matter, only the names do\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"Rust code\nlet v1 = Vec2 { x: 1.0, y: 3.0 };\nlet v2 = Vec2 { y: 2.0, x: 4.0 };\n// the order does not matter, only the names do\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"用另一个结构体初始化剩余字段的快捷方式:"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"let v3 = Vec2 {\n    x: 14.0,\n    ..v2\n    // 只能在最后使用，后面不能有逗号\n};\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"let v3 = Vec2 {\n    x: 14.0,\n    ..v2\n    // 只能在最后使用，后面不能有逗号\n};\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"注意，剩余字段前面不加任何东西时可以表示所有字段:"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"let v4 = Vec2 { ..v3 };\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"let v4 = Vec2 { ..v3 };\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"结构体可以像元组一样被解构"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"let (left, right) = slice.split_at(middle);\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"let (left, right) = slice.split_at(middle);\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"像这样"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"let v = Vec2 { x: 3.0, y: 6.0 };\nlet Vec2 { x, y } = v;\n// `x` 为 3.0, `y` 为 `6.0`\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"let v = Vec2 { x: 3.0, y: 6.0 };\nlet Vec2 { x, y } = v;\n// `x` 为 3.0, `y` 为 `6.0`\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"还有这样"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"let Vec2 { x, .. } = v;\n// 舍弃了 `v.y`\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"let Vec2 { x, .. } = v;\n// 舍弃了 `v.y`\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"let"}]},{"type":"text","value":"模式匹配可以作为"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"if"}]},{"type":"text","value":"的判断条件"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"struct Number {\n    odd: bool,\n    value: i32,\n}\n\nfn main() {\n    let one = Number { odd: true, value: 1 };\n    let two = Number { odd: false, value: 2 };\n    print_number(one);\n    print_number(two);\n}\n\nfn print_number(n: Number) {\n    if let Number { odd: true, value } = n {\n        println!(\"Odd number: {}\", value);\n    } else if let Number { odd: false, value } = n {\n        println!(\"Even number: {}\", value);\n    }\n}\n\n// this prints:\n// Odd number: 1\n// Even number: 2\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"struct Number {\n    odd: bool,\n    value: i32,\n}\n\nfn main() {\n    let one = Number { odd: true, value: 1 };\n    let two = Number { odd: false, value: 2 };\n    print_number(one);\n    print_number(two);\n}\n\nfn print_number(n: Number) {\n    if let Number { odd: true, value } = n {\n        println!(\"Odd number: {}\", value);\n    } else if let Number { odd: false, value } = n {\n        println!(\"Even number: {}\", value);\n    }\n}\n\n// this prints:\n// Odd number: 1\n// Even number: 2\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"match选择支也是模式匹配，类似与 if let"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"fn print_number(n: Number) {\n    match n {\n        Number { odd: true, value } => println!(\"Odd number: {}\", value),\n        Number { odd: false, value } => println!(\"Even number: {}\", value),\n    }\n}\n\n// this prints the same as before\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"fn print_number(n: Number) {\n    match n {\n        Number { odd: true, value } => println!(\"Odd number: {}\", value),\n        Number { odd: false, value } => println!(\"Even number: {}\", value),\n    }\n}\n\n// this prints the same as before\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"match必须是详尽的，即必须至少有一个选择支能够匹配上"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"fn print_number(n: Number) {\n    match n {\n        Number { value: 1, .. } => println!(\"One\"),\n        Number { value: 2, .. } => println!(\"Two\"),\n        Number { value, .. } => println!(\"{}\", value),\n        // if that last arm didn't exist, we would get a compile-time error\n    }\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"fn print_number(n: Number) {\n    match n {\n        Number { value: 1, .. } => println!(\"One\"),\n        Number { value: 2, .. } => println!(\"Two\"),\n        Number { value, .. } => println!(\"{}\", value),\n        // if that last arm didn't exist, we would get a compile-time error\n    }\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"如果很难穷尽所有情形, 可以使用下划线"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"_"}]},{"type":"text","value":"匹配剩下的所有情形"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"fn print_number(n: Number) {\n    match n.value {\n        1 => println!(\"One\"),\n        2 => println!(\"Two\"),\n        _ => println!(\"{}\", n.value),\n    }\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"fn print_number(n: Number) {\n    match n.value {\n        1 => println!(\"One\"),\n        2 => println!(\"Two\"),\n        _ => println!(\"{}\", n.value),\n    }\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"你可以声明你自己的类型的方法"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"struct Number {\n    odd: bool,\n    value: i32,\n}\n\nimpl Number {\n    fn is_strictly_positive(self) -> bool {\n        self.value > 0\n    }\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"struct Number {\n    odd: bool,\n    value: i32,\n}\n\nimpl Number {\n    fn is_strictly_positive(self) -> bool {\n        self.value > 0\n    }\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"然后普通地使用"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"fn main() {\n    let minus_two = Number {\n        odd: false,\n        value: -2,\n    };\n    println!(\"positive? {}\", minus_two.is_strictly_positive());\n    // this prints \"positive? false\"\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"fn main() {\n    let minus_two = Number {\n        odd: false,\n        value: -2,\n    };\n    println!(\"positive? {}\", minus_two.is_strictly_positive());\n    // this prints \"positive? false\"\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Variable bindings are immutable by default, which means their interior can't be mutated:\n变量绑定在默认情况下是不可变的，这意味着它们的内部不能变化"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"fn main() {\n    let n = Number {\n        odd: true,\n        value: 17,\n    };\n    n.odd = false; // error: cannot assign to `n.odd`,\n                   // as `n` is not declared to be mutable\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"fn main() {\n    let n = Number {\n        odd: true,\n        value: 17,\n    };\n    n.odd = false; // error: cannot assign to `n.odd`,\n                   // as `n` is not declared to be mutable\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"这也意味着该变量不能被再次分配"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"fn main() {\n    let n = Number {\n        odd: true,\n        value: 17,\n    };\n    n = Number {\n        odd: false,\n        value: 22,\n    }; // error: cannot assign twice to immutable variable `n`\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"fn main() {\n    let n = Number {\n        odd: true,\n        value: 17,\n    };\n    n = Number {\n        odd: false,\n        value: 22,\n    }; // error: cannot assign twice to immutable variable `n`\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"mut"}]},{"type":"text","value":" 可以使变量绑定为可变的"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"fn main() {\n    let mut n = Number {\n        odd: true,\n        value: 17,\n    }\n    n.value = 19; // all good\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"fn main() {\n    let mut n = Number {\n        odd: true,\n        value: 17,\n    }\n    n.value = 19; // all good\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Traits"}]},{"type":"text","value":"(特型) 是多种类型共有的东西(类似于其他编程语言的接口)"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"trait Signed {\n    fn is_strictly_negative(self) -> bool;\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"trait Signed {\n    fn is_strictly_negative(self) -> bool;\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"“孤儿规则”(orphan rules):\n如果要实现某个trait，那么该trait和要实现该trait的类型至少有一个要在当前crate中定义"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在上面已经定义了\n"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"trait"}]},{"type":"text","value":":Signed\n"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"struct"}]},{"type":"text","value":":Number"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在自定义的的类型中实现自定义的trait"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"impl Signed for Number {\n    fn is_strictly_negative(self) -> bool {\n        self.value < 0\n    }\n}\n\nfn main() {\n    let n = Number { odd: false, value: -44 };\n    println!(\"{}\", n.is_strictly_negative()); // prints \"true\"\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"impl Signed for Number {\n    fn is_strictly_negative(self) -> bool {\n        self.value < 0\n    }\n}\n\nfn main() {\n    let n = Number { odd: false, value: -44 };\n    println!(\"{}\", n.is_strictly_negative()); // prints \"true\"\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在其他类型中实现自定义trait(i32是一个原始类型):"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"impl Signed for i32 {\n    fn is_strictly_negative(self) -> bool {\n        self < 0\n    }\n}\n\nfn main() {\n    let n: i32 = -44;\n    println!(\"{}\", n.is_strictly_negative()); // prints \"true\"\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"impl Signed for i32 {\n    fn is_strictly_negative(self) -> bool {\n        self < 0\n    }\n}\n\nfn main() {\n    let n: i32 = -44;\n    println!(\"{}\", n.is_strictly_negative()); // prints \"true\"\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在自定义类型中实现其他trait"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"//  `Neg` trait 用于一元运算符 `-`的重载\n\nimpl std::ops::Neg for Number {\n    type Output = Number;\n\n    fn neg(self) -> Number {\n        Number {\n            value: -self.value,\n            odd: self.odd,\n        }        \n    }\n}\n\nfn main() {\n    let n = Number { odd: true, value: 987 };\n    let m = -n; // this is only possible because we implemented `Neg`\n    println!(\"{}\", m.value); // prints \"-987\"\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"//  `Neg` trait 用于一元运算符 `-`的重载\n\nimpl std::ops::Neg for Number {\n    type Output = Number;\n\n    fn neg(self) -> Number {\n        Number {\n            value: -self.value,\n            odd: self.odd,\n        }        \n    }\n}\n\nfn main() {\n    let n = Number { odd: true, value: 987 };\n    let m = -n; // this is only possible because we implemented `Neg`\n    println!(\"{}\", m.value); // prints \"-987\"\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"An block is always for a type, so, inside that block, means that type:implSelf\n一个代码块用于一个类型，所以在这个代码块的内部意味着这个类型的自我实现"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"impl std::ops::Neg for Number {\n    type Output = Self;\n\n    fn neg(self) -> Self {\n        Self {\n            value: -self.value,\n            odd: self.odd,\n        }        \n    }\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"impl std::ops::Neg for Number {\n    type Output = Self;\n\n    fn neg(self) -> Self {\n        Self {\n            value: -self.value,\n            odd: self.odd,\n        }        \n    }\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Some traits are markers - they don't say that a type implements some methods, they say that certain things can be done with a type.\n有些trait是marker(标记)——它们不是说类型实现了某些方法，而是说某些事情可以用类型来完成。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"举个例子，"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"i32"}]},{"type":"text","value":" 实现了trait "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Copy"}]},{"type":"text","value":"(i32可以认为是Copy类型)，所以"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"fn main() {\n    let a: i32 = 15;\n    let b = a; // `a` 被拷贝\n    let c = a; // `a` 再次被拷贝\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"fn main() {\n    let a: i32 = 15;\n    let b = a; // `a` 被拷贝\n    let c = a; // `a` 再次被拷贝\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"这同样也可以"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"fn print_i32(x: i32) {\n    println!(\"x = {}\", x);\n}\n\nfn main() {\n    let a: i32 = 15;\n    print_i32(a); // `a` is copied\n    print_i32(a); // `a` is copied again\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"fn print_i32(x: i32) {\n    println!(\"x = {}\", x);\n}\n\nfn main() {\n    let a: i32 = 15;\n    print_i32(a); // `a` is copied\n    print_i32(a); // `a` is copied again\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"但结构体"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Number"}]},{"type":"text","value":"不是"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Copy"}]},{"type":"text","value":",所以这样不行:"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"fn main() {\n    let n = Number { odd: true, value: 51 };\n    let m = n; // `n` is moved into `m`\n    let o = n; // error: use of moved value: `n`\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"fn main() {\n    let n = Number { odd: true, value: 51 };\n    let m = n; // `n` is moved into `m`\n    let o = n; // error: use of moved value: `n`\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"这同样不行:"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"fn print_number(n: Number) {\n    println!(\"{} number {}\", if n.odd { \"odd\" } else { \"even\" }, n.value);\n}\n\nfn main() {\n    let n = Number { odd: true, value: 51 };\n    print_number(n); // `n` is moved\n    print_number(n); // error: use of moved value: `n`\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"fn print_number(n: Number) {\n    println!(\"{} number {}\", if n.odd { \"odd\" } else { \"even\" }, n.value);\n}\n\nfn main() {\n    let n = Number { odd: true, value: 51 };\n    print_number(n); // `n` is moved\n    print_number(n); // error: use of moved value: `n`\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"但"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"print_number"}]},{"type":"text","value":"使用不可变引用(immutable reference)后则可以"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"fn print_number(n: &Number) {\n    println!(\"{} number {}\", if n.odd { \"odd\" } else { \"even\" }, n.value);\n}\n\nfn main() {\n    let n = Number { odd: true, value: 51 };\n    print_number(&n); // `n` is borrowed for the time of the call\n    print_number(&n); // `n` is borrowed again\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"fn print_number(n: &Number) {\n    println!(\"{} number {}\", if n.odd { \"odd\" } else { \"even\" }, n.value);\n}\n\nfn main() {\n    let n = Number { odd: true, value: 51 };\n    print_number(&n); // `n` is borrowed for the time of the call\n    print_number(&n); // `n` is borrowed again\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"如果一个函数接受一个可变的引用，那么它也可以工作——但是只有当我们的变量绑定也是 mut 的时候"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"fn invert(n: &mut Number) {\n    n.value = -n.value;\n}\n\nfn print_number(n: &Number) {\n    println!(\"{} number {}\", if n.odd { \"odd\" } else { \"even\" }, n.value);\n}\n\nfn main() {\n    // this time, `n` is mutable\n    let mut n = Number { odd: true, value: 51 };\n    print_number(&n);\n    invert(&mut n); // `n is borrowed mutably - everything is explicit\n    print_number(&n);\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"fn invert(n: &mut Number) {\n    n.value = -n.value;\n}\n\nfn print_number(n: &Number) {\n    println!(\"{} number {}\", if n.odd { \"odd\" } else { \"even\" }, n.value);\n}\n\nfn main() {\n    // this time, `n` is mutable\n    let mut n = Number { odd: true, value: 51 };\n    print_number(&n);\n    invert(&mut n); // `n is borrowed mutably - everything is explicit\n    print_number(&n);\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Trait methods can also take by reference or mutable reference:self\nTrait 方法可以通过引用或可变引用接收"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"self"}]},{"type":"text","value":":"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"impl std::clone::Clone for Number {\n    fn clone(&self) -> Self {\n        Self { ..*self }\n    }\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"impl std::clone::Clone for Number {\n    fn clone(&self) -> Self {\n        Self { ..*self }\n    }\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"当调用 trait 方法时，接收方是隐式借用的:"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"fn main() {\n    let n = Number { odd: true, value: 51 };\n    let mut m = n.clone();\n    m.value += 100;\n    \n    print_number(&n);\n    print_number(&m);\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"fn main() {\n    let n = Number { odd: true, value: 51 };\n    let mut m = n.clone();\n    m.value += 100;\n    \n    print_number(&n);\n    print_number(&m);\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"注意:这两种写法是等价的"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"let m = n.clone();\nlet m = std::clone::Clone::clone(&n);\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"let m = n.clone();\nlet m = std::clone::Clone::clone(&n);\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Marker traits like have no methods:Copy\n像 Copy 这样的 Marker trait没有方法:"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"// note: `Copy` requires that `Clone` is implemented too\nimpl std::clone::Clone for Number {\n    fn clone(&self) -> Self {\n        Self { ..*self }\n    }\n}\n\nimpl std::marker::Copy for Number {}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"// note: `Copy` requires that `Clone` is implemented too\nimpl std::clone::Clone for Number {\n    fn clone(&self) -> Self {\n        Self { ..*self }\n    }\n}\n\nimpl std::marker::Copy for Number {}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"现在Clone仍然可用"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"fn main() {\n    let n = Number { odd: true, value: 51 };\n    let m = n.clone();\n    let o = n.clone();\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"fn main() {\n    let n = Number { odd: true, value: 51 };\n    let m = n.clone();\n    let o = n.clone();\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"但是 Number的值不再移动(move)"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"fn main() {\n    let n = Number { odd: true, value: 51 };\n    let m = n; // `m` is a copy of `n`\n    let o = n; // same. `n` is neither moved nor borrowed.\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"fn main() {\n    let n = Number { odd: true, value: 51 };\n    let m = n; // `m` is a copy of `n`\n    let o = n; // same. `n` is neither moved nor borrowed.\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"有些trait非常常见，它们可以使用"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"derive"}]},{"type":"text","value":"属性自动实现:"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"#[derive(Clone, Copy)]\nstruct Number {\n    odd: bool,\n    value: i32,\n}\n// 扩展了 `impl Clone for Number` 以及 `impl Copy for Number` 的代码块.\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"#[derive(Clone, Copy)]\nstruct Number {\n    odd: bool,\n    value: i32,\n}\n// 扩展了 `impl Clone for Number` 以及 `impl Copy for Number` 的代码块.\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"函数可以是泛型的:"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"fn foobar<T>(arg: T) {\n    // do something with `arg`\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"fn foobar<T>(arg: T) {\n    // do something with `arg`\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"它们可以有多个类型参数，然后可以在函数的声明和函数体中使用这些参数，而不是具体的类型:"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"fn foobar<L, R>(left: L, right: R) {\n    // do something with `left` and `right`\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"fn foobar<L, R>(left: L, right: R) {\n    // do something with `left` and `right`\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"类型参数通常也有约束，因此您可以对它们进行一些实际操作。\n最简单的是通过 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"trait"}]},{"type":"text","value":" 来约束"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"fn print<T: Display>(value: T) {\n    println!(\"value = {}\", value);\n}\n\nfn print<T: Debug>(value: T) {\n    println!(\"value = {:?}\", value);\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"fn print<T: Display>(value: T) {\n    println!(\"value = {}\", value);\n}\n\nfn print<T: Debug>(value: T) {\n    println!(\"value = {:?}\", value);\n}\n"}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Display 和 Debug都是一种trait，用于格式化输出"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"类型参数约束有更长的语法:"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"fn print<T>(value: T)\nwhere\n    T: Display,\n{\n    println!(\"value = {}\", value);\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"fn print<T>(value: T)\nwhere\n    T: Display,\n{\n    println!(\"value = {}\", value);\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"约束可能更复杂: 可能需要一个类型参数来实现多个 trait:"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"use std::fmt::Debug;\n\nfn compare<T>(left: T, right: T)\nwhere\n    T: Debug + PartialEq,\n{\n    println!(\"{:?} {} {:?}\", left, if left == right { \"==\" } else { \"!=\" }, right);\n}\n\nfn main() {\n    compare(\"tea\", \"coffee\");\n    // prints: \"tea\" != \"coffee\"\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"use std::fmt::Debug;\n\nfn compare<T>(left: T, right: T)\nwhere\n    T: Debug + PartialEq,\n{\n    println!(\"{:?} {} {:?}\", left, if left == right { \"==\" } else { \"!=\" }, right);\n}\n\nfn main() {\n    compare(\"tea\", \"coffee\");\n    // prints: \"tea\" != \"coffee\"\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Generic functions can be thought of as namespaces, containing an infinity of functions with different concrete types.\n泛型函数可以被看作是命名空间，包含无数具有不同具体类型的函数"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Same as with crates, and modules, and types, generic functions can be \"explored\" (navigated?) using ::\n与crate、module和type一样，泛型函数也可以使用双冒号"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"::"}]},{"type":"text","value":"进行访问"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"fn main() {\n    use std::any::type_name;\n    println!(\"{}\", type_name::<i32>()); // prints \"i32\"\n    println!(\"{}\", type_name::<(f64, char)>()); // prints \"(f64, char)\"\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"fn main() {\n    use std::any::type_name;\n    println!(\"{}\", type_name::<i32>()); // prints \"i32\"\n    println!(\"{}\", type_name::<(f64, char)>()); // prints \"(f64, char)\"\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This is lovingly called turbofish syntax, because looks like a fish.::<>\n这被亲切地称为 turbofish(涡轮鱼?) 语法，因为"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"::<>"}]},{"type":"text","value":" 看起来像一条鱼。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"结构体也可以是泛型的:"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"struct Pair<T> {\n    a: T,\n    b: T,\n}\n\nfn print_type_name<T>(_val: &T) {\n    println!(\"{}\", std::any::type_name::<T>());\n}\n\nfn main() {\n    let p1 = Pair { a: 3, b: 9 };\n    let p2 = Pair { a: true, b: false };\n    print_type_name(&p1); // prints \"Pair<i32>\"\n    print_type_name(&p2); // prints \"Pair<bool>\"\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"struct Pair<T> {\n    a: T,\n    b: T,\n}\n\nfn print_type_name<T>(_val: &T) {\n    println!(\"{}\", std::any::type_name::<T>());\n}\n\nfn main() {\n    let p1 = Pair { a: 3, b: 9 };\n    let p2 = Pair { a: true, b: false };\n    print_type_name(&p1); // prints \"Pair<i32>\"\n    print_type_name(&p2); // prints \"Pair<bool>\"\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"标准库类型 Vec (分配在堆上的数组)是泛型的的\nThe standard library type (~ a heap-allocated array), is generic:Vec"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"fn main() {\n    let mut v1 = Vec::new();\n    v1.push(1);\n    let mut v2 = Vec::new();\n    v2.push(false);\n    print_type_name(&v1); // prints \"Vec<i32>\"\n    print_type_name(&v2); // prints \"Vec<bool>\"\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"fn main() {\n    let mut v1 = Vec::new();\n    v1.push(1);\n    let mut v2 = Vec::new();\n    v2.push(false);\n    print_type_name(&v1); // prints \"Vec<i32>\"\n    print_type_name(&v2); // prints \"Vec<bool>\"\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Speaking of , it comes with a macro that gives more or less \"vec literals\":Vec\n说到 Vec，它或多或少都会用到宏来提供“ vec 字面值”:"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"fn main() {\n    let v1 = vec![1, 2, 3];\n    let v2 = vec![true, false, true];\n    print_type_name(&v1); // prints \"Vec<i32>\"\n    print_type_name(&v2); // prints \"Vec<bool>\"\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"fn main() {\n    let v1 = vec![1, 2, 3];\n    let v2 = vec![true, false, true];\n    print_type_name(&v1); // prints \"Vec<i32>\"\n    print_type_name(&v2); // prints \"Vec<bool>\"\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"All of , or invoke a macro. Macros just expand to regular code.name!()name![]name!{}\n"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"name!()"}]},{"type":"text","value":" ，"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"name![]"}]},{"type":"text","value":"或"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"name!{}"}]},{"type":"text","value":"都调用了宏。宏只是扩展为常规代码"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"其实"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"println"}]},{"type":"text","value":" 就是一个宏"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"fn main() {\n    println!(\"{}\", \"Hello there!\");\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"fn main() {\n    println!(\"{}\", \"Hello there!\");\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"这段代码会扩展为以下等效的代码:"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"fn main() {\n    use std::io::{self, Write};\n    io::stdout().lock().write_all(b\"Hello there!\\n\").unwrap();\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"fn main() {\n    use std::io::{self, Write};\n    io::stdout().lock().write_all(b\"Hello there!\\n\").unwrap();\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"panic"}]},{"type":"text","value":"(恐慌/异常) 也是一个宏。它通过一条错误消息和错误的文件名/行号(如果启用的话)强制停止执行:"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"fn main() {\n    panic!(\"This panics\");\n}\n// output: thread 'main' panicked at 'This panics', src/main.rs:3:5\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"fn main() {\n    panic!(\"This panics\");\n}\n// output: thread 'main' panicked at 'This panics', src/main.rs:3:5\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Some methods also panic. For example, the type can contain something, or it can contain nothing. If is called on it, and it contains nothing, it panics:Option.unwrap()\n有些方法也会引起"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"panic"}]},{"type":"text","value":"。例如，Option 类型可以包含某些内容，也可以不包含。如果。在它上面调用 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".unpack()"}]},{"type":"text","value":"但不包含任何东西的话，就会发生"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"panic"}]},{"type":"text","value":":"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"fn main() {\n    let o1: Option<i32> = Some(128);\n    o1.unwrap(); // this is fine\n\n    let o2: Option<i32> = None;\n    o2.unwrap(); // this panics!\n}\n// output: thread 'main' panicked at 'called `Option::unwrap()` on a `None` value', src/libcore/option.rs:378:21\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"fn main() {\n    let o1: Option<i32> = Some(128);\n    o1.unwrap(); // this is fine\n\n    let o2: Option<i32> = None;\n    o2.unwrap(); // this panics!\n}\n// output: thread 'main' panicked at 'called `Option::unwrap()` on a `None` value', src/libcore/option.rs:378:21\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Option"}]},{"type":"text","value":" 不是一个结构体 - 而是一个enum(枚举类)，它有两种变体(variant)"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"enum Option<T> {\n    None,\n    Some(T),\n}\n\nimpl<T> Option<T> {\n    fn unwrap(self) -> T {\n        // enums variants 可以用于模式匹配:\n        match self {\n            Self::Some(t) => t,\n            Self::None => panic!(\".unwrap() called on a None option\"),\n        }\n    }\n}\n\nuse self::Option::{None, Some};\n\nfn main() {\n    let o1: Option<i32> = Some(128);\n    o1.unwrap(); // this is fine\n\n    let o2: Option<i32> = None;\n    o2.unwrap(); // this panics!\n}\n// output: thread 'main' panicked at '.unwrap() called on a None option', src/main.rs:11:27\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"enum Option<T> {\n    None,\n    Some(T),\n}\n\nimpl<T> Option<T> {\n    fn unwrap(self) -> T {\n        // enums variants 可以用于模式匹配:\n        match self {\n            Self::Some(t) => t,\n            Self::None => panic!(\".unwrap() called on a None option\"),\n        }\n    }\n}\n\nuse self::Option::{None, Some};\n\nfn main() {\n    let o1: Option<i32> = Some(128);\n    o1.unwrap(); // this is fine\n\n    let o2: Option<i32> = None;\n    o2.unwrap(); // this panics!\n}\n// output: thread 'main' panicked at '.unwrap() called on a None option', src/main.rs:11:27\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Result"}]},{"type":"text","value":" 也是一个 enum, 包含一个内容和一个错误"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"enum Result<T, E> {\n    Ok(T),\n    Err(E),\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"enum Result<T, E> {\n    Ok(T),\n    Err(E),\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"It also panics when unwrapped and containing an error.\n当被解析出一个错误(error)时，它也会panic"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"变量绑定具有生命周期 (lifetime):"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"fn main() {\n    // `x` doesn't exist yet\n    {\n        let x = 42; // `x` starts existing\n        println!(\"x = {}\", x);\n        // `x` stops existing\n    }\n    // `x` no longer exists\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"fn main() {\n    // `x` doesn't exist yet\n    {\n        let x = 42; // `x` starts existing\n        println!(\"x = {}\", x);\n        // `x` stops existing\n    }\n    // `x` no longer exists\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"引用同样也有生命周期"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"fn main() {\n    // `x` doesn't exist yet\n    {\n        let x = 42; // `x` starts existing\n        let x_ref = &x; // `x_ref` starts existing - it borrows `x`\n        println!(\"x_ref = {}\", x_ref);\n        // `x_ref` stops existing\n        // `x` stops existing\n    }\n    // `x` no longer exists\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"fn main() {\n    // `x` doesn't exist yet\n    {\n        let x = 42; // `x` starts existing\n        let x_ref = &x; // `x_ref` starts existing - it borrows `x`\n        println!(\"x_ref = {}\", x_ref);\n        // `x_ref` stops existing\n        // `x` stops existing\n    }\n    // `x` no longer exists\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"引用的生命周期不能超过其借用的变量绑定的生命周期期:"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"fn main() {\n    let x_ref = {\n        let x = 42;\n        &x\n    };\n    println!(\"x_ref = {}\", x_ref);\n    // error: `x` does not live long enough\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"fn main() {\n    let x_ref = {\n        let x = 42;\n        &x\n    };\n    println!(\"x_ref = {}\", x_ref);\n    // error: `x` does not live long enough\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"A variable binding can be immutably borrowed multiple times:\n可以多次不可变地借用变量绑定:"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"fn main() {\n    let x = 42;\n    let x_ref1 = &x;\n    let x_ref2 = &x;\n    let x_ref3 = &x;\n    println!(\"{} {} {}\", x_ref1, x_ref2, x_ref3);\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"fn main() {\n    let x = 42;\n    let x_ref1 = &x;\n    let x_ref2 = &x;\n    let x_ref3 = &x;\n    println!(\"{} {} {}\", x_ref1, x_ref2, x_ref3);\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"借用时，变量绑定不能发生变化"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"fn main() {\n    let mut x = 42;\n    let x_ref = &x;\n    x = 13;\n    println!(\"x_ref = {}\", x_ref);\n    // error: cannot assign to `x` because it is borrowed\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"fn main() {\n    let mut x = 42;\n    let x_ref = &x;\n    x = 13;\n    println!(\"x_ref = {}\", x_ref);\n    // error: cannot assign to `x` because it is borrowed\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"不可变借用时，变量不能再被可变借用"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"fn main() {\n    let mut x = 42;\n    let x_ref1 = &x;\n    let x_ref2 = &mut x;\n    // error: cannot borrow `x` as mutable because it is also borrowed as immutable\n    println!(\"x_ref1 = {}\", x_ref1);\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"fn main() {\n    let mut x = 42;\n    let x_ref1 = &x;\n    let x_ref2 = &mut x;\n    // error: cannot borrow `x` as mutable because it is also borrowed as immutable\n    println!(\"x_ref1 = {}\", x_ref1);\n}\n"}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"在任意给定时间，要么只能有一个可变引用，要么只能有多个不可变引用。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"引用必须总是有效的。"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"函数参数中的引用也有生命周期:"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"fn print(x: &i32) {\n    // `x` is borrowed (from the outside) for the\n    // entire time this function is called.\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"fn print(x: &i32) {\n    // `x` is borrowed (from the outside) for the\n    // entire time this function is called.\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"具有引用参数的函数可以通过具有不同生命周期的借用来调用，因此:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"所有接受引用参数的函数都是泛型的"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"生命周期是一个泛型的参数"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"生命周期的名称以单引号"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"'"}]},{"type":"text","value":"开头"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"// elided (non-named) lifetimes:\nfn print(x: &i32) {}\n\n// named lifetimes:\nfn print<'a>(x: &'a i32) {}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"// elided (non-named) lifetimes:\nfn print(x: &i32) {}\n\n// named lifetimes:\nfn print<'a>(x: &'a i32) {}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This allows returning references whose lifetime depend on the lifetime of the arguments:\n谁的生命周期依赖于参数的生命周期，就返回谁的引用"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"struct Number {\n    value: i32,\n}\n\nfn number_value<'a>(num: &'a Number) -> &'a i32 {\n    &num.value\n}\n\nfn main() {\n    let n = Number { value: 47 };\n    let v = number_value(&n);\n    // `v` borrows `n` (immutably), thus: `v` cannot outlive `n`.\n    // While `v` exists, `n` cannot be mutably borrowed, mutated, moved, etc.\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"struct Number {\n    value: i32,\n}\n\nfn number_value<'a>(num: &'a Number) -> &'a i32 {\n    &num.value\n}\n\nfn main() {\n    let n = Number { value: 47 };\n    let v = number_value(&n);\n    // `v` borrows `n` (immutably), thus: `v` cannot outlive `n`.\n    // While `v` exists, `n` cannot be mutably borrowed, mutated, moved, etc.\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"当输入只有一个生命周期时，不需要命名，并且所有东西都有相同的生命周期，因此下面的两个函数是等价的"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"fn number_value<'a>(num: &'a Number) -> &'a i32 {\n    &num.value\n}\n\nfn number_value(num: &Number) -> &i32 {\n    &num.value\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"fn number_value<'a>(num: &'a Number) -> &'a i32 {\n    &num.value\n}\n\nfn number_value(num: &Number) -> &i32 {\n    &num.value\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Structs can also be generic over lifetimes, which allows them to hold references:\n结构体可以在生命周期里都是泛型的，这使其可以接受引用"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"struct NumRef<'a> {\n    x: &'a i32,\n}\n\nfn main() {\n    let x: i32 = 99;\n    let x_ref = NumRef { x: &x };\n    // `x_ref` cannot outlive `x`, etc.\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"struct NumRef<'a> {\n    x: &'a i32,\n}\n\nfn main() {\n    let x: i32 = 99;\n    let x_ref = NumRef { x: &x };\n    // `x_ref` cannot outlive `x`, etc.\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"同样的代码，额外添加了函数"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"struct NumRef<'a> {\n    x: &'a i32,\n}\n\nfn as_num_ref<'a>(x: &'a i32) -> NumRef<'a> {\n    NumRef { x: &x }\n}\n\nfn main() {\n    let x: i32 = 99;\n    let x_ref = as_num_ref(&x);\n    // `x_ref` cannot outlive `x`, etc.\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"struct NumRef<'a> {\n    x: &'a i32,\n}\n\nfn as_num_ref<'a>(x: &'a i32) -> NumRef<'a> {\n    NumRef { x: &x }\n}\n\nfn main() {\n    let x: i32 = 99;\n    let x_ref = as_num_ref(&x);\n    // `x_ref` cannot outlive `x`, etc.\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The same code, but with \"elided\" lifetimes:\n同样的代码，省略了声明周期"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"struct NumRef<'a> {\n    x: &'a i32,\n}\n\nfn as_num_ref(x: &i32) -> NumRef<'_> {\n    NumRef { x: &x }\n}\n\nfn main() {\n    let x: i32 = 99;\n    let x_ref = as_num_ref(&x);\n    // `x_ref` cannot outlive `x`, etc.\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"struct NumRef<'a> {\n    x: &'a i32,\n}\n\nfn as_num_ref(x: &i32) -> NumRef<'_> {\n    NumRef { x: &x }\n}\n\nfn main() {\n    let x: i32 = 99;\n    let x_ref = as_num_ref(&x);\n    // `x_ref` cannot outlive `x`, etc.\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"impl"}]},{"type":"text","value":" 代码块在生命周期里也是泛型的:"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"impl<'a> NumRef<'a> {\n    fn as_i32_ref(&'a self) -> &'a i32 {\n        self.x\n    }\n}\n\nfn main() {\n    let x: i32 = 99;\n    let x_num_ref = NumRef { x: &x };\n    let x_i32_ref = x_num_ref.as_i32_ref();\n    // neither ref can outlive `x`\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"impl<'a> NumRef<'a> {\n    fn as_i32_ref(&'a self) -> &'a i32 {\n        self.x\n    }\n}\n\nfn main() {\n    let x: i32 = 99;\n    let x_num_ref = NumRef { x: &x };\n    let x_i32_ref = x_num_ref.as_i32_ref();\n    // neither ref can outlive `x`\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"但你也可以省略"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"impl<'a> NumRef<'a> {\n    fn as_i32_ref(&self) -> &i32 {\n        self.x\n    }\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"impl<'a> NumRef<'a> {\n    fn as_i32_ref(&self) -> &i32 {\n        self.x\n    }\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"如果不需要这个生命周期的名字，你可以狠狠地省略:"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"impl NumRef<'_> {\n    fn as_i32_ref(&self) -> &i32 {\n        self.x\n    }\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"impl NumRef<'_> {\n    fn as_i32_ref(&self) -> &i32 {\n        self.x\n    }\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"有一个特殊的生命周期:"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"static"}]},{"type":"text","value":"，它对整个程序的生命周期都有效。(类比其他语言里的静态全局变量)"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"String 是"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"'static"}]},{"type":"text","value":"(静态全局)的"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"struct Person {\n    name: &'static str,\n}\n\nfn main() {\n    let p = Person {\n        name: \"fasterthanlime\",\n    };\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"struct Person {\n    name: &'static str,\n}\n\nfn main() {\n    let p = Person {\n        name: \"fasterthanlime\",\n    };\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"但是 string的所有者不是"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"static"}]},{"type":"text","value":"的:"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"struct Person {\n    name: &'static str,\n}\n\nfn main() {\n    let name = format!(\"fasterthan{}\", \"lime\");\n    let p = Person { name: &name };\n    // error: `name` does not live long enough\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"struct Person {\n    name: &'static str,\n}\n\nfn main() {\n    let name = format!(\"fasterthan{}\", \"lime\");\n    let p = Person { name: &name };\n    // error: `name` does not live long enough\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在最后一个示例中，变量"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"name"}]},{"type":"text","value":"不是 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"&'static str"}]},{"type":"text","value":"，而是 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"String"}]},{"type":"text","value":"。它是动态分配的，会被释放。它的生命周期小于整个程序(即使它在 main 中)。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To store a non- string in , it needs to either:'staticPerson\n要想在结构体"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Person"}]},{"type":"text","value":"中存储非"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"'static"}]},{"type":"text","value":"的string，需要满足\nA) 在生命周期里是泛型:"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"struct Person<'a> {\n    name: &'a str,\n}\n\nfn main() {\n    let name = format!(\"fasterthan{}\", \"lime\");\n    let p = Person { name: &name };\n    // `p` cannot outlive `name`\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"struct Person<'a> {\n    name: &'a str,\n}\n\nfn main() {\n    let name = format!(\"fasterthan{}\", \"lime\");\n    let p = Person { name: &name };\n    // `p` cannot outlive `name`\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"或者\nB) 获得string的所有权"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"struct Person {\n    name: String,\n}\n\nfn main() {\n    let name = format!(\"fasterthan{}\", \"lime\");\n    let p = Person { name: name };\n    // `name` was moved into `p`, their lifetimes are no longer tied.\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"struct Person {\n    name: String,\n}\n\nfn main() {\n    let name = format!(\"fasterthan{}\", \"lime\");\n    let p = Person { name: name };\n    // `name` was moved into `p`, their lifetimes are no longer tied.\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在结构体中，当字段与变量绑定同名时"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"    let p = Person { name: name };\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"    let p = Person { name: name };\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"可以简写成:"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"    let p = Person { name };\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"    let p = Person { name };\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Rust 中的许多类型，有"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"所有者"}]},{"type":"text","value":"(owned)的和"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"非所有者"}]},{"type":"text","value":"(nom-owned)的变体:"}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"引用可以在没有所有权的情况下使用被绑定的变量"}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Strings: String 是所有者, &str 是引用(reference)"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Paths: PathBuf 是所有者, &Path 是引用"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Collections: "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Vec<T>"}]},{"type":"text","value":" 所有者, "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"&[T]"}]},{"type":"text","value":"是引用"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Rust 有切片(slice)-切片是对多个连续元素的引用\n可以借用 vector 的切片，例如"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"fn main() {\n    let v = vec![1, 2, 3, 4, 5];\n    let v2 = &v[2..4];\n    println!(\"v2 = {:?}\", v2);\n}\n\n// output:\n// v2 = [3, 4]\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"fn main() {\n    let v = vec![1, 2, 3, 4, 5];\n    let v2 = &v[2..4];\n    println!(\"v2 = {:?}\", v2);\n}\n\n// output:\n// v2 = [3, 4]\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"这不足为奇。利用"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Index"}]},{"type":"text","value":"和"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"IndexMut"}]},{"type":"text","value":"的"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"trait"}]},{"type":"text","value":"就可以重载索引运算("},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"foo[index]"}]},{"type":"text","value":")。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"(两个点)"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".."}]},{"type":"text","value":"语法只是表示范围(range),range只是在标准库里定义的少数结构体"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"范围是开放式的，一般是左闭右开区间，如果最右端使用等号"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"="}]},{"type":"text","value":"，右端就是闭区间"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"fn main() {\n    // 0 or greater\n    println!(\"{:?}\", (0..).contains(&100)); // true\n    // strictly less than 20\n    println!(\"{:?}\", (..20).contains(&20)); // false\n    // 20 or less than 20\n    println!(\"{:?}\", (..=20).contains(&20)); // true\n    // only 3, 4, 5\n    println!(\"{:?}\", (3..6).contains(&4)); // true\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"fn main() {\n    // 0 or greater\n    println!(\"{:?}\", (0..).contains(&100)); // true\n    // strictly less than 20\n    println!(\"{:?}\", (..20).contains(&20)); // false\n    // 20 or less than 20\n    println!(\"{:?}\", (..=20).contains(&20)); // true\n    // only 3, 4, 5\n    println!(\"{:?}\", (3..6).contains(&4)); // true\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"借用规则也适用于切片"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"fn tail(s: &[u8]) -> &[u8] {\n  &s[1..] \n}\n\nfn main() {\n    let x = &[1, 2, 3, 4, 5];\n    let y = tail(x);\n    println!(\"y = {:?}\", y);\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"fn tail(s: &[u8]) -> &[u8] {\n  &s[1..] \n}\n\nfn main() {\n    let x = &[1, 2, 3, 4, 5];\n    let y = tail(x);\n    println!(\"y = {:?}\", y);\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"等价于"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"fn tail<'a>(s: &'a [u8]) -> &'a [u8] {\n  &s[1..] \n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"fn tail<'a>(s: &'a [u8]) -> &'a [u8] {\n  &s[1..] \n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"这是合法的"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"fn main() {\n    let y = {\n        let x = &[1, 2, 3, 4, 5];\n        tail(x)\n    };\n    println!(\"y = {:?}\", y);\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"fn main() {\n    let y = {\n        let x = &[1, 2, 3, 4, 5];\n        tail(x)\n    };\n    println!(\"y = {:?}\", y);\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"但这因为"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"[1,2,3,4,5]"}]},{"type":"text","value":"是一个静态数组"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"而这是不合法的:"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"fn main() {\n    let y = {\n        let v = vec![1, 2, 3, 4, 5];\n        tail(&v)\n        // error: `v` does not live long enough\n    };\n    println!(\"y = {:?}\", y);\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"fn main() {\n    let y = {\n        let v = vec![1, 2, 3, 4, 5];\n        tail(&v)\n        // error: `v` does not live long enough\n    };\n    println!(\"y = {:?}\", y);\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"因为vector是分配在堆上的，没有"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"'static"}]},{"type":"text","value":"的生命周期"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"&str实际上是切片:"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"fn file_ext(name: &str) -> Option<&str> {\n    // this does not create a new string - it returns\n    // a slice of the argument.\n    name.split(\".\").last()\n}\n\nfn main() {\n    let name = \"Read me. Or don't.txt\";\n    if let Some(ext) = file_ext(name) {\n        println!(\"file extension: {}\", ext);\n    } else {\n        println!(\"no file extension\");\n    }\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"fn file_ext(name: &str) -> Option<&str> {\n    // this does not create a new string - it returns\n    // a slice of the argument.\n    name.split(\".\").last()\n}\n\nfn main() {\n    let name = \"Read me. Or don't.txt\";\n    if let Some(ext) = file_ext(name) {\n        println!(\"file extension: {}\", ext);\n    } else {\n        println!(\"no file extension\");\n    }\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"所以借用规则也适用于此:"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"fn main() {\n    let ext = {\n        let name = String::from(\"Read me. Or don't.txt\");\n        file_ext(&name).unwrap_or(\"\")\n        // error: `name` does not live long enough\n    };\n    println!(\"extension: {:?}\", ext);\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"fn main() {\n    let ext = {\n        let name = String::from(\"Read me. Or don't.txt\");\n        file_ext(&name).unwrap_or(\"\")\n        // error: `name` does not live long enough\n    };\n    println!(\"extension: {:?}\", ext);\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"函数可以失败并特别地返回一个"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Result"}]}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"fn main() {\n    let s = std::str::from_utf8(&[240, 159, 141, 137]);\n    println!(\"{:?}\", s);\n    // prints: Ok(\"🍉\")\n\n    let s = std::str::from_utf8(&[195, 40]);\n    println!(\"{:?}\", s);\n    // prints: Err(Utf8Error { valid_up_to: 0, error_len: Some(1) })\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"fn main() {\n    let s = std::str::from_utf8(&[240, 159, 141, 137]);\n    println!(\"{:?}\", s);\n    // prints: Ok(\"🍉\")\n\n    let s = std::str::from_utf8(&[195, 40]);\n    println!(\"{:?}\", s);\n    // prints: Err(Utf8Error { valid_up_to: 0, error_len: Some(1) })\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"如果你想在失败的情况下"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"panic"}]},{"type":"text","value":",可以使用"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".unwrap()"}]}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"fn main() {\n    let s = std::str::from_utf8(&[240, 159, 141, 137]).unwrap();\n    println!(\"{:?}\", s);\n    // prints: \"🍉\"\n\n    let s = std::str::from_utf8(&[195, 40]).unwrap();\n    // prints: thread 'main' panicked at 'called `Result::unwrap()`\n    // on an `Err` value: Utf8Error { valid_up_to: 0, error_len: Some(1) }',\n    // src/libcore/result.rs:1165:5\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"fn main() {\n    let s = std::str::from_utf8(&[240, 159, 141, 137]).unwrap();\n    println!(\"{:?}\", s);\n    // prints: \"🍉\"\n\n    let s = std::str::from_utf8(&[195, 40]).unwrap();\n    // prints: thread 'main' panicked at 'called `Result::unwrap()`\n    // on an `Err` value: Utf8Error { valid_up_to: 0, error_len: Some(1) }',\n    // src/libcore/result.rs:1165:5\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"或者用 .expect(), 可以自定义信息"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"fn main() {\n    let s = std::str::from_utf8(&[195, 40]).expect(\"valid utf-8\");\n    // prints: thread 'main' panicked at 'valid utf-8: Utf8Error\n    // { valid_up_to: 0, error_len: Some(1) }', src/libcore/result.rs:1165:5\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"fn main() {\n    let s = std::str::from_utf8(&[195, 40]).expect(\"valid utf-8\");\n    // prints: thread 'main' panicked at 'valid utf-8: Utf8Error\n    // { valid_up_to: 0, error_len: Some(1) }', src/libcore/result.rs:1165:5\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"或者使用模式匹配"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"match"}]}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"fn main() {\n    match std::str::from_utf8(&[240, 159, 141, 137]) {\n        Ok(s) => println!(\"{}\", s),\n        Err(e) => panic!(e),\n    }\n    // prints 🍉\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"fn main() {\n    match std::str::from_utf8(&[240, 159, 141, 137]) {\n        Ok(s) => println!(\"{}\", s),\n        Err(e) => panic!(e),\n    }\n    // prints 🍉\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"或者使用:"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"if let"}]}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"fn main() {\n    if let Ok(s) = std::str::from_utf8(&[240, 159, 141, 137]) {\n        println!(\"{}\", s);\n    }\n    // prints 🍉\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"fn main() {\n    if let Ok(s) = std::str::from_utf8(&[240, 159, 141, 137]) {\n        println!(\"{}\", s);\n    }\n    // prints 🍉\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"或者将错误上报:"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"fn main() -> Result<(), std::str::Utf8Error> {\n    match std::str::from_utf8(&[240, 159, 141, 137]) {\n        Ok(s) => println!(\"{}\", s),\n        Err(e) => return Err(e),\n    }\n    Ok(())\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"fn main() -> Result<(), std::str::Utf8Error> {\n    match std::str::from_utf8(&[240, 159, 141, 137]) {\n        Ok(s) => println!(\"{}\", s),\n        Err(e) => return Err(e),\n    }\n    Ok(())\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"或者使用 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"?"}]},{"type":"text","value":" 简单处理"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"fn main() -> Result<(), std::str::Utf8Error> {\n    let s = std::str::from_utf8(&[240, 159, 141, 137])?;\n    println!(\"{}\", s);\n    Ok(())\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"fn main() -> Result<(), std::str::Utf8Error> {\n    let s = std::str::from_utf8(&[240, 159, 141, 137])?;\n    println!(\"{}\", s);\n    Ok(())\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"操作符 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"*"}]},{"type":"text","value":" 可以用于解引用，但是您不需要这样来访问字段或调用方法:"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"struct Point {\n    x: f64,\n    y: f64,\n}\n\nfn main() {\n    let p = Point { x: 1.0, y: 3.0 };\n    let p_ref = &p;\n    println!(\"({}, {})\", p_ref.x, p_ref.y);\n}\n\n// prints `(1, 3)`\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"struct Point {\n    x: f64,\n    y: f64,\n}\n\nfn main() {\n    let p = Point { x: 1.0, y: 3.0 };\n    let p_ref = &p;\n    println!(\"({}, {})\", p_ref.x, p_ref.y);\n}\n\n// prints `(1, 3)`\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"如果类型为Copy时只需要这样:"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"struct Point {\n    x: f64,\n    y: f64,\n}\n\nfn negate(p: Point) -> Point {\n    Point {\n        x: -p.x,\n        y: -p.y,\n    }\n}\n\nfn main() {\n    let p = Point { x: 1.0, y: 3.0 };\n    let p_ref = &p;\n    negate(*p_ref);\n    // error: cannot move out of `*p_ref` which is behind a shared reference\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"struct Point {\n    x: f64,\n    y: f64,\n}\n\nfn negate(p: Point) -> Point {\n    Point {\n        x: -p.x,\n        y: -p.y,\n    }\n}\n\nfn main() {\n    let p = Point { x: 1.0, y: 3.0 };\n    let p_ref = &p;\n    negate(*p_ref);\n    // error: cannot move out of `*p_ref` which is behind a shared reference\n}\n"}]}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"// now `Point` is `Copy`\n#[derive(Clone, Copy)]\nstruct Point {\n    x: f64,\n    y: f64,\n}\n\nfn negate(p: Point) -> Point {\n    Point {\n        x: -p.x,\n        y: -p.y,\n    }\n}\n\nfn main() {\n    let p = Point { x: 1.0, y: 3.0 };\n    let p_ref = &p;\n    negate(*p_ref); // ...and now this works\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"// now `Point` is `Copy`\n#[derive(Clone, Copy)]\nstruct Point {\n    x: f64,\n    y: f64,\n}\n\nfn negate(p: Point) -> Point {\n    Point {\n        x: -p.x,\n        y: -p.y,\n    }\n}\n\nfn main() {\n    let p = Point { x: 1.0, y: 3.0 };\n    let p_ref = &p;\n    negate(*p_ref); // ...and now this works\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Closure"}]},{"type":"text","value":"(闭包)只是 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Fn"}]},{"type":"text","value":"、 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"FnMut"}]},{"type":"text","value":" 或 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"FnOnce"}]},{"type":"text","value":" 类型的函数，具有一定的"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"context"}]},{"type":"text","value":"(语境/运行环境/上下文)"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Their parameters are a comma-separated list of names within a pair of pipes (). They don't need curly braces, unless you want to have multiple statements.|\nClosure的参数是一对管道(|)中以逗号分隔的名称列表。不需要花括号，除非您想要有多个语句。"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"fn for_each_planet<F>(f: F)\n    where F: Fn(&'static str)\n{\n    f(\"Earth\");\n    f(\"Mars\");\n    f(\"Jupiter\");\n}\n \nfn main() {\n    for_each_planet(|planet| println!(\"Hello, {}\", planet));\n}\n\n// prints:\n// Hello, Earth\n// Hello, Mars\n// Hello, Jupiter\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"fn for_each_planet<F>(f: F)\n    where F: Fn(&'static str)\n{\n    f(\"Earth\");\n    f(\"Mars\");\n    f(\"Jupiter\");\n}\n \nfn main() {\n    for_each_planet(|planet| println!(\"Hello, {}\", planet));\n}\n\n// prints:\n// Hello, Earth\n// Hello, Mars\n// Hello, Jupiter\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"借用规则也适用与此"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"fn for_each_planet<F>(f: F)\n    where F: Fn(&'static str)\n{\n    f(\"Earth\");\n    f(\"Mars\");\n    f(\"Jupiter\");\n}\n \nfn main() {\n    let greeting = String::from(\"Good to see you\");\n    for_each_planet(|planet| println!(\"{}, {}\", greeting, planet));\n    // our closure borrows `greeting`, so it cannot outlive it\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"fn for_each_planet<F>(f: F)\n    where F: Fn(&'static str)\n{\n    f(\"Earth\");\n    f(\"Mars\");\n    f(\"Jupiter\");\n}\n \nfn main() {\n    let greeting = String::from(\"Good to see you\");\n    for_each_planet(|planet| println!(\"{}, {}\", greeting, planet));\n    // our closure borrows `greeting`, so it cannot outlive it\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"这个例子不能运行:"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"fn for_each_planet<F>(f: F)\n    where F: Fn(&'static str) + 'static // `F` must now have \"'static\" lifetime\n{\n    f(\"Earth\");\n    f(\"Mars\");\n    f(\"Jupiter\");\n}\n\nfn main() {\n    let greeting = String::from(\"Good to see you\");\n    for_each_planet(|planet| println!(\"{}, {}\", greeting, planet));\n    // error: closure may outlive the current function, but it borrows\n    // `greeting`, which is owned by the current function\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"fn for_each_planet<F>(f: F)\n    where F: Fn(&'static str) + 'static // `F` must now have \"'static\" lifetime\n{\n    f(\"Earth\");\n    f(\"Mars\");\n    f(\"Jupiter\");\n}\n\nfn main() {\n    let greeting = String::from(\"Good to see you\");\n    for_each_planet(|planet| println!(\"{}, {}\", greeting, planet));\n    // error: closure may outlive the current function, but it borrows\n    // `greeting`, which is owned by the current function\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"但这个可以:"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"fn main() {\n    let greeting = String::from(\"You're doing great\");\n    for_each_planet(move |planet| println!(\"{}, {}\", greeting, planet));\n    // `greeting` is no longer borrowed, it is *moved* into\n    // the closure.\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"fn main() {\n    let greeting = String::from(\"You're doing great\");\n    for_each_planet(move |planet| println!(\"{}, {}\", greeting, planet));\n    // `greeting` is no longer borrowed, it is *moved* into\n    // the closure.\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"An needs to be mutably borrowed to be called, so it can only be called once at a time.FnMut\n"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"FnMut"}]},{"type":"text","value":" 需要可变地借用才能被调用，因此一次只能调用一次"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"这是合法的:"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"fn foobar<F>(f: F)\n    where F: Fn(i32) -> i32\n{\n    println!(\"{}\", f(f(2))); \n}\n \nfn main() {\n    foobar(|x| x * 2);\n}\n\n// output: 8\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"fn foobar<F>(f: F)\n    where F: Fn(i32) -> i32\n{\n    println!(\"{}\", f(f(2))); \n}\n \nfn main() {\n    foobar(|x| x * 2);\n}\n\n// output: 8\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"而这不合法:"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"fn foobar<F>(mut f: F)\n    where F: FnMut(i32) -> i32\n{\n    println!(\"{}\", f(f(2))); \n    // error: cannot borrow `f` as mutable more than once at a time\n}\n \nfn main() {\n    foobar(|x| x * 2);\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"fn foobar<F>(mut f: F)\n    where F: FnMut(i32) -> i32\n{\n    println!(\"{}\", f(f(2))); \n    // error: cannot borrow `f` as mutable more than once at a time\n}\n \nfn main() {\n    foobar(|x| x * 2);\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"这也是合法的:"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"fn foobar<F>(mut f: F)\n    where F: FnMut(i32) -> i32\n{\n    let tmp = f(2);\n    println!(\"{}\", f(tmp)); \n}\n \nfn main() {\n    foobar(|x| x * 2);\n}\n\n// output: 8\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"fn foobar<F>(mut f: F)\n    where F: FnMut(i32) -> i32\n{\n    let tmp = f(2);\n    println!(\"{}\", f(tmp)); \n}\n \nfn main() {\n    foobar(|x| x * 2);\n}\n\n// output: 8\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"FnMut"}]},{"type":"text","value":" 之所以存在，是因为一些闭包可变地借用本地变量"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"fn foobar<F>(mut f: F)\n    where F: FnMut(i32) -> i32\n{\n    let tmp = f(2);\n    println!(\"{}\", f(tmp)); \n}\n \nfn main() {\n    let mut acc = 2;\n    foobar(|x| {\n        acc += 1;\n        x * acc\n    });\n}\n\n// output: 24\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"fn foobar<F>(mut f: F)\n    where F: FnMut(i32) -> i32\n{\n    let tmp = f(2);\n    println!(\"{}\", f(tmp)); \n}\n \nfn main() {\n    let mut acc = 2;\n    foobar(|x| {\n        acc += 1;\n        x * acc\n    });\n}\n\n// output: 24\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"这些闭包不能被传递给期望的 Fn 函数:"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"fn foobar<F>(f: F)\n    where F: Fn(i32) -> i32\n{\n    println!(\"{}\", f(f(2))); \n}\n \nfn main() {\n    let mut acc = 2;\n    foobar(|x| {\n        acc += 1;\n        // error: cannot assign to `acc`, as it is a\n        // captured variable in a `Fn` closure.\n        // the compiler suggests \"changing foobar\n        // to accept closures that implement `FnMut`\"\n        x * acc\n    });\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"fn foobar<F>(f: F)\n    where F: Fn(i32) -> i32\n{\n    println!(\"{}\", f(f(2))); \n}\n \nfn main() {\n    let mut acc = 2;\n    foobar(|x| {\n        acc += 1;\n        // error: cannot assign to `acc`, as it is a\n        // captured variable in a `Fn` closure.\n        // the compiler suggests \"changing foobar\n        // to accept closures that implement `FnMut`\"\n        x * acc\n    });\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"FnOnce 闭包只能调用一次。它们之所以存在，是因为某些闭包移出了在捕获时被移动的变量"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"fn foobar<F>(f: F)\n    where F: FnOnce() -> String\n{\n    println!(\"{}\", f()); \n}\n \nfn main() {\n    let s = String::from(\"alright\");\n    foobar(move || s);\n    // `s` was moved into our closure, and our\n    // closures moves it to the caller by returning\n    // it. Remember that `String` is not `Copy`.\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"fn foobar<F>(f: F)\n    where F: FnOnce() -> String\n{\n    println!(\"{}\", f()); \n}\n \nfn main() {\n    let s = String::from(\"alright\");\n    foobar(move || s);\n    // `s` was moved into our closure, and our\n    // closures moves it to the caller by returning\n    // it. Remember that `String` is not `Copy`.\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"这是自然执行的，因为需要移动 FnOnce 闭包才能被调用。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"所以这个例子是不合法的:"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"fn foobar<F>(f: F)\n    where F: FnOnce() -> String\n{\n    println!(\"{}\", f()); \n    println!(\"{}\", f()); \n    // error: use of moved value: `f`\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"fn foobar<F>(f: F)\n    where F: FnOnce() -> String\n{\n    println!(\"{}\", f()); \n    println!(\"{}\", f()); \n    // error: use of moved value: `f`\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"而且，如果你需要说服我们的关闭确实移动 s，这也是非法的"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"fn main() {\n    let s = String::from(\"alright\");\n    foobar(move || s);\n    foobar(move || s);\n    // use of moved value: `s`\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"fn main() {\n    let s = String::from(\"alright\");\n    foobar(move || s);\n    foobar(move || s);\n    // use of moved value: `s`\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"但这个是对的:"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"fn main() {\n    let s = String::from(\"alright\");\n    foobar(|| s.clone());\n    foobar(|| s.clone());\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"fn main() {\n    let s = String::from(\"alright\");\n    foobar(|| s.clone());\n    foobar(|| s.clone());\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"带有两个参数的闭包:"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"fn foobar<F>(x: i32, y: i32, is_greater: F)\n    where F: Fn(i32, i32) -> bool\n{\n    let (greater, smaller) = if is_greater(x, y) {\n        (x, y)\n    } else {\n        (y, x)\n    };\n    println!(\"{} is greater than {}\", greater, smaller);\n}\n \nfn main() {\n    foobar(32, 64, |x, y| x > y);\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"fn foobar<F>(x: i32, y: i32, is_greater: F)\n    where F: Fn(i32, i32) -> bool\n{\n    let (greater, smaller) = if is_greater(x, y) {\n        (x, y)\n    } else {\n        (y, x)\n    };\n    println!(\"{} is greater than {}\", greater, smaller);\n}\n \nfn main() {\n    foobar(32, 64, |x, y| x > y);\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"省略所有参数的闭包:"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"fn main() {\n    foobar(32, 64, |_, _| panic!(\"Comparing is futile!\"));\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"fn main() {\n    foobar(32, 64, |_, _| panic!(\"Comparing is futile!\"));\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Here's a slightly worrying closure:"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"fn countdown<F>(count: usize, tick: F)\n    where F: Fn(usize)\n{\n    for i in (1..=count).rev() {\n        tick(i);\n    }\n}\n \nfn main() {\n    countdown(3, |i| println!(\"tick {}...\", i));\n}\n\n// output:\n// tick 3...\n// tick 2...\n// tick 1...\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"fn countdown<F>(count: usize, tick: F)\n    where F: Fn(usize)\n{\n    for i in (1..=count).rev() {\n        tick(i);\n    }\n}\n \nfn main() {\n    countdown(3, |i| println!(\"tick {}...\", i));\n}\n\n// output:\n// tick 3...\n// tick 2...\n// tick 1...\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"And here's a toilet closure:"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"fn main() {\n    countdown(3, |_| ());\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"fn main() {\n    countdown(3, |_| ());\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"这样叫是因为"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"|_| ()"}]},{"type":"text","value":"看起来像厕所"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"任何可迭代的内容都可以在 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"for in"}]},{"type":"text","value":" 循环中使用。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We've just seen a range being used, but it also works with a "},{"type":"element","tag":"vec","props":{},"children":[]},{"type":"text","value":"\n我们之前看了range的使用，也可以用于Vec"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"fn main() {\n    for i in vec![52, 49, 21] {\n        println!(\"I like the number {}\", i);\n    }\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"fn main() {\n    for i in vec![52, 49, 21] {\n        println!(\"I like the number {}\", i);\n    }\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"或用于切片:"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"fn main() {\n    for i in &[52, 49, 21] {\n        println!(\"I like the number {}\", i);\n    }\n}\n\n// output:\n// I like the number 52\n// I like the number 49\n// I like the number 21\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"fn main() {\n    for i in &[52, 49, 21] {\n        println!(\"I like the number {}\", i);\n    }\n}\n\n// output:\n// I like the number 52\n// I like the number 49\n// I like the number 21\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"或一个实际的迭代器(actual iterator)"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"fn main() {\n    // note: `&str` also has a `.bytes()` iterator.\n    // Rust's `char` type is a \"Unicode scalar value\"\n    for c in \"rust\".chars() {\n        println!(\"Give me a {}\", c);\n    }\n}\n\n// output:\n// Give me a r\n// Give me a u\n// Give me a s\n// Give me a t\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"fn main() {\n    // note: `&str` also has a `.bytes()` iterator.\n    // Rust's `char` type is a \"Unicode scalar value\"\n    for c in \"rust\".chars() {\n        println!(\"Give me a {}\", c);\n    }\n}\n\n// output:\n// Give me a r\n// Give me a u\n// Give me a s\n// Give me a t\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"即使迭代项被过滤、映射和扁平化"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"fn main() {\n    for c in \"SuRPRISE INbOUND\"\n        .chars()\n        .filter(|c| c.is_lowercase())\n        .flat_map(|c| c.to_uppercase())\n    {\n        print!(\"{}\", c);\n    }\n    println!();\n}\n\n// output: UB\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"fn main() {\n    for c in \"SuRPRISE INbOUND\"\n        .chars()\n        .filter(|c| c.is_lowercase())\n        .flat_map(|c| c.to_uppercase())\n    {\n        print!(\"{}\", c);\n    }\n    println!();\n}\n\n// output: UB\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"你可以从函数返回一个闭包"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"fn make_tester(answer: String) -> impl Fn(&str) -> bool {\n    move |challenge| {\n        challenge == answer\n    }\n}\n\nfn main() {\n    // you can use `.into()` to perform conversions\n    // between various types, here `&'static str` and `String`\n    let test = make_tester(\"hunter2\".into());\n    println!(\"{}\", test(\"******\"));\n    println!(\"{}\", test(\"hunter2\"));\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"fn make_tester(answer: String) -> impl Fn(&str) -> bool {\n    move |challenge| {\n        challenge == answer\n    }\n}\n\nfn main() {\n    // you can use `.into()` to perform conversions\n    // between various types, here `&'static str` and `String`\n    let test = make_tester(\"hunter2\".into());\n    println!(\"{}\", test(\"******\"));\n    println!(\"{}\", test(\"hunter2\"));\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"你甚至可以将一个对函数参数的引用移动到它返回的闭包中:"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"fn make_tester<'a>(answer: &'a str) -> impl Fn(&str) -> bool + 'a {\n    move |challenge| {\n        challenge == answer\n    }\n}\n\nfn main() {\n    let test = make_tester(\"hunter2\");\n    println!(\"{}\", test(\"*******\"));\n    println!(\"{}\", test(\"hunter2\"));\n}\n\n// output:\n// false\n// true\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"fn make_tester<'a>(answer: &'a str) -> impl Fn(&str) -> bool + 'a {\n    move |challenge| {\n        challenge == answer\n    }\n}\n\nfn main() {\n    let test = make_tester(\"hunter2\");\n    println!(\"{}\", test(\"*******\"));\n    println!(\"{}\", test(\"hunter2\"));\n}\n\n// output:\n// false\n// true\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"或者略掉生命周期"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"fn make_tester(answer: &str) -> impl Fn(&str) -> bool + '_ {\n    move |challenge| {\n        challenge == answer\n    }\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"fn make_tester(answer: &str) -> impl Fn(&str) -> bool + '_ {\n    move |challenge| {\n        challenge == answer\n    }\n}\n"}]}]}],"toc":{"title":"","searchDepth":2,"depth":3,"links":[]}},"_type":"markdown","_id":"content:essay:32.(翻译)rust半小时学习.md","_source":"content","_file":"essay/32.(翻译)rust半小时学习.md","_stem":"essay/32.(翻译)rust半小时学习","_extension":"md"},{"_path":"/essay/31.rust模块系统","_dir":"essay","_draft":false,"_partial":false,"_locale":"","title":"rust模块系统","description":"参考文章:\nhttps://www.sheshbabu.com/posts/rust-module-system/","subtitle":"Clear explanation of Rust’s module system","index":31,"date":"2023-04-09","lunar_date":"闰二十九","year":"2023","month":"04","month_en":"Apr","day":"09","tag":"技术","tag_en":"TECH","cover":"/img/rabbit/031.jpg","categories":"rust","body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"参考文章:\n"},{"type":"element","tag":"a","props":{"href":"https://www.sheshbabu.com/posts/rust-module-system/","rel":["nofollow"]},"children":[{"type":"text","value":"https://www.sheshbabu.com/posts/rust-module-system/"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"另外，rust虽然可能不错，但rust的基金会经常会搞出一些骚操作，让我犹豫要不要继续学"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://www.zhihu.com/question/594913275","rel":["nofollow"]},"children":[{"type":"text","value":"https://www.zhihu.com/question/594913275"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://rustcc.cn/article?id=37017d56-bf8d-4395-9359-3f996a81f7f7","rel":["nofollow"]},"children":[{"type":"text","value":"https://rustcc.cn/article?id=37017d56-bf8d-4395-9359-3f996a81f7f7"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://rustcc.cn/article?id=2db1b8b9-fe59-4069-97bd-0c4343860ffc","rel":["nofollow"]},"children":[{"type":"text","value":"https://rustcc.cn/article?id=2db1b8b9-fe59-4069-97bd-0c4343860ffc"}]}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"使用cargo创建新项目rust_demo,在rust_demo/src下建立如下项目结构"}]},{"type":"element","tag":"pre","props":{"className":["language-bash"],"code":"│  config.rs\n│  main.rs\n│\n├─models\n│       mod.rs\n│       user_model.rs\n│      \n└─routes\n        mod.rs\n        health_route.rs\n        user_route.rs\n","language":"bash","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"│  config.rs\n│  main.rs\n│\n├─models\n│       mod.rs\n│       user_model.rs\n│      \n└─routes\n        mod.rs\n        health_route.rs\n        user_route.rs\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"对于该项目结构，模块系统如下"}]},{"type":"element","tag":"pre","props":{"className":["language-bash"],"code":"crate\n│  \n├─config\n│\n├─models  \n│   │\n│   └─ user_model\n│\n└─routes\n    │\n    ├─ health_route\n    │\n    └─ user_route\n","language":"bash","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"crate\n│  \n├─config\n│\n├─models  \n│   │\n│   └─ user_model\n│\n└─routes\n    │\n    ├─ health_route\n    │\n    └─ user_route\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"接下来会循序渐进地讲解"}]},{"type":"element","tag":"h1","props":{"id":"mainrs调用同层级"},"children":[{"type":"text","value":"main.rs调用同层级"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"│  config.rs\n│  main.rs\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"│  config.rs\n│  main.rs\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在config.rs中定义了"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"print_config()"}]},{"type":"text","value":"函数·"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"pub fn print_config(){\n    println!(\"我是config\")\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"pub fn print_config(){\n    println!(\"我是config\")\n}\n"}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"函数默认为私有，使用pub关键字声明为共有，才能在外部使用"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在main.rs使用"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"// mod 关键字声明为一个模块\n// cargo new创建的项目，以 src 为默认的根模块，名称为 crate\n\nmod  config;    // 与要引用的 config.rs 文件名同名\n\nfn main() {\n    // 完整路径为:  crate::config::print_config();\n    // 因为 main.rs 与 config.rs 所处为根模块 crate，所以 crate 可省略\n    config::print_config();\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"// mod 关键字声明为一个模块\n// cargo new创建的项目，以 src 为默认的根模块，名称为 crate\n\nmod  config;    // 与要引用的 config.rs 文件名同名\n\nfn main() {\n    // 完整路径为:  crate::config::print_config();\n    // 因为 main.rs 与 config.rs 所处为根模块 crate，所以 crate 可省略\n    config::print_config();\n}\n"}]}]},{"type":"element","tag":"h1","props":{"id":"mainrs调用不同层级"},"children":[{"type":"text","value":"main.rs调用不同层级"}]},{"type":"element","tag":"pre","props":{"className":["language-bash"],"code":"│  config.rs\n│  main.rs\n│\n└─models\n        mod.rs\n        user_model.rs\n","language":"bash","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"│  config.rs\n│  main.rs\n│\n└─models\n        mod.rs\n        user_model.rs\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"models/user_model.rs"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"pub fn print_user_model() {\n    println!(\"我是user_model\");\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"pub fn print_user_model() {\n    println!(\"我是user_model\");\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"新建models/mod.rs,在mod.rs中声明模块 mod"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"// 文件 mod.rs 表明所处的目录 models 为一个 mod\npub mod user_model;// 子 mod 名称与其文件名相同\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"// 文件 mod.rs 表明所处的目录 models 为一个 mod\npub mod user_model;// 子 mod 名称与其文件名相同\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在main.rs中调用"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"mod  config;\nmod  models;\n\nfn main() {\n    config::print_config();\n    models::user_model::print_user_model();\n    // `一级mod` :: `二级mod` :: ... :: `函数`\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"mod  config;\nmod  models;\n\nfn main() {\n    config::print_config();\n    models::user_model::print_user_model();\n    // `一级mod` :: `二级mod` :: ... :: `函数`\n}\n"}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"mod.rs表明了该文件所处的目录"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"models"}]},{"type":"text","value":"为一个mod"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"在mod.rs中声明公有的子mod:"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"user_model"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"在main.rs中使用"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"models/user_model.rs"}]},{"type":"text","value":"中的函数"}]}]}]},{"type":"element","tag":"h1","props":{"id":"不同层级的rs文件调用"},"children":[{"type":"text","value":"不同层级的rs文件调用"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"最后的文件层级如下："}]},{"type":"element","tag":"pre","props":{"className":["language-bash"],"code":"│  config.rs\n│  main.rs\n│\n├─models\n│      mod.rs\n│      user_model.rs\n│      \n└─routes\n        mod.rs\n        user_route.rs\n","language":"bash","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"│  config.rs\n│  main.rs\n│\n├─models\n│      mod.rs\n│      user_model.rs\n│      \n└─routes\n        mod.rs\n        user_route.rs\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"routes/mod.rs"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"pub mod user_models\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"pub mod user_models\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在routes/user_routes.rs中调用models/user_model的函数"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"pub fn print_user_route() {\n    println!(\"print_user_model被调用了！\");\n    crate::models::user_model::print_user_model();\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"pub fn print_user_route() {\n    println!(\"print_user_model被调用了！\");\n    crate::models::user_model::print_user_model();\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"main.rs中使用"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"mod  config;\nmod  routes;\nmod  models;\n\nfn main() {\n    println!(\"我是main\");\n    config::print_config();\n    models::user_model::print_user_model();\n    routes::user_route::print_user_route();\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"mod  config;\nmod  routes;\nmod  models;\n\nfn main() {\n    println!(\"我是main\");\n    config::print_config();\n    models::user_model::print_user_model();\n    routes::user_route::print_user_route();\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"对于该文件层级定义的各个mod模块，其模块系统如下"}]},{"type":"element","tag":"pre","props":{"className":["language-bash"],"code":"crate\n│  \n├─config\n│\n├─models  \n│   │\n│   └─ user_model\n│\n└─routes\n    │\n    └─ user_route\n","language":"bash","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"crate\n│  \n├─config\n│\n├─models  \n│   │\n│   └─ user_model\n│\n└─routes\n    │\n    └─ user_route\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"crate为根模块，在上述routes/user_routes.rs中使用crate的绝对路径调用:"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"crate::models::user_model::print_user_model();\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"crate::models::user_model::print_user_model();\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"路径太长在编写代码时不易阅读，使用use关键字\n修改routes/user_routes.rs"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"// 使用 use 引入模块的函数，后续只需要写函数名即可\nuse crate::models::user_model::print_user_model;\npub fn print_user_route() {\n    println!(\"print_user_model被调用了！\");\n    print_user_model();\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"// 使用 use 引入模块的函数，后续只需要写函数名即可\nuse crate::models::user_model::print_user_model;\npub fn print_user_route() {\n    println!(\"print_user_model被调用了！\");\n    print_user_model();\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"使用 as 关键字重新自定义调用的函数名并使用，可解决名称冲突的问题"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"use crate::models::user_model::print_user_model as aa;\npub fn print_user_route() {\n    println!(\"print_user_model被调用了！\");\n    aa();\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"use crate::models::user_model::print_user_model as aa;\npub fn print_user_route() {\n    println!(\"print_user_model被调用了！\");\n    aa();\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"上面的crate为绝对路径调用，下面使用supper进行相对路径调用:\n在routes中再新建一个health_route.rs"}]},{"type":"element","tag":"pre","props":{"className":["language-bash"],"code":"│  config.rs\n│  main.rs\n│\n├─models\n│      mod.rs\n│      user_model.rs\n│      \n└─routes\n        mod.rs\n        user_route.rs\n        health_route.rs\n","language":"bash","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"│  config.rs\n│  main.rs\n│\n├─models\n│      mod.rs\n│      user_model.rs\n│      \n└─routes\n        mod.rs\n        user_route.rs\n        health_route.rs\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"routes/health_route.rs"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"pub fn print_health_route() {\n  println!(\"我是health_route\");\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"pub fn print_health_route() {\n  println!(\"我是health_route\");\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"要想在外部调用，不要忘记先在routes/mod.rs中声明"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"pub mod health_route;\npub mod user_route;\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"pub mod health_route;\npub mod user_route;\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"routes/user_route.rs"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"use crate::models::user_model::print_user_model as aa;\npub fn print_user_route() {\n    println!(\"print_user_model被调用了！\");\n    aa();\n\n    println!(\"print_health_route被调用了！\");\n    super::health_route::print_health_route();\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"use crate::models::user_model::print_user_model as aa;\npub fn print_user_route() {\n    println!(\"print_user_model被调用了！\");\n    aa();\n\n    println!(\"print_health_route被调用了！\");\n    super::health_route::print_health_route();\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"super是上一层级的mod，对于user_routes来说上一级为:"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"crate::models"}]}]}],"toc":{"title":"","searchDepth":2,"depth":3,"links":[]}},"_type":"markdown","_id":"content:essay:31.rust模块系统.md","_source":"content","_file":"essay/31.rust模块系统.md","_stem":"essay/31.rust模块系统","_extension":"md"},{"_path":"/essay/30.rust基本语法","_dir":"essay","_draft":false,"_partial":false,"_locale":"","title":"rust基本语法","description":"不可变变量:在变量赋值或对象创建结束之后就不能再改变它的值或状态的变量\n可变变量:同理，在变量赋值或对象创建结束之后就可以再改变它的值或状态的变量","subtitle":"The basic grammar of Rust","index":30,"date":"2023-04-08","lunar_date":"闰二十八","year":"2023","month":"04","month_en":"Apr","day":"08","tag":"技术","tag_en":"TECH","cover":"/img/rabbit/030.jpg","categories":"rust","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"变量绑定"},"children":[{"type":"text","value":"变量绑定"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"不可变变量:在变量赋值或对象创建结束之后就不能再改变它的值或状态的变量\n可变变量:同理，在变量赋值或对象创建结束之后就可以再改变它的值或状态的变量"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在rust中使用"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"let"}]},{"type":"text","value":"关键字声明变量绑定\n在rust中默认的都是不可变的，即不可以使用"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"变量=值"}]},{"type":"text","value":"的方式修改绑定的值，如需修改则通过shadowing(掩盖/重影/隐藏)创建一个新的不可变变量绑定\n变量如果需要可变需要使用"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"mut"}]},{"type":"text","value":"修饰，可以直接修改绑定的值"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"let x = 1;      // 创建一个不可变变量，将 1 与变量绑定\nx = 2;          // 错误，不能修改不可变变量绑定的值\nlet x = 2;      // 正确，通过shadowing创建一个新的不可变绑定\nlet mut y = 1;  // 创建一个可变变量，将 1 与变量绑定\ny = 2;          // 正确，可以修改可变变量\nlet z: i16 = 3  // 显式声明，指定类型，默认的隐式声明会自动推断类型\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"let x = 1;      // 创建一个不可变变量，将 1 与变量绑定\nx = 2;          // 错误，不能修改不可变变量绑定的值\nlet x = 2;      // 正确，通过shadowing创建一个新的不可变绑定\nlet mut y = 1;  // 创建一个可变变量，将 1 与变量绑定\ny = 2;          // 正确，可以修改可变变量\nlet z: i16 = 3  // 显式声明，指定类型，默认的隐式声明会自动推断类型\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"rust的报错信息"}]},{"type":"element","tag":"pre","props":{"className":["language-bash"],"code":" --> main.rs:3:5\n  |\n2 |     let x=1;\n  |         -\n  |         |\n  |         first assignment to `x`\n  |         help: consider making this binding mutable: `mut x`\n3 |     x=2;\n  |     ^^^ cannot assign twice to immutable variable\n","language":"bash","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":" --> main.rs:3:5\n  |\n2 |     let x=1;\n  |         -\n  |         |\n  |         first assignment to `x`\n  |         help: consider making this binding mutable: `mut x`\n3 |     x=2;\n  |     ^^^ cannot assign twice to immutable variable\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"你会看到cannot assign twice to immutable variable（不能对不可变变量 x 二次赋值）"}]},{"type":"element","tag":"h1","props":{"id":"shadowing隐藏掩盖重影"},"children":[{"type":"text","value":"shadowing(隐藏/掩盖/重影)"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"上面提到不可变变量不能二次赋值，但可以使用shadowing，将原变量“shadowing(隐藏)”\nshadowing是使用同名的新变量隐藏掉了原变量，直到新变量也被隐藏或者其作用域结束为止，使用该变量名的行为都视为使用这个新变量。\n可以多次隐藏。"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"fn main() {\n    let x = 5;// x=5\n\n    let x = x + 1;// x=6\n\n    {\n        let x = x * 2;\n        println!(\"The value of x in the inner scope is: {x}\");\n        // x=12\n        // x=12的作用域结束\n    }\n\n    println!(\"The value of x is: {x}\");\n    // x=6\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"fn main() {\n    let x = 5;// x=5\n\n    let x = x + 1;// x=6\n\n    {\n        let x = x * 2;\n        println!(\"The value of x in the inner scope is: {x}\");\n        // x=12\n        // x=12的作用域结束\n    }\n\n    println!(\"The value of x is: {x}\");\n    // x=6\n}\n"}]}]},{"type":"element","tag":"h1","props":{"id":"常量"},"children":[{"type":"text","value":"常量"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"常量只能被设置为常量表达式，而不可以是其他任何只能在运行时计算出的值\n可以出现在任何作用域（包括全局作用域）"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"const PI: f64 = 3.14159;\nconst MAGIC: i32 = 42;\nconst A: i32 =x*y;//错误， x*y是运行时才能确定\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"const PI: f64 = 3.14159;\nconst MAGIC: i32 = 42;\nconst A: i32 =x*y;//错误， x*y是运行时才能确定\n"}]}]},{"type":"element","tag":"h1","props":{"id":"数据类型"},"children":[{"type":"text","value":"数据类型"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"数值类型：分为整型与浮点型"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"i8、i16、i32、i64、i128、isize"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"u8、u16、u32、u64、u128、usize"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"f32、f64"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"其中 isize 和 usize 是指针大小的整数，因此它们的大小与机器架构相关。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"字面值 (literals) 写为 10i8、10u16、10.0f32、10usize 等。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"字面值如果不指定类型，则默认整数为 i32，浮点数为 f64。"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"布尔类型(bool)：true/false\n字符类型：用单引号"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"''"}]},{"type":"text","value":"包裹，unicode编码\n复合类型：数组 (array)、切片 (slice)、字符串 (string)、元组 (tuple)\n函数：函数也是一种类型"}]},{"type":"element","tag":"h2","props":{"id":"数组"},"children":[{"type":"text","value":"数组"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"[T;N]"}]},{"type":"text","value":",T为元素类型，N为元素个数"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"N 是编译时常数 (compile-time constant)，也就是说数组的长度是固定的。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"运行时 (runtime) 访问数组元素会检查是否越界。"}]}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"let arr1 = [1, 2, 3]; // 3个元素的数组\nlet arr2 = [2; 3];  // 3个元素的数组，元素都是 2\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"let arr1 = [1, 2, 3]; // 3个元素的数组\nlet arr2 = [2; 3];  // 3个元素的数组，元素都是 2\n"}]}]},{"type":"element","tag":"h2","props":{"id":"切片"},"children":[{"type":"text","value":"切片"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"切片类型的形式为 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"&[T]"}]},{"type":"text","value":"，例如 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"&[i32]"}]},{"type":"text","value":"\n切片可以是可变的，也可以是不可变的。\n切片不能直接创建，需要从别的变量借用 (borrow),这里暂时直接用go的切片来理解"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"let arr = [0, 1, 2, 3, 4, 5];\nlet total_slice = &arr; // 数组arr的切片\nlet total_slice = &arr[..]; // 与上面的效果一样\nlet partial_slice = &arr[2..5]; // 索引2到4的的元素：[2, 3, 4]\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"let arr = [0, 1, 2, 3, 4, 5];\nlet total_slice = &arr; // 数组arr的切片\nlet total_slice = &arr[..]; // 与上面的效果一样\nlet partial_slice = &arr[2..5]; // 索引2到4的的元素：[2, 3, 4]\n"}]}]},{"type":"element","tag":"h2","props":{"id":"字符串"},"children":[{"type":"text","value":"字符串"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"String"}]},{"type":"text","value":" 是在堆上分配空间、可以增长的字符序列。\n"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"&str"}]},{"type":"text","value":" 是 String 的切片类型\n"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"str"}]},{"type":"text","value":" 是没有大小的类型，编译时不知道大小，因此无法独立存在"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"let s: &str = \"galaxy\";\nlet s2: String = \"galaxy\".to_string();\nlet s3: String = String::from(\"galaxy\");\nlet s4: &str = &s3;\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"let s: &str = \"galaxy\";\nlet s2: String = \"galaxy\".to_string();\nlet s3: String = String::from(\"galaxy\");\nlet s4: &str = &s3;\n"}]}]},{"type":"element","tag":"h2","props":{"id":"元组"},"children":[{"type":"text","value":"元组"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"元组是固定大小的、有序的、异构的列表类型。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"可以通过下标来访问元组的分量，例如 foo.0。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"可以使用 let 绑定来解构。"}]}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"let foo: (i32, char, f64) = (72, 'H', 5.1);\nlet (x, y, z) = (72, 'H', 5.1);\nlet (a, b, c) = foo; // a = 72, b = 'H', c = 5.1\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"let foo: (i32, char, f64) = (72, 'H', 5.1);\nlet (x, y, z) = (72, 'H', 5.1);\nlet (a, b, c) = foo; // a = 72, b = 'H', c = 5.1\n"}]}]},{"type":"element","tag":"h2","props":{"id":"向量"},"children":[{"type":"text","value":"向量"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Vec"}]},{"type":"text","value":"是分配在堆上的、可增长的数组\n"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"<T>"}]},{"type":"text","value":" 表示泛型，使用时代入实际的类型\n使用 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Vec::new()"}]},{"type":"text","value":" 或 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"vec!"}]},{"type":"text","value":" 宏来创建 Vec"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"// Explicit typing\nlet v0: Vec<i32> = Vec::new();\n// v1 and v2 are equal\nlet mut v1 = Vec::new();\nv1.push(1);\nv1.push(2);\nv1.push(3);\nlet v2 = vec![1, 2, 3];\n// v3 and v4 are equal\nlet v3 = vec![0; 4];\nlet v4 = vec![0, 0, 0, 0];\n\nlet v2 = vec![1, 2, 3];\nlet x = v2[2]; // 3\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"// Explicit typing\nlet v0: Vec<i32> = Vec::new();\n// v1 and v2 are equal\nlet mut v1 = Vec::new();\nv1.push(1);\nv1.push(2);\nv1.push(3);\nlet v2 = vec![1, 2, 3];\n// v3 and v4 are equal\nlet v3 = vec![0; 4];\nlet v4 = vec![0, 0, 0, 0];\n\nlet v2 = vec![1, 2, 3];\nlet x = v2[2]; // 3\n"}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"向量可以像数组一样使用 "},{"type":"element","tag":"span","props":{},"children":[]},{"type":"text","value":" 来访问元素。\n"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"在 Rust 中不能用 i32/i64 等类型的值作为下标访问元素。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"必须使用 usize 类型的值，因为 usize 保证和指针是一样长度的。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"其他类型要显式转换成 usize：\nlet i: i8 = 2;\nlet y = v2"},{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"i as usize"}]},{"type":"text","value":";"}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"类型转换"},"children":[{"type":"text","value":"类型转换"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"let x: i32 = 100;\nlet y: u32 = x as u32;\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"let x: i32 = 100;\nlet y: u32 = x as u32;\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"一般来说，只能在可以安全转换的类型之间进行转换操作\n例如，"},{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"u8; 4"}]},{"type":"text","value":" 不能转换为 char 类型"}]},{"type":"element","tag":"h1","props":{"id":"引用"},"children":[{"type":"text","value":"引用"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"&"}]},{"type":"text","value":" 取引用\n"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"*"}]},{"type":"text","value":" 解引用\n与 c++ 一样，在 Rust 中，引用保证是合法的"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"let x = 12;\nlet ref_x = &x;\nprintln!(\"{}\", *ref_x); // 12\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"let x = 12;\nlet ref_x = &x;\nprintln!(\"{}\", *ref_x); // 12\n"}]}]},{"type":"element","tag":"h1","props":{"id":"语句"},"children":[{"type":"text","value":"语句"}]},{"type":"element","tag":"h2","props":{"id":"if-else-条件语句"},"children":[{"type":"text","value":"if-else 条件语句"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"let x = 1;\nif x > 0 {\n    println!(\"1\")\n} else {\n    println!(\"0\")\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"let x = 1;\nif x > 0 {\n    println!(\"1\")\n} else {\n    println!(\"0\")\n}\n"}]}]},{"type":"element","tag":"h2","props":{"id":"while-循环"},"children":[{"type":"text","value":"while 循环"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"let mut x = 0;\nwhile x < 100 {\n    x += 1;\n    println!(\"x: {}\", x);\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"let mut x = 0;\nwhile x < 100 {\n    x += 1;\n    println!(\"x: {}\", x);\n}\n"}]}]},{"type":"element","tag":"h2","props":{"id":"loop-循环"},"children":[{"type":"text","value":"loop 循环"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"无限循环，相当于while true和for(;;),直到遇到break语句或程序终止\nloop 循环中的 break 语句可以返回一个值，作为整个循环的求值结果（另外两种循环没\n有这个功能）"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"let mut x = 0;\n    let y = loop {\n        x += 1;\n        if x * x >= 100 {\n            break x;\n        }\n    };\n    print!(\"{},{}\",x,y)//10,10\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"let mut x = 0;\n    let y = loop {\n        x += 1;\n        if x * x >= 100 {\n            break x;\n        }\n    };\n    print!(\"{},{}\",x,y)//10,10\n"}]}]},{"type":"element","tag":"h2","props":{"id":"for-循环"},"children":[{"type":"text","value":"for 循环"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"\nfor x in 0..10 {\n    println!(\"{}\", x);\n    //输出0到9\n}\n\nlet xs = [0, 1, 2, 3, 4];\nfor x in &xs {\n    println!(\"{}\", x);\n    // 循环输出数组的元素值\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"\nfor x in 0..10 {\n    println!(\"{}\", x);\n    //输出0到9\n}\n\nlet xs = [0, 1, 2, 3, 4];\nfor x in &xs {\n    println!(\"{}\", x);\n    // 循环输出数组的元素值\n}\n"}]}]},{"type":"element","tag":"h2","props":{"id":"match-匹配语句"},"children":[{"type":"text","value":"match 匹配语句"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"类似于switch语句"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"let x = 3;\n// 匹配 x 的值\nmatch x {   \n    // 匹配到 1\n    1 => println!(\"one fish\"), \n    // 匹配到 2\n    2 => {  \n        println!(\"two fish\");\n        println!(\"two fish\");\n    } \n    // 其他情况使用下划线 `_`\n    _ => println!(\"no fish for you\"), \n}\n//  no fish for you\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"let x = 3;\n// 匹配 x 的值\nmatch x {   \n    // 匹配到 1\n    1 => println!(\"one fish\"), \n    // 匹配到 2\n    2 => {  \n        println!(\"two fish\");\n        println!(\"two fish\");\n    } \n    // 其他情况使用下划线 `_`\n    _ => println!(\"no fish for you\"), \n}\n//  no fish for you\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"可以匹配任意表达式"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"let x = 3;\nlet y = -3;\nmatch (x, y) {\n    (1, 1) => println!(\"one\"),\n    (2, j) => println!(\"two, {}\", j),\n    (_, 3) => println!(\"three\"),\n    (i, j) if i > 5 && j < 0 => println!(\"On guard!\"),\n    (_, _) => println!(\":<\"),\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"let x = 3;\nlet y = -3;\nmatch (x, y) {\n    (1, 1) => println!(\"one\"),\n    (2, j) => println!(\"two, {}\", j),\n    (_, 3) => println!(\"three\"),\n    (i, j) if i > 5 && j < 0 => println!(\"On guard!\"),\n    (_, _) => println!(\":<\"),\n}\n"}]}]},{"type":"element","tag":"h1","props":{"id":"模式"},"children":[{"type":"text","value":"模式"}]},{"type":"element","tag":"h1","props":{"id":"函数"},"children":[{"type":"text","value":"函数"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"fn 函数名称(参数列表(参数名:参数类型,...))-> 返回值类型{\n    //函数体\n}\n\nfn foo(x: T, y: U, z: V) -> T {\n// ...\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"fn 函数名称(参数列表(参数名:参数类型,...))-> 返回值类型{\n    //函数体\n}\n\nfn foo(x: T, y: U, z: V) -> T {\n// ...\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Rust 必须显式定义函数的参数和返回值的类型。\n实际上编译器是可以推断函数的参数和返回值的类型的，但是 Rust 的设计者认为显式指定是\n一种更好的实践。"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"fn add(x: i32, y: i32) -> i32 {\n    x + y // 不带分号，返回x+y的值\n}\n\nfn sub(x: i32, y: i32) -> i32 {\n    x - y; // 带分号，没有返回值，编译错误\n}\n\nfn mul(x: i32, y: i32) -> i32 {\n    return x * y; // 使用return关键字，可以加分号\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"fn add(x: i32, y: i32) -> i32 {\n    x + y // 不带分号，返回x+y的值\n}\n\nfn sub(x: i32, y: i32) -> i32 {\n    x - y; // 带分号，没有返回值，编译错误\n}\n\nfn mul(x: i32, y: i32) -> i32 {\n    return x * y; // 使用return关键字，可以加分号\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"因为Rust的函数也是表达式，它们的返回值是由函数体最后一个表达式的值决定的。如果最后一个表达式后面加了分号，那么它就变成了一个语句，而语句没有值，所以函数就没有返回值了。"}]},{"type":"element","tag":"h1","props":{"id":"宏"},"children":[{"type":"text","value":"宏"}]},{"type":"element","tag":"h1","props":{"id":"print-和-println"},"children":[{"type":"text","value":"print! 和 println!"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"let x = \"foo\";\nprint!(\"{}, {}, {}\", x, 3, true);\n// => foo, 3, true\nprintln!(\"{:?}, {:?}\", x, [1, 2, 3]);\n// => \"foo\", [1, 2, 3]\nlet y = 1;\nprintln!(\"{0}, {y}, {0}\", x);\n// => foo, 1, foo\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"let x = \"foo\";\nprint!(\"{}, {}, {}\", x, 3, true);\n// => foo, 3, true\nprintln!(\"{:?}, {:?}\", x, [1, 2, 3]);\n// => \"foo\", [1, 2, 3]\nlet y = 1;\nprintln!(\"{0}, {y}, {0}\", x);\n// => foo, 1, foo\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"使用 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"{}"}]},{"type":"text","value":" 来做字符串插入，"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"{:?}"}]},{"type":"text","value":" 做调试输出。\n有些类型，例如数组和向量，只能用调试输出的方式来打印\n"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"{}"}]},{"type":"text","value":" 里可以加数字，表示第几个参数，新版本还可以把变量名写在 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"{}"}]},{"type":"text","value":" 里"}]}],"toc":{"title":"","searchDepth":2,"depth":3,"links":[{"id":"数组","depth":2,"text":"数组"},{"id":"切片","depth":2,"text":"切片"},{"id":"字符串","depth":2,"text":"字符串"},{"id":"元组","depth":2,"text":"元组"},{"id":"向量","depth":2,"text":"向量"},{"id":"类型转换","depth":2,"text":"类型转换"},{"id":"if-else-条件语句","depth":2,"text":"if-else 条件语句"},{"id":"while-循环","depth":2,"text":"while 循环"},{"id":"loop-循环","depth":2,"text":"loop 循环"},{"id":"for-循环","depth":2,"text":"for 循环"},{"id":"match-匹配语句","depth":2,"text":"match 匹配语句"}]}},"_type":"markdown","_id":"content:essay:30.rust基本语法.md","_source":"content","_file":"essay/30.rust基本语法.md","_stem":"essay/30.rust基本语法","_extension":"md"},{"_path":"/essay/29.rust所有权和引用","_dir":"essay","_draft":false,"_partial":false,"_locale":"","title":"rust所有权和引用","description":"全局对象：事先分配的内存空间段，程序启动时分配，结束时回收。\n局部对象：分配在栈上，进入函数时分配，退出函数时回收。\n动态对象：分配在堆上，需要时分配，不需要时回收。","subtitle":"ownership and reference of Rust","index":29,"date":"2023-04-07","lunar_date":"闰二十七","year":"2023","month":"04","month_en":"Apr","day":"07","tag":"技术","tag_en":"TECH","cover":"/img/rabbit/029.jpg","categories":"rust","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"内存分配"},"children":[{"type":"text","value":"内存分配"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"全局对象：事先分配的内存空间段，程序启动时分配，结束时回收。\n局部对象：分配在栈上，进入函数时分配，退出函数时回收。\n动态对象：分配在堆上，需要时分配，不需要时回收。"}]},{"type":"element","tag":"h1","props":{"id":"规则"},"children":[{"type":"text","value":"规则"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Rust 中的每一个值都有一个 所有者（owner）。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"值在任一时刻有且只有一个所有者。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"当所有者（变量）离开作用域，这个值将被丢弃。"}]}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"{\n    let s = String::from(\"hello\"); // 从此处起，s 是有效的\n    // 使用 s\n}                                  // 此作用域已结束，\n                                   // s 不再有效\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"{\n    let s = String::from(\"hello\"); // 从此处起，s 是有效的\n    // 使用 s\n}                                  // 此作用域已结束，\n                                   // s 不再有效\n"}]}]},{"type":"element","tag":"h1","props":{"id":"move移动转移"},"children":[{"type":"text","value":"move(移动/转移)"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Rust中的数值类型是实现了Copy trait的(存储在栈上的类型)，它们在赋值或者传递给函数时，会自动地进行复制，而不是转移所有权。例如："}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"let x = 42; // x拥有42的所有权\nlet y = x; // y拥有42的所有权，x也保留了42的所有权，因为42是Copy类型\nprintln!(\"x is {}, y is {}\", x, y); // 可以同时使用x和y\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"let x = 42; // x拥有42的所有权\nlet y = x; // y拥有42的所有权，x也保留了42的所有权，因为42是Copy类型\nprintln!(\"x is {}, y is {}\", x, y); // 可以同时使用x和y\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"而对于没有实现Copy trait的类型，比如String(存储在堆上的类型)，它们在赋值或者传递给函数时，会转移所有权，原来的变量就不能再使用了34。例如："}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"let s1 = String::from(\"hello\"); // String::from方法创建字符串\"hello\",s1拥有\"hello\"的所有权，内存分配在堆上\nlet s2 = s1; // s2拥有\"hello\"的所有权，s1失去了\"hello\"的所有权，因为String不是Copy类型\nprintln!(\"s1 is {}\", s1); // 编译错误，s1不能再使用\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"let s1 = String::from(\"hello\"); // String::from方法创建字符串\"hello\",s1拥有\"hello\"的所有权，内存分配在堆上\nlet s2 = s1; // s2拥有\"hello\"的所有权，s1失去了\"hello\"的所有权，因为String不是Copy类型\nprintln!(\"s1 is {}\", s1); // 编译错误，s1不能再使用\n"}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"类似于go的字符串，string类型实质上是指向底层字符数组的指针(指向的底层数组/长度/容量)，s2拷贝了s1的长度和容量但不拷贝数据，s1和s2都指向了同一个字符数组\"hello\"的内存，s2拷贝了。当变量离开作用域后，Rust 会自动调用 drop 函数并清理变量的堆内存。而s1和s2离开作用域后它们都会尝试释放相同的内存，会导致二次释放（double free）的错误，因此为了确保内存安全，所有权转移后s1就不再有效，s1离开作用域后不会释放内存。"}]}]},{"type":"element","tag":"h1","props":{"id":"clone克隆"},"children":[{"type":"text","value":"clone(克隆)"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"clone会分配一块新的内存，拷贝s1指向的字符数组的数据，此时s1和s2指向的底层数组地址是不同的。又可以叫做深拷贝，上面不拷贝数据的则叫做浅拷贝。"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"let s1 = String::from(\"hello\");\nlet s2 = s1.clone();\n\nprintln!(\"s1 = {}, s2 = {}\", s1, s2);\n// s1 = hello, s2 = hello\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"let s1 = String::from(\"hello\");\nlet s2 = s1.clone();\n\nprintln!(\"s1 = {}, s2 = {}\", s1, s2);\n// s1 = hello, s2 = hello\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"实现copy trait的类型则不需要clone也能够复制数据，例如前面的整型类型"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"copy trait"}]},{"type":"text","value":"(标记类型):"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"所有整数类型，比如 u32。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"布尔类型，bool，它的值是 true 和 false。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"所有浮点数类型，比如 f64。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"字符类型，char。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"元组，当且仅当其包含的类型也都实现 Copy 的时候。比如，(i32, + i32) 实现了 Copy，但 (i32, String) 就没有。"}]}]},{"type":"element","tag":"h1","props":{"id":"所有权与函数"},"children":[{"type":"text","value":"所有权与函数"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"fn main() {\n    let s = String::from(\"hello\");  // s 进入作用域\n\n    takes_ownership(s);             // s 的值移动到函数里 ...\n                                    // ... 所以到这里不再有效\n\n    let x = 5;                      // x 进入作用域\n\n    makes_copy(x);                  // x 应该移动函数里，\n                                    // 但 i32 是 Copy 的，\n                                    // 所以在后面可继续使用 x\n\n} // 这里，x 先移出了作用域，然后是 s。但因为 s 的值已被移走，\n  // 没有特殊之处\n\nfn takes_ownership(some_string: String) { // some_string 进入作用域\n    println!(\"{}\", some_string);\n} // 这里，some_string 移出作用域并调用 `drop` 方法。\n  // 占用的内存被释放\n\nfn makes_copy(some_integer: i32) { // some_integer 进入作用域\n    println!(\"{}\", some_integer);\n} // 这里，some_integer 移出作用域。没有特殊之处\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"fn main() {\n    let s = String::from(\"hello\");  // s 进入作用域\n\n    takes_ownership(s);             // s 的值移动到函数里 ...\n                                    // ... 所以到这里不再有效\n\n    let x = 5;                      // x 进入作用域\n\n    makes_copy(x);                  // x 应该移动函数里，\n                                    // 但 i32 是 Copy 的，\n                                    // 所以在后面可继续使用 x\n\n} // 这里，x 先移出了作用域，然后是 s。但因为 s 的值已被移走，\n  // 没有特殊之处\n\nfn takes_ownership(some_string: String) { // some_string 进入作用域\n    println!(\"{}\", some_string);\n} // 这里，some_string 移出作用域并调用 `drop` 方法。\n  // 占用的内存被释放\n\nfn makes_copy(some_integer: i32) { // some_integer 进入作用域\n    println!(\"{}\", some_integer);\n} // 这里，some_integer 移出作用域。没有特殊之处\n"}]}]},{"type":"element","tag":"h1","props":{"id":"返回值参数与作用域"},"children":[{"type":"text","value":"返回值、参数与作用域"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"转移返回值的所有权"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"fn main() {\n    let s1 = gives_ownership();         // gives_ownership 将返回值\n                                        // 转移给 s1\n\n    let s2 = String::from(\"hello\");     // s2 进入作用域\n\n    let s3 = takes_and_gives_back(s2);  // s2 被移动到\n                                        // takes_and_gives_back 中，\n                                        // 它也将返回值移给 s3\n} // 这里，s3 移出作用域并被丢弃。s2 也移出作用域，但已被移走，\n  // 所以什么也不会发生。s1 离开作用域并被丢弃\n\nfn gives_ownership() -> String {             // gives_ownership 会将\n                                             // 返回值移动给\n                                             // 调用它的函数\n\n    let some_string = String::from(\"yours\"); // some_string 进入作用域。\n\n    some_string                              // 返回 some_string \n                                             // 并移出给调用的函数\n                                             // \n}\n\n// takes_and_gives_back 将传入字符串并返回该值\nfn takes_and_gives_back(a_string: String) -> String { // a_string 进入作用域\n                                                      // \n\n    a_string  // 返回 a_string 并移出给调用的函数\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"fn main() {\n    let s1 = gives_ownership();         // gives_ownership 将返回值\n                                        // 转移给 s1\n\n    let s2 = String::from(\"hello\");     // s2 进入作用域\n\n    let s3 = takes_and_gives_back(s2);  // s2 被移动到\n                                        // takes_and_gives_back 中，\n                                        // 它也将返回值移给 s3\n} // 这里，s3 移出作用域并被丢弃。s2 也移出作用域，但已被移走，\n  // 所以什么也不会发生。s1 离开作用域并被丢弃\n\nfn gives_ownership() -> String {             // gives_ownership 会将\n                                             // 返回值移动给\n                                             // 调用它的函数\n\n    let some_string = String::from(\"yours\"); // some_string 进入作用域。\n\n    some_string                              // 返回 some_string \n                                             // 并移出给调用的函数\n                                             // \n}\n\n// takes_and_gives_back 将传入字符串并返回该值\nfn takes_and_gives_back(a_string: String) -> String { // a_string 进入作用域\n                                                      // \n\n    a_string  // 返回 a_string 并移出给调用的函数\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"返回多个参数的所有权"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"fn main() {\n    let s1 = String::from(\"hello\");\n\n    let (s2, len) = calculate_length(s1);\n\n    println!(\"The length of '{}' is {}.\", s2, len);\n}\n\nfn calculate_length(s: String) -> (String, usize) {\n    let length = s.len(); // len() 返回字符串的长度\n\n    (s, length)\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"fn main() {\n    let s1 = String::from(\"hello\");\n\n    let (s2, len) = calculate_length(s1);\n\n    println!(\"The length of '{}' is {}.\", s2, len);\n}\n\nfn calculate_length(s: String) -> (String, usize) {\n    let length = s.len(); // len() 返回字符串的长度\n\n    (s, length)\n}\n"}]}]},{"type":"element","tag":"h1","props":{"id":"引用与借用"},"children":[{"type":"text","value":"引用与借用"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"与上一小节的代码不同的是calculate_length函数，以一个对象的引用作为参数而不是获取值的所有权"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"fn main() {\n    let s1 = String::from(\"hello\");\n\n    let len = calculate_length(&s1);\n\n    println!(\"The length of '{}' is {}.\", s1, len);\n}\n\nfn calculate_length(s: &String) -> usize {\n    s.len()\n}// 这里，s 离开了作用域。但因为它并不拥有引用值的所有权，\n  // 所以什么也不会发生\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"fn main() {\n    let s1 = String::from(\"hello\");\n\n    let len = calculate_length(&s1);\n\n    println!(\"The length of '{}' is {}.\", s1, len);\n}\n\nfn calculate_length(s: &String) -> usize {\n    s.len()\n}// 这里，s 离开了作用域。但因为它并不拥有引用值的所有权，\n  // 所以什么也不会发生\n"}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"s是指向s1的引用，但不拥有，当停止引用时所指的值也不会丢弃。"}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"引用不用获取所有权就可以使用值"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"引用像一个指针，因为它是一个地址，我们可以由此访问储存于该地+ 址的属于其他变量的数据。 与指针不同，引用确保指向某个特定类型的有效值"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"借用"}]},{"type":"text","value":"就是创建一个引用的行为"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"正如变量默认是不可变的，引用也一样。（默认）不允许修改引用的+ 值。"}]}]},{"type":"element","tag":"h1","props":{"id":"可变引用"},"children":[{"type":"text","value":"可变引用"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"类似于可变变量，使用mut修饰，其格式如下例子"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"fn main() {\n    // let s = String::from(\"hello\");  //默认引用不允许修改\n    let mut s = String::from(\"hello\");//可以修改\n\n    change(&mut s);\n}\n\nfn change(some_string: &mut String) {\n    some_string.push_str(\", world\");\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"fn main() {\n    // let s = String::from(\"hello\");  //默认引用不允许修改\n    let mut s = String::from(\"hello\");//可以修改\n\n    change(&mut s);\n}\n\nfn change(some_string: &mut String) {\n    some_string.push_str(\", world\");\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"但是可变引用存在限制，如果你有一个对该变量的可变引用，你就不能再创建对该变量的引用。这些尝试创建两个 s 的可变引用的代码会失败："}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"let mut s = String::from(\"hello\");\nlet r1 = &mut s;\nlet r2 = &mut s;\nprintln!(\"{}, {}\", r1, r2);\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"let mut s = String::from(\"hello\");\nlet r1 = &mut s;\nlet r2 = &mut s;\nprintln!(\"{}, {}\", r1, r2);\n"}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"这样的限制能够避免数据竞争(data race)"}]}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"let mut s = String::from(\"hello\");\nlet r1 = &s; // 没问题\nlet r2 = &s; // 没问题\nlet r3 = &mut s; // 大问题\nprintln!(\"{}, {}, and {}\", r1, r2, r3);\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"let mut s = String::from(\"hello\");\nlet r1 = &s; // 没问题\nlet r2 = &s; // 没问题\nlet r3 = &mut s; // 大问题\nprintln!(\"{}, {}, and {}\", r1, r2, r3);\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"允许有多个不可变引用，因为它们都不能对引用进行修改，这是安全的，但是不可变引用不能再创建可变引用，以及不允许同时拥有多个相同的可变引用，这些是不安全的。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"注意是否是同时拥有，以下这样是可行"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"let mut s = String::from(\"hello\");\n{\n    let r1 = &mut s;\n} // r1 在这里离开了作用域，所以我们完全可以创建一个新的可变引用\nlet r2 = &mut s;\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"let mut s = String::from(\"hello\");\n{\n    let r1 = &mut s;\n} // r1 在这里离开了作用域，所以我们完全可以创建一个新的可变引用\nlet r2 = &mut s;\n"}]}]},{"type":"element","tag":"h1","props":{"id":"悬垂引用"},"children":[{"type":"text","value":"悬垂引用"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在具有指针的语言中，很容易通过释放内存时保留指向它的指针而错误地生成一个悬垂指针，其指向的内存可能已经被分配给其它持有者。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在 Rust 中编译器确保引用永远也不会变成悬垂状态：当你拥有一些数据的引用，编译器确保数据不会在其引用之前离开作用域。"}]},{"type":"element","tag":"h1","props":{"id":"引用规则总结"},"children":[{"type":"text","value":"引用规则总结"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"在任意给定时间，要么只能有一个可变引用，要么只能有多个不可变引用。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"引用必须总是有效的。"}]}]},{"type":"element","tag":"h1","props":{"id":"切片"},"children":[{"type":"text","value":"切片"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"切片是特殊的引用，表示引用序列中的一个片段"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"let s = String::from(\"hello world\");\nlet hello = &s[0..5];\nlet world = &s[6..11];\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"let s = String::from(\"hello world\");\nlet hello = &s[0..5];\nlet world = &s[6..11];\n"}]}]}],"toc":{"title":"","searchDepth":2,"depth":3,"links":[]}},"_type":"markdown","_id":"content:essay:29.rust所有权和引用.md","_source":"content","_file":"essay/29.rust所有权和引用.md","_stem":"essay/29.rust所有权和引用","_extension":"md"},{"_path":"/essay/28.rust安装配置","_dir":"essay","_draft":false,"_partial":false,"_locale":"","title":"rust安装配置","description":"官网安装:https://www.rust-lang.org/zh-CN/","subtitle":"Installation and configuration of Rust","index":28,"date":"2023-04-05","lunar_date":"闰二十五","year":"2023","month":"04","month_en":"Apr","day":"05","tag":"技术","tag_en":"TECH","cover":"/img/rabbit/028.jpg","categories":"rust","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"环境配置"},"children":[{"type":"text","value":"环境配置"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"官网安装:"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"element","tag":"a","props":{"href":"https://www.rust-lang.org/zh-CN/","rel":["nofollow"]},"children":[{"type":"text","value":"https://www.rust-lang.org/zh-CN/"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"注意:安装rust可能需要gcc等依赖，可能还需要visual studio安装一些必需模块，按照提示进行安装即可"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"vscode插件: rust-analyzer"}]},{"type":"element","tag":"h1","props":{"id":"hello-world"},"children":[{"type":"text","value":"Hello World"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"创建项目"}]},{"type":"element","tag":"pre","props":{"className":["language-bash"],"code":"cargo new hello\n","language":"bash","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"cargo new hello\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"编写程序主文件: hello/src/main.rs"}]},{"type":"element","tag":"pre","props":{"className":["language-rust"],"code":"fn main() {\n    println!(\"Hello, world!\");\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"fn main() {\n    println!(\"Hello, world!\");\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"执行代码:"}]},{"type":"element","tag":"pre","props":{"className":["language-bash"],"code":"# 进入目录\ncd hello/src\n#　编译文件\nrustc main.rs\n# 执行\nmain\n","language":"bash","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"# 进入目录\ncd hello/src\n#　编译文件\nrustc main.rs\n# 执行\nmain\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"推荐vscode插件"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Code Runner"}]},{"type":"text","value":"，一键编译并执行"}]}],"toc":{"title":"","searchDepth":2,"depth":3,"links":[]}},"_type":"markdown","_id":"content:essay:28.rust安装配置.md","_source":"content","_file":"essay/28.rust安装配置.md","_stem":"essay/28.rust安装配置","_extension":"md"},{"_path":"/essay/27.pytorch神经网络训练","_dir":"essay","_draft":false,"_partial":false,"_locale":"","title":"pytorch神经网络训练","description":"学自李宏毅老师","subtitle":"pytorch neural network training","index":27,"date":"2023-03-28","lunar_date":"闰二初七","year":"2023","month":"03","month_en":"Mar","day":"28","tag":"技术","tag_en":"TECH","cover":"/img/rabbit/027.jpg","categories":"python","body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"学自李宏毅老师"}]},{"type":"element","tag":"h1","props":{"id":"神经网络训练设置"},"children":[{"type":"text","value":"神经网络训练设置"}]},{"type":"element","tag":"pre","props":{"className":["language-py"],"code":"# 从数据集中读取数据\ndataset = MyDataset(file)\n# 将数据放到数据加载器，分批\ntr_set = DataLoader(dataset, 16, shuffle=True)\n# 构造模型并指定设备(cpu/cuda(gpu))\nmodel = MyModel().to(device)\n# 设置损失函数\ncriterion = nn.MSELoss()\n# 设置优化器\noptimizer = torch.optim.SGD(model.parameters(), 0.1)\n\n","language":"py","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"# 从数据集中读取数据\ndataset = MyDataset(file)\n# 将数据放到数据加载器，分批\ntr_set = DataLoader(dataset, 16, shuffle=True)\n# 构造模型并指定设备(cpu/cuda(gpu))\nmodel = MyModel().to(device)\n# 设置损失函数\ncriterion = nn.MSELoss()\n# 设置优化器\noptimizer = torch.optim.SGD(model.parameters(), 0.1)\n\n"}]}]},{"type":"element","tag":"h1","props":{"id":"神经网络训练回路"},"children":[{"type":"text","value":"神经网络训练回路"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"感觉这里用回路比循环好听一点"}]},{"type":"element","tag":"pre","props":{"className":["language-py"],"code":"# 迭代 n_epochs\nfor epoch in range(n_epochs):\n    # 将模型设置为训练模式\n    model.train()\n    # 通过数据加载器迭代\n    for x, y in tr_set:\n        # 梯度置为 0\n        optimizer.zero_grad()\n        # cpu/cuda\n        x, y = x.to(device), y.to(device)\n        # 正向传播（计算输出）\n        pred = model(x)\n        # 计算损失\n        loss = criterion(pred, y)\n        # 反向传播（计算梯度）\n        loss.backward()\n        # 使用优化器更新模型\n        optimizer.step()\n","language":"py","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"# 迭代 n_epochs\nfor epoch in range(n_epochs):\n    # 将模型设置为训练模式\n    model.train()\n    # 通过数据加载器迭代\n    for x, y in tr_set:\n        # 梯度置为 0\n        optimizer.zero_grad()\n        # cpu/cuda\n        x, y = x.to(device), y.to(device)\n        # 正向传播（计算输出）\n        pred = model(x)\n        # 计算损失\n        loss = criterion(pred, y)\n        # 反向传播（计算梯度）\n        loss.backward()\n        # 使用优化器更新模型\n        optimizer.step()\n"}]}]},{"type":"element","tag":"h1","props":{"id":"神经网络验证回路"},"children":[{"type":"text","value":"神经网络验证回路"}]},{"type":"element","tag":"pre","props":{"className":["language-py"],"code":"# 将模型设置为评估模式\nmodel.eval()\ntotal_loss = 0\n# 通过数据加载器迭代\nfor x, y in dv_set:\n    # cpu/cuda(gpu)\n    x, y = x.to(device), y.to(device)\n    # 禁用梯度计算\n    with torch.no_grad():\n        # 前向传播（计算输出）\n        pred = model(x)\n        # 计算损失\n        loss = criterion(pred, y)\n    # 累积损失\n    total_loss += loss.cpu().item() * len(x)\n    # 计算平均损失\n    avg_loss = total_loss / len(dv_set.dataset)\n","language":"py","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"# 将模型设置为评估模式\nmodel.eval()\ntotal_loss = 0\n# 通过数据加载器迭代\nfor x, y in dv_set:\n    # cpu/cuda(gpu)\n    x, y = x.to(device), y.to(device)\n    # 禁用梯度计算\n    with torch.no_grad():\n        # 前向传播（计算输出）\n        pred = model(x)\n        # 计算损失\n        loss = criterion(pred, y)\n    # 累积损失\n    total_loss += loss.cpu().item() * len(x)\n    # 计算平均损失\n    avg_loss = total_loss / len(dv_set.dataset)\n"}]}]},{"type":"element","tag":"h1","props":{"id":"神经网络测试回路"},"children":[{"type":"text","value":"神经网络测试回路"}]},{"type":"element","tag":"pre","props":{"className":["language-py"],"code":"# # 将模型设置为评估模式\nmodel.eval()\npreds = []\nfor x in tt_set:\n    x = x.to(device)\n    with torch.no_grad():\n        pred = model(x)\n        # 收集预测结果\n        preds.append(pred.cpu())\n","language":"py","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"# # 将模型设置为评估模式\nmodel.eval()\npreds = []\nfor x in tt_set:\n    x = x.to(device)\n    with torch.no_grad():\n        pred = model(x)\n        # 收集预测结果\n        preds.append(pred.cpu())\n"}]}]}],"toc":{"title":"","searchDepth":2,"depth":3,"links":[]}},"_type":"markdown","_id":"content:essay:27.pytorch神经网络训练.md","_source":"content","_file":"essay/27.pytorch神经网络训练.md","_stem":"essay/27.pytorch神经网络训练","_extension":"md"},{"_path":"/essay/26.pytorch-transformer","_dir":"essay","_draft":false,"_partial":false,"_locale":"","title":"pytorch-transformer","description":"https://zhuanlan.zhihu.com/p/338817680https://blog.csdn.net/qq_38890412/article/details/120601834","subtitle":"pytorch transformer","index":26,"date":"2023-03-27","lunar_date":"闰二初六","year":"2023","month":"03","month_en":"Mar","day":"27","tag":"技术","tag_en":"TECH","cover":"/img/rabbit/026.jpg","categories":"python","mathjax":true,"body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://zhuanlan.zhihu.com/p/338817680","rel":["nofollow"]},"children":[{"type":"text","value":"https://zhuanlan.zhihu.com/p/338817680"}]},{"type":"element","tag":"a","props":{"href":"https://blog.csdn.net/qq_38890412/article/details/120601834","rel":["nofollow"]},"children":[{"type":"text","value":"https://blog.csdn.net/qq_38890412/article/details/120601834"}]}]},{"type":"element","tag":"h1","props":{"id":"seq2seq从序列到序列"},"children":[{"type":"text","value":"Seq2Seq(从序列到序列)"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"将一个作为输入的序列映射为一个作为输出的序列，这一过程由编码（Encoder）输入与解码（Decoder）输出两个环节组成, 前者负责把序列编码成一个固定长度的向量，这个向量作为输入传给后者，输出可变长度的向量。\nRNN-CNN-Transformer都是如此"}]},{"type":"element","tag":"h1","props":{"id":"rnn循环神经网络"},"children":[{"type":"text","value":"RNN(循环神经网络)"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"简单来说，我们想翻译"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"I like deep learning"}]},{"type":"text","value":"为中文，将这七个汉字的输入序列映射为输出序列"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"我喜欢深度学习"}]},{"type":"text","value":"。在输出"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"我"}]},{"type":"text","value":"时，会根据输入"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"I"}]},{"type":"text","value":"来翻译，在输出"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"喜欢"}]},{"type":"text","value":"时，会根据"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"I like"}]},{"type":"text","value":"来翻译，输出"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"深度"}]},{"type":"text","value":"时会·根据"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"I like deep"}]},{"type":"text","value":"来翻译，输出"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"学习"}]},{"type":"text","value":"是，会根据"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"I like deep learning"}]},{"type":"text","value":"来翻译"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"RNN不能并行，指的是当前的状态会依赖前一个状态，前一个状态的计算结果会作为当前状态的输入。"}]},{"type":"element","tag":"h1","props":{"id":"cnn卷积神经网络"},"children":[{"type":"text","value":"CNN(卷积神经网络)"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"简单来说是窗口式遍历，要翻译"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"I like deep learning"}]},{"type":"text","value":"，假设每两个词一组，,"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"I like"}]},{"type":"text","value":","},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"like deep"}]},{"type":"text","value":","},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"deep learning"}]},{"type":"text","value":"，分别提取每组的特征进行计算，所以 CNN 能够并行。但是仅如此这个神经网络并不能覆盖整个句子，所以需要再叠加 CNN，将多组的特征再提取一次进行计算，"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"I like"}]},{"type":"text","value":","},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"like deep"}]},{"type":"text","value":"为一组以及"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"like deep"}]},{"type":"text","value":","},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"deep learning"}]},{"type":"text","value":"为一组，以此类推地叠加，最后得到结果。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"CNN能并行，指的是每一组的计算都能够同时进行，并不会依赖其他组的计算结果。"}]},{"type":"element","tag":"h1","props":{"id":"transformer"},"children":[{"type":"text","value":"Transformer"}]},{"type":"element","tag":"h2","props":{"id":"self-attention自注意力机制"},"children":[{"type":"text","value":"self-attention(自注意力机制)"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"注意力机制: 权重分配机制，给需要关注的地方分配更高的权重，不相关的分配更低的权重。\n"},{"type":"element","tag":"a","props":{"href":"https://blog.csdn.net/qq_38890412/article/details/120601834","rel":["nofollow"]},"children":[{"type":"text","value":"https://blog.csdn.net/qq_38890412/article/details/120601834"}]}]},{"type":"element","tag":"h3","props":{"id":"xxt-的含义"},"children":[{"type":"text","value":"$XX^T$ 的含义"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"对于二维矩阵，用行向量$A_1,A_2$表示\n$$\nX=\n\\begin{bmatrix}\na_{11} & a_{12} \\\na_{21} & a_{22} \\\n\\end{bmatrix} =\n\\begin{bmatrix}\nA_1 \\\nA_2 \\\n\\end{bmatrix}\n$$"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"$$\nA_1=\n\\begin{bmatrix}\na_{11} & a_{12} \\\n\\end{bmatrix},\nA_2=\n\\begin{bmatrix}\na_{21} & a_{22} \\\n\\end{bmatrix}\n$$"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"$$\nXX^T=\n\\begin{bmatrix}\na_{11} & a_{12} \\\na_{21} & a_{22} \\\n\\end{bmatrix}\n·\n\\begin{bmatrix}\na_{11} & a_{21} \\\na_{12} & a_{22} \\\n\\end{bmatrix}=\n\\begin{bmatrix}\nA_1A_1 & A_1A_2 \\\nA_2A_1 & A_2A_2 \\\n\\end{bmatrix}\n$$\nN维矩阵同理，对于$XX^T$得到的矩阵，其元素为原矩阵$X$的n个向量的两两内积，向量的内积的几何意义是"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"表征或计算两个向量之间的夹角"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"一个向量在另一个向量方向上的投影\n$$A_1·A_2=|A_1|*|A_2|*cos\\theta$$\n投影值大小和夹角则表示向量之间的相关性，投影值大则意味两个向量相关度高，夹角为90度则两者线性无关"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"故矩阵$ XX^T$是一个方阵，我们以行向量的角度理解，里面保存了每个向量和自己与其他向量进行内积运算的结果。"}]},{"type":"element","tag":"h3","props":{"id":"softmax函数的含义"},"children":[{"type":"text","value":"$Softmax$函数的含义"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"对 C 个元素中的第 i 个元素的softmax值为:\n$$\nSoftmax(z_i)=\\tfrac{e^{z_i}}{\\sum^C_e^{z_c}}\n$$\n如 {ln1,ln2,ln3} ,其softmax值分别为 1/6,2/6,3/6\n其意义在于将每个输出的结果都赋予一个概率值，比如在分类时可以用来表示属于每个类别的可能性"}]},{"type":"element","tag":"h3","props":{"id":"softmaxxxtx"},"children":[{"type":"text","value":"$Softmax(XX^T)X$"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"$XX^T$得到可以表示两两向量之间的相关性的值，Softmax函数将这个值转换成概率值，其实就是为了得到权重，$Softmax(XX^T)$再与原来的$X$的积，其实就意味着加权求和，得到向量之间的相关度。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"将$X$作为一个句子，那么其中的向量则为一个个词向量，通过这个算法得到这个句子本身中字词之间的相关度，所以叫"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"自注意"}]},{"type":"text","value":"，例如对于"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"早上好"}]},{"type":"text","value":"这句话中"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"早"}]},{"type":"text","value":" "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"上"}]},{"type":"text","value":" "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"好"}]},{"type":"text","value":"三个字对于其中的"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"早"}]},{"type":"text","value":"来说，"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"早上"}]},{"type":"text","value":"的关联度就比"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"早早"}]},{"type":"text","value":"、"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"早好"}]},{"type":"text","value":"的关联度高。"}]},{"type":"element","tag":"h3","props":{"id":"q-k-v-矩阵"},"children":[{"type":"text","value":"Q K V 矩阵"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"深度学习中不会直接使用$X^T$,为了增强模型的拟合能力，会使用可训练的参数矩阵:\n$$W^Q,W^K,W^V$$\n输入矩阵$X$分别与它们相乘得到Q(query)、K(key)、V(value)"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"$Attention(Q,K,V)=softmax(\\tfrac{QK^T}{\\sqrt{d_k}})V$\n上述表示了Scaled Dot-Product Attention(缩放点积注意力)"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"${d_k}$为方差，总之就是使得Transformer在训练过程中的梯度值保持稳定"}]},{"type":"element","tag":"h2","props":{"id":"multi-headed-attention多头注意力机制"},"children":[{"type":"text","value":"multi-headed attention(多头注意力机制)"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"自注意力机制的缺陷就是：模型在对当前位置的信息进行编码时，会过度的将注意力集中于自身的位置， 使用多头注意力机制能增强self-attention关注多个位置的能力"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"例如"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"我养了一只猫，它很可爱"}]},{"type":"text","value":"中,"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"它"}]},{"type":"text","value":"可以指代前文的"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"猫"}]},{"type":"text","value":"，但从另一个维度(形容词的角度)看"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"可爱"}]},{"type":"text","value":"也是可以用来修饰"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"它"}]},{"type":"text","value":"的，"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"它"}]},{"type":"text","value":"与两者都有一定关联，使用多头注意力会使原本输出的一个向量变为多个向量"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"① 输入句子\n② 将句子进行标记,转换成词向量矩阵 $X$\n③ 将 X 切分成 8 份，并与权重矩阵$W_i$ 相乘，构成输入向量$W_iX$\n④ 计算 Attention 权重矩阵：$$Attention(Q,K,V)=softmax(\\tfrac{QK^T}{\\sqrt{d_k}})V$$\n⑤ 最后将 8 个头的结果合并"}]},{"type":"element","tag":"h2","props":{"id":"位置编码"},"children":[{"type":"text","value":"位置编码"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"上面的计算只是知道词之间的关联关系，但并不知道可以将词放在句子的什么位置，即如何分析词序\n以前的位置编码:"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"1-N分配:\n太阳晒屁股啦 "},{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"1 2 3 4 5"}]},{"type":"text","value":"\n问题:越后面的数字越大，体现不了权重"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"0,1"}]},{"type":"text","value":"分配:\n太阳晒屁股啦 "},{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"0 0.2 0.4 0.6 0.8 1"}]},{"type":"text","value":"\n问题:句子长度不同位置编码不一样"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Transformer模型的位置编码使用三角函数式的相对位置编码：有兴趣可以了解\n"},{"type":"element","tag":"a","props":{"href":"https://blog.csdn.net/u013853733/article/details/107853989","rel":["nofollow"]},"children":[{"type":"text","value":"https://blog.csdn.net/u013853733/article/details/107853989"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://zhuanlan.zhihu.com/p/106644634","rel":["nofollow"]},"children":[{"type":"text","value":"https://zhuanlan.zhihu.com/p/106644634"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://kazemnejad.com/blog/transformer_architecture_positional_encoding/","rel":["nofollow"]},"children":[{"type":"text","value":"https://kazemnejad.com/blog/transformer_architecture_positional_encoding/"}]}]}],"toc":{"title":"","searchDepth":2,"depth":3,"links":[{"id":"self-attention自注意力机制","depth":2,"text":"self-attention(自注意力机制)","children":[{"id":"xxt-的含义","depth":3,"text":"$XX^T$ 的含义"},{"id":"softmax函数的含义","depth":3,"text":"$Softmax$函数的含义"},{"id":"softmaxxxtx","depth":3,"text":"$Softmax(XX^T)X$"},{"id":"q-k-v-矩阵","depth":3,"text":"Q K V 矩阵"}]},{"id":"multi-headed-attention多头注意力机制","depth":2,"text":"multi-headed attention(多头注意力机制)"},{"id":"位置编码","depth":2,"text":"位置编码"}]}},"_type":"markdown","_id":"content:essay:26.pytorch-transformer.md","_source":"content","_file":"essay/26.pytorch-transformer.md","_stem":"essay/26.pytorch-transformer","_extension":"md"},{"_path":"/essay/25.pytorch-神经网络基础","_dir":"essay","_draft":false,"_partial":false,"_locale":"","title":"pytorch-神经网络基础","description":"碎碎念：知识还没有完全还给老师 😄","subtitle":"pytorch neural network","index":25,"date":"2023-03-25 00:00:01","lunar_date":"闰二初四","year":"2023","month":"03","month_en":"Mar","day":"25","tag":"技术","tag_en":"TECH","cover":"/img/rabbit/025.jpg","categories":"python","mathjax":true,"excerpt":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"碎碎念：知识还没有完全还给老师 😄"}]}]},"body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"碎碎念：知识还没有完全还给老师 😄"}]},{"type":"element","tag":"h1","props":{"id":"张量tensor"},"children":[{"type":"text","value":"张量(Tensor)"}]},{"type":"element","tag":"h2","props":{"id":"简单理解张量"},"children":[{"type":"text","value":"简单理解张量"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"张量-多维数组-维度则为数组嵌套的层数\n0维张量-标量"}]},{"type":"element","tag":"pre","props":{"className":["language-py"],"code":"[1]\n","language":"py","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"[1]\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"1维张量-向量"}]},{"type":"element","tag":"pre","props":{"className":["language-py"],"code":"[1,2,3]\n","language":"py","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"[1,2,3]\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"2维张量-矩阵(3x3)"}]},{"type":"element","tag":"pre","props":{"className":["language-py"],"code":"[\n    [1,2,3],\n    [4,5,6],\n    [7,8,9]\n]\n","language":"py","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"[\n    [1,2,3],\n    [4,5,6],\n    [7,8,9]\n]\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"3维张量(2x2x3)"}]},{"type":"element","tag":"pre","props":{"className":["language-py"],"code":"[\n    [\n        [1,2,3],\n        [4,5,6]\n    ],\n    [\n        [7,8,9],\n        [10,11,12]\n    ]\n]\n","language":"py","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"[\n    [\n        [1,2,3],\n        [4,5,6]\n    ],\n    [\n        [7,8,9],\n        [10,11,12]\n    ]\n]\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"更直观地类比:"}]},{"type":"element","tag":"pre","props":{"className":["language-py"],"code":"0维张量-点\n1维张量-线(长)\n2维张量-面(长、宽)\n3维张量-体(长、宽、高)\n4维张量-时空(再多一个时间维度)\n","language":"py","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"0维张量-点\n1维张量-线(长)\n2维张量-面(长、宽)\n3维张量-体(长、宽、高)\n4维张量-时空(再多一个时间维度)\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"维度可以说是描述事物的参数个数，例如要描述食物的色、香、味，则需要3个参数，即使用3维张量。"}]},{"type":"element","tag":"h2","props":{"id":"常用-api"},"children":[{"type":"text","value":"常用 API"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://blog.csdn.net/qq_49134563/article/details/108200828","rel":["nofollow"]},"children":[{"type":"text","value":"https://blog.csdn.net/qq_49134563/article/details/108200828"}]}]},{"type":"element","tag":"h1","props":{"id":"微分与梯度"},"children":[{"type":"text","value":"微分与梯度"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"公式和画图似乎不兼容md语法，数学公式会重复两遍，将就着看吧"}]},{"type":"element","tag":"h2","props":{"id":"微分"},"children":[{"type":"text","value":"微分"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"对于一元函数,描述了函数 $f$ 在 $x$ 处的变化率,直观表示为函数在该点的切线的斜率，为标量"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"$$ dy=f'(x)*dx $$"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"多元函数的全微分:\n$$df=\\frac{∂f}{∂x}*dx+\\frac{∂f}{∂y}*dy+\\frac{∂f}{∂z}*dz+...$$"}]},{"type":"element","tag":"h2","props":{"id":"梯度"},"children":[{"type":"text","value":"梯度"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"$$▽f(x,y)=gradf(x,y)=( \\frac{∂x}{∂f}, \\frac{∂y}{∂f})$$"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"梯度是一个向量，是多元函数在某一点处的偏导数构成的向量\n在一元函数中，导数与梯度在"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"数值"}]},{"type":"text","value":"上是相等的"}]},{"type":"element","tag":"h2","props":{"id":"自动微分求导autograd"},"children":[{"type":"text","value":"自动微分/求导(autograd)"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"pytorch中，设置了require_grads=True 的tensor可以被计算梯度。在backward(反向传播)过程中会被autograd模块自动计算梯度并保存在 tensor.grad"}]},{"type":"element","tag":"h2","props":{"id":"梯度下降"},"children":[{"type":"text","value":"梯度下降"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"沿着梯度向量的方向是函数增加的最快，更容易找到函数的极大值；\n反之，沿着梯度向量相反的地方，梯度减少的最快，更容易找到极小值。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"梯度下降，即每一点都沿着梯度方向的反方向求解，找到极小值(不一定是最小值)，反之为梯度上升。"}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"类比: 从山上下山，想要最快地到达山底，每一步都考虑最优，则每一步都沿着最陡峭的地方下山，但很可能走不到山脚，因为可能会走到山峰局部的低谷。"}]}]},{"type":"element","tag":"h1","props":{"id":"神经网络"},"children":[{"type":"text","value":"神经网络"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"markdown画的图有点丑，例如两个输入的神经网络\n在输入层(第一层)与输出层(最后一层)之间的都是隐藏层"}]},{"type":"element","tag":"pre","props":{"className":["language-mermaid"],"code":"graph LR;\n  subgraph 输入层\n  X((x1))\n  Y((x2))\n  end\n  subgraph 隐藏层\n  P((h1))\n  Q((h2))\n  end\n  subgraph 输出层  \n  F((o1))\n  end\n  X--w11-->P\n  Y--w21-->P\n  X--w12-->Q\n  Y--w22-->Q\n  P-->F\n  Q-->F\n","language":"mermaid","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"graph LR;\n  subgraph 输入层\n  X((x1))\n  Y((x2))\n  end\n  subgraph 隐藏层\n  P((h1))\n  Q((h2))\n  end\n  subgraph 输出层  \n  F((o1))\n  end\n  X--w11-->P\n  Y--w21-->P\n  X--w12-->Q\n  Y--w22-->Q\n  P-->F\n  Q-->F\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"图渲染不了，请自行搜索"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"神经网络简单示例"}]}]},{"type":"element","tag":"h2","props":{"id":"前向传播forward"},"children":[{"type":"text","value":"前向传播(forward)"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"将上一层的输出作为下一层的输入，并计算下一层的输出，一直到运算到输出层为止。\n$$h_1=w_{11} *x_1+w_{21}*x_2$$"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"$$h_2=w_{12} *x_1+w_{22}*x_2$$\n变为向量的形式:\n$$H=W *X+B$$\n当然无论多少次线性运算最终的结果都会与原来是线性相关的，所以会使用激活函数使每一层的计算结果变为非线性，作为下一层计算的输入。\n$$z^{(l)}=W^{(l)} *a^{(l-1)}+b^{(l)}$$\n$$a^{(l)}=σ(z)^{(l)}$$\n其中 $l$ 是层数"}]},{"type":"element","tag":"h2","props":{"id":"反向传播backforward"},"children":[{"type":"text","value":"反向传播(backforward)"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"数学知识比较复杂，已经好多年没学数学了~只简述其原理\n以下文章应该算是比较有价值的\n"},{"type":"element","tag":"a","props":{"href":"https://zhuanlan.zhihu.com/p/32368246","rel":["nofollow"]},"children":[{"type":"text","value":"https://zhuanlan.zhihu.com/p/32368246"}]},{"type":"element","tag":"a","props":{"href":"https://zhuanlan.zhihu.com/p/71892752","rel":["nofollow"]},"children":[{"type":"text","value":"https://zhuanlan.zhihu.com/p/71892752"}]}]},{"type":"element","tag":"h3","props":{"id":"链式法则"},"children":[{"type":"text","value":"链式法则"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"如果某个函数由复合函数表示，则该复合函数的导数可以用构成复合函数的各个函数的导数的乘积表示。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"若$$y=g(x),z=f(g(x))=f(y),$$则"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"$$\\frac{dz}{dx}=\\frac{dz}{dy}*\\frac{dy}{dx}$$"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"神经网络显然是复杂的复合函数，在计算梯度时遵循链式法则"}]},{"type":"element","tag":"h3","props":{"id":"损失函数"},"children":[{"type":"text","value":"损失函数"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"度量训练样本计算出的输出和真实的训练样本输出之间的损失。我们使用最常见的均方误差（MSE）来作为损失函数，\n$$C(W,b)=\\frac{1}{2}||a^{(l)}-y||^2_2$$\n其中为训练样本计算出的输出，y为训练样本的真实值。加入系数 是为了抵消微分出来的指数。"}]},{"type":"element","tag":"h3","props":{"id":"反向传播算法"},"children":[{"type":"text","value":"反向传播算法"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"根据前向传播计算的输出与损失函数，根据链式法则推导，根据梯度下降更新神经网络，然后不断迭代得到最终的神经网络模型\n$$z^{(l)}=W^{(l)} *a^{(l-1)}+b^{(l)}$$\n$$a^{(l)}=σ(z)^{(l)}$$"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"感兴趣的可以看："},{"type":"element","tag":"a","props":{"href":"https://zhuanlan.zhihu.com/p/71892752","rel":["nofollow"]},"children":[{"type":"text","value":"https://zhuanlan.zhihu.com/p/71892752"}]}]},{"type":"element","tag":"h2","props":{"id":"总结"},"children":[{"type":"text","value":"总结"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"初始化权重w与偏置b，"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"通过前向传播算法计算输出，"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"通过损失函数计算输出层的梯度"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"使用反向传播算法计算"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"通过梯度下降算法更新权重w与偏置b"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"当所有的w与b的变化值都小于迭代阈值时结束循环"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"输出各隐藏层与输出层的线性关系系数矩阵W和偏置b，得到确定的模型"}]}]}],"toc":{"title":"","searchDepth":2,"depth":3,"links":[{"id":"简单理解张量","depth":2,"text":"简单理解张量"},{"id":"常用-api","depth":2,"text":"常用 API"},{"id":"微分","depth":2,"text":"微分"},{"id":"梯度","depth":2,"text":"梯度"},{"id":"自动微分求导autograd","depth":2,"text":"自动微分/求导(autograd)"},{"id":"梯度下降","depth":2,"text":"梯度下降"},{"id":"前向传播forward","depth":2,"text":"前向传播(forward)"},{"id":"反向传播backforward","depth":2,"text":"反向传播(backforward)","children":[{"id":"链式法则","depth":3,"text":"链式法则"},{"id":"损失函数","depth":3,"text":"损失函数"},{"id":"反向传播算法","depth":3,"text":"反向传播算法"}]},{"id":"总结","depth":2,"text":"总结"}]}},"_type":"markdown","_id":"content:essay:25.pytorch-神经网络基础.md","_source":"content","_file":"essay/25.pytorch-神经网络基础.md","_stem":"essay/25.pytorch-神经网络基础","_extension":"md"},{"_path":"/essay/24.pytorch环境","_dir":"essay","_draft":false,"_partial":false,"_locale":"","title":"pytorch环境","description":"深度学习，从pytorch开始\npytorch中文手册\nhttps://github.com/zergtant/pytorch-handbook","subtitle":"pytorch environment","index":24,"date":"2023-03-25 00:00:00","lunar_date":"闰二初四","year":"2023","month":"03","month_en":"Mar","day":"25","tag":"技术","tag_en":"TECH","cover":"/img/rabbit/024.jpg","categories":"python","body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"深度学习，从pytorch开始\npytorch中文手册\n"},{"type":"element","tag":"a","props":{"href":"https://github.com/zergtant/pytorch-handbook","rel":["nofollow"]},"children":[{"type":"text","value":"https://github.com/zergtant/pytorch-handbook"}]}]},{"type":"element","tag":"h1","props":{"id":"linux下"},"children":[{"type":"text","value":"Linux下"}]},{"type":"element","tag":"h2","props":{"id":"安装anaconda"},"children":[{"type":"text","value":"安装Anaconda"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在archlinux下"}]},{"type":"element","tag":"pre","props":{"className":["language-bash"],"code":"# 完全版\nyay -S annaconda\n# 本人安装的轻量版\nyay -S miniconda\n","language":"bash","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"# 完全版\nyay -S annaconda\n# 本人安装的轻量版\nyay -S miniconda\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"按照提示"}]},{"type":"element","tag":"pre","props":{"className":["language-bash"],"code":"If your shell is Bash or a Bourne variant, enable conda for the current user with\n\n    $ source /opt/miniconda/etc/profile.d/conda.sh\nYou could also add the above line to `~/.bashrc`\n\nor, for all users, enable conda with\n\n    $ sudo ln -s /opt/miniconda/etc/profile.d/conda.sh /etc/profile.d/conda.sh\n","language":"bash","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"If your shell is Bash or a Bourne variant, enable conda for the current user with\n\n    $ source /opt/miniconda/etc/profile.d/conda.sh\nYou could also add the above line to `~/.bashrc`\n\nor, for all users, enable conda with\n\n    $ sudo ln -s /opt/miniconda/etc/profile.d/conda.sh /etc/profile.d/conda.sh\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在终端输入以下命令以启用conda"}]},{"type":"element","tag":"pre","props":{"className":["language-bash"],"code":"source /opt/miniconda/etc/profile.d/conda.sh\n","language":"bash","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"source /opt/miniconda/etc/profile.d/conda.sh\n"}]}]},{"type":"element","tag":"h2","props":{"id":"创建conda环境"},"children":[{"type":"text","value":"创建conda环境"}]},{"type":"element","tag":"pre","props":{"className":["language-bash"],"code":"# 查看 python 版本\npython\n# 使用 exit() 或 Ctrl+D 退出 python 环境\n\n# 创建 conda 环境\n# ( our_envName 是你定义的环境名，这里使用 pytorch )\n# ( x.x 是指定的 python 版本，我这里是 3.10 )\nconda create -n your_envName python=x.x\n","language":"bash","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"# 查看 python 版本\npython\n# 使用 exit() 或 Ctrl+D 退出 python 环境\n\n# 创建 conda 环境\n# ( our_envName 是你定义的环境名，这里使用 pytorch )\n# ( x.x 是指定的 python 版本，我这里是 3.10 )\nconda create -n your_envName python=x.x\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"激活环境"}]},{"type":"element","tag":"pre","props":{"className":["language-bash"],"code":"# 激活环境，pytorch 是你之前定义的环境名\nconda activate pytorch\n# 取消激活状态\nconda deactivate\n","language":"bash","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"# 激活环境，pytorch 是你之前定义的环境名\nconda activate pytorch\n# 取消激活状态\nconda deactivate\n"}]}]},{"type":"element","tag":"h2","props":{"id":"安装pytorch"},"children":[{"type":"text","value":"安装pytorch"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"如果需要换源：换清华源\n"},{"type":"element","tag":"a","props":{"href":"https://blog.csdn.net/weixin_42570192/article/details/124760665","rel":["nofollow"]},"children":[{"type":"text","value":"https://blog.csdn.net/weixin_42570192/article/details/124760665"}]}]},{"type":"element","tag":"pre","props":{"className":["language-bash"],"code":"conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/\nconda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main/\nconda config --set show_channel_urls yes\nconda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/pytorch/\n","language":"bash","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/\nconda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main/\nconda config --set show_channel_urls yes\nconda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/pytorch/\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"如果需要安装cuda"}]},{"type":"element","tag":"pre","props":{"className":["language-bash"],"code":"yay -S cuda\n","language":"bash","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"yay -S cuda\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"这里不安装cuda，选择cpu,在官网选择对应的安装命令复制粘贴"}]},{"type":"element","tag":"pre","props":{"className":["language-bash"],"code":"conda install pytorch torchvision torchaudio cpuonly -c pytorch \n","language":"bash","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"conda install pytorch torchvision torchaudio cpuonly -c pytorch \n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"安装好pytorch后"}]},{"type":"element","tag":"pre","props":{"className":["language-bash"],"code":"import torch\nimport torchvision\n","language":"bash","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"import torch\nimport torchvision\n"}]}]},{"type":"element","tag":"h2","props":{"id":"更多操作命令"},"children":[{"type":"text","value":"更多操作命令"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://blog.csdn.net/qq_38870718/article/details/122796306","rel":["nofollow"]},"children":[{"type":"text","value":"https://blog.csdn.net/qq_38870718/article/details/122796306"}]}]},{"type":"element","tag":"h1","props":{"id":"windows下"},"children":[{"type":"text","value":"Windows下"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"windows在虚拟机里用linux感觉挺卡的，直接用windows算了"}]},{"type":"element","tag":"h2","props":{"id":"安装anaconda-1"},"children":[{"type":"text","value":"安装Anaconda"}]},{"type":"element","tag":"h3","props":{"id":"安装配置"},"children":[{"type":"text","value":"安装配置"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"镜像站：\n"},{"type":"element","tag":"a","props":{"href":"https://repo.anaconda.com/archive/","rel":["nofollow"]},"children":[{"type":"text","value":"https://repo.anaconda.com/archive/"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"安装后添加环境变量:"}]},{"type":"element","tag":"pre","props":{"className":["language-txt"],"code":"D:\\anaconda3\nD:\\anaconda3\\Scripts\nD:\\anaconda3\\Library\\bin\n","language":"txt","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"D:\\anaconda3\nD:\\anaconda3\\Scripts\nD:\\anaconda3\\Library\\bin\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"其中"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"D:\\anaconda3"}]},{"type":"text","value":"是选择的Anaconda安装路径"}]},{"type":"element","tag":"h3","props":{"id":"修改镜像源配置"},"children":[{"type":"text","value":"修改镜像源配置"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"清华源"}]},{"type":"element","tag":"pre","props":{"className":["language-bash"],"code":"conda config --add channels http://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/win-64/\nconda config --add channels http://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main/win-64/\nconda config --set show_channel_urls yes\nconda config --add channels http://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/pytorch/win-64/\n","language":"bash","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"conda config --add channels http://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/win-64/\nconda config --add channels http://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main/win-64/\nconda config --set show_channel_urls yes\nconda config --add channels http://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/pytorch/win-64/\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"如果要恢复原来的默认配置"}]},{"type":"element","tag":"pre","props":{"className":["language-bash"],"code":"conda config --remove-key channels\n","language":"bash","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"conda config --remove-key channels\n"}]}]},{"type":"element","tag":"h3","props":{"id":"创建虚拟环境"},"children":[{"type":"text","value":"创建虚拟环境"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"创建环境:\n命令python可以查看python版本，命令exit()退出python环境"}]},{"type":"element","tag":"pre","props":{"className":["language-bash"],"code":"conda create -n pytorch_cpu python=3.10\n","language":"bash","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"conda create -n pytorch_cpu python=3.10\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"命令python可以查看python版本，命令exit()退出python环境\n激活环境:"}]},{"type":"element","tag":"pre","props":{"className":["language-bash"],"code":"activate pytorch\n","language":"bash","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"activate pytorch\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"退出激活环境:"}]},{"type":"element","tag":"pre","props":{"className":["language-bash"],"code":"deactivate\n","language":"bash","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"deactivate\n"}]}]},{"type":"element","tag":"h2","props":{"id":"安装pytorch-1"},"children":[{"type":"text","value":"安装pytorch"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"官网: "},{"type":"element","tag":"a","props":{"href":"https://pytorch.org/","rel":["nofollow"]},"children":[{"type":"text","value":"https://pytorch.org/"}]},{"type":"text","value":"\n根据环境选择版本，选择stable-windows-conda-python-none，此配置下的安装命令:"}]},{"type":"element","tag":"pre","props":{"className":["language-bash"],"code":"conda install pytorch torchvision torchaudio cpuonly -c pytorch\n","language":"bash","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"conda install pytorch torchvision torchaudio cpuonly -c pytorch\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"查看已安装的库"}]},{"type":"element","tag":"pre","props":{"className":["language-bash"],"code":"conda list\n","language":"bash","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"conda list\n"}]}]},{"type":"element","tag":"h2","props":{"id":"编辑器配置-vscode"},"children":[{"type":"text","value":"编辑器配置-vscode"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"安装python插件，其中包含python相关多个插件"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"选择编译环境:\n"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"随便新建一个python文件"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"点击右下角python语言模式的右边选择解释器(python.exe)"}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"注意:选择的是带'base'的那个！不是带'pytorch'的那个！它的路径应该为你的Anaconda安装根目录下的python.exe，例如D:\\anaconda3\\python.exe"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"至此，环境配置完毕"}]}],"toc":{"title":"","searchDepth":2,"depth":3,"links":[{"id":"安装anaconda","depth":2,"text":"安装Anaconda"},{"id":"创建conda环境","depth":2,"text":"创建conda环境"},{"id":"安装pytorch","depth":2,"text":"安装pytorch"},{"id":"更多操作命令","depth":2,"text":"更多操作命令"},{"id":"安装anaconda-1","depth":2,"text":"安装Anaconda","children":[{"id":"安装配置","depth":3,"text":"安装配置"},{"id":"修改镜像源配置","depth":3,"text":"修改镜像源配置"},{"id":"创建虚拟环境","depth":3,"text":"创建虚拟环境"}]},{"id":"安装pytorch-1","depth":2,"text":"安装pytorch"},{"id":"编辑器配置-vscode","depth":2,"text":"编辑器配置-vscode"}]}},"_type":"markdown","_id":"content:essay:24.pytorch环境.md","_source":"content","_file":"essay/24.pytorch环境.md","_stem":"essay/24.pytorch环境","_extension":"md"},{"_path":"/essay/23.gorm数据库操作","_dir":"essay","_draft":false,"_partial":false,"_locale":"","title":"gorm 数据库操作","description":"","subtitle":"Gorm database operations","index":23,"date":"2023-03-20","lunar_date":"二月廿九","year":"2023","month":"03","month_en":"Mar","day":"20","tag":"技术","tag_en":"TECH","cover":"/img/rabbit/023.jpg","categories":"golang","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"数据库连接"},"children":[{"type":"text","value":"数据库连接"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"dsn:=\"host=localhost user=postgres password=123456 dbname=iot-platform port=5432 sslmode=disable TimeZone=Asia/Shanghai\"\ndb, err := gorm.Open(postgres.Open(dsn))\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"dsn:=\"host=localhost user=postgres password=123456 dbname=iot-platform port=5432 sslmode=disable TimeZone=Asia/Shanghai\"\ndb, err := gorm.Open(postgres.Open(dsn))\n"}]}]},{"type":"element","tag":"h1","props":{"id":"数据模型定义"},"children":[{"type":"text","value":"数据模型定义"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"type UserBasic struct {\n    gorm.Model\n\n    Name string\n    Age int\n}\n\nfunc (table UserBasic)TableName() string {\n    return \"user_basic\"\n}\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"type UserBasic struct {\n    gorm.Model\n\n    Name string\n    Age int\n}\n\nfunc (table UserBasic)TableName() string {\n    return \"user_basic\"\n}\n"}]}]},{"type":"element","tag":"h1","props":{"id":"数据模型-数据表映射"},"children":[{"type":"text","value":"数据模型-数据表映射"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"db.AutoMigrate(&UserBasic,...)\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"db.AutoMigrate(&UserBasic,...)\n"}]}]},{"type":"element","tag":"h1","props":{"id":"crud"},"children":[{"type":"text","value":"CRUD"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"// 创建记录\nuser := User{Name: \"John\", Age: 30}\ndb.Create(&user)\n\n// 查询记录\nvar users []User\ndb.Find(&users)\ndb.First(&user, 1)\n\n// 更新记录\nuser.Name = \"Tom\"\ndb.Save(&user)\n\n// 删除记录\ndb.Delete(&user)\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"// 创建记录\nuser := User{Name: \"John\", Age: 30}\ndb.Create(&user)\n\n// 查询记录\nvar users []User\ndb.Find(&users)\ndb.First(&user, 1)\n\n// 更新记录\nuser.Name = \"Tom\"\ndb.Save(&user)\n\n// 删除记录\ndb.Delete(&user)\n"}]}]},{"type":"element","tag":"h1","props":{"id":"原生sql"},"children":[{"type":"text","value":"原生SQL"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"rows, err := db.Raw(\"SELECT name, age FROM users WHERE age > ?\", 18).Rows()\ndefer rows.Close()\n\nfor rows.Next() {\n    var name string\n    var age int\n\n    rows.Scan(&name, &age)\n\n    fmt.Println(name, age)\n}\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"rows, err := db.Raw(\"SELECT name, age FROM users WHERE age > ?\", 18).Rows()\ndefer rows.Close()\n\nfor rows.Next() {\n    var name string\n    var age int\n\n    rows.Scan(&name, &age)\n\n    fmt.Println(name, age)\n}\n"}]}]},{"type":"element","tag":"h1","props":{"id":"事务"},"children":[{"type":"text","value":"事务"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"tx := db.Begin()\n\n// 在事务中执行操作\nif err := tx.Create(&User{Name: \"John\", Age: 30}).Error; err != nil {\n    // 发生错误时回滚事务\n    tx.Rollback()\n}\n\n// 成功时提交事务\ntx.Commit()\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"tx := db.Begin()\n\n// 在事务中执行操作\nif err := tx.Create(&User{Name: \"John\", Age: 30}).Error; err != nil {\n    // 发生错误时回滚事务\n    tx.Rollback()\n}\n\n// 成功时提交事务\ntx.Commit()\n"}]}]},{"type":"element","tag":"h1","props":{"id":"联合查询"},"children":[{"type":"text","value":"联合查询"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"var user User\nvar email Email\n\ndb.Joins(\"JOIN emails ON users.id = emails.user_id\").Where(\"users.name = ?\", \"John\").Find(&user, &email)\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"var user User\nvar email Email\n\ndb.Joins(\"JOIN emails ON users.id = emails.user_id\").Where(\"users.name = ?\", \"John\").Find(&user, &email)\n"}]}]}],"toc":{"title":"","searchDepth":2,"depth":3,"links":[]}},"_type":"markdown","_id":"content:essay:23.gorm数据库操作.md","_source":"content","_file":"essay/23.gorm数据库操作.md","_stem":"essay/23.gorm数据库操作","_extension":"md"},{"_path":"/essay/22.git大全","_dir":"essay","_draft":false,"_partial":false,"_locale":"","title":"git大全","description":"拉取 git clone 、git pull提交 git push删除 git rm暂存 git add覆盖 git push -f合并 git merge","subtitle":"String、rune and byte","index":22,"date":"2023-03-13 00:00:04","lunar_date":"二月廿二","year":"2023","month":"03","month_en":"Mar","day":"13","tag":"技术","tag_en":"TECH","cover":"/img/rabbit/022.jpg","categories":"git","body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"拉取"}]},{"type":"text","value":" git clone 、git pull"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"提交"}]},{"type":"text","value":" git push"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"删除"}]},{"type":"text","value":" git rm"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"暂存"}]},{"type":"text","value":" git add"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"覆盖"}]},{"type":"text","value":" git push -f"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"合并"}]},{"type":"text","value":" git merge"}]},{"type":"element","tag":"h1","props":{"id":"拉取"},"children":[{"type":"text","value":"拉取"}]},{"type":"element","tag":"h2","props":{"id":"git-clone"},"children":[{"type":"text","value":"git clone:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"有无权限均可拉取,从0到1，本地无代码才能用"}]},{"type":"element","tag":"pre","props":{"className":["language-bash"],"code":"# 克隆默认分支\ngit clone <远程仓库地址.git>\n# 克隆指定分支\ngit clone -b <远程分支名> <远程仓库地址.git>\n","language":"bash","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"# 克隆默认分支\ngit clone <远程仓库地址.git>\n# 克隆指定分支\ngit clone -b <远程分支名> <远程仓库地址.git>\n"}]}]},{"type":"element","tag":"h2","props":{"id":"git-pull"},"children":[{"type":"text","value":"git pull:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"有权限才能拉取，更新代码时使用"}]},{"type":"element","tag":"pre","props":{"className":["language-bash"],"code":"git init\n# 关联远程仓库，可关联多个仓库，origin会设置为仓库名\n# 跳过这一步执行 git pull 也可以拉取\ngit remote add origin <远程仓库地址.git>\n# 可选：设置多个远程地址，origin为仓库名\ngit remote set-url --add origin <远程仓库地址2.git>\n# 拉取远程分支到某个本地分支\ngit pull <远程仓库地址.git> <远程分支名>:<本地分支名>\n# 本地分支名可忽略，默认为拉取到当前分支\ngit pull <远程仓库地址.git> <远程分支名>\n# 可选:移除远程仓库关联\ngit remote remove <远程仓库地址.git>\n","language":"bash","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"git init\n# 关联远程仓库，可关联多个仓库，origin会设置为仓库名\n# 跳过这一步执行 git pull 也可以拉取\ngit remote add origin <远程仓库地址.git>\n# 可选：设置多个远程地址，origin为仓库名\ngit remote set-url --add origin <远程仓库地址2.git>\n# 拉取远程分支到某个本地分支\ngit pull <远程仓库地址.git> <远程分支名>:<本地分支名>\n# 本地分支名可忽略，默认为拉取到当前分支\ngit pull <远程仓库地址.git> <远程分支名>\n# 可选:移除远程仓库关联\ngit remote remove <远程仓库地址.git>\n"}]}]},{"type":"element","tag":"h1","props":{"id":"提交-git-push"},"children":[{"type":"text","value":"提交 - git push"}]},{"type":"element","tag":"pre","props":{"className":["language-bash"],"code":"# git初始化，添加 .git 文件\ngit init\n# 将文件提交到暂存区\ngit add .\n# commit\ngit commit -m <commit的内容>\n# 可选:新建分支\ngit branch <分支名>\n# 可选:切换到分支\ngit checkout <分支名>\n# 提交前，如未与远程仓库关联则先与远程仓库关联\n# 仓库名一般用 origin \ngit remote add <仓库名> <远程仓库地址.git>\n# 以当前分支提交到远程分支\ngit push -u <仓库名> <远程分支名>\n# 可选:指定本地分支提交到远程分支\ngit push -u <仓库名> <本地分支名>:<远程分支名>\n# 如出现冲突则先git pull拉取，解决冲突再提交\n# git 拉取，没有指定分支则拉取默认分支\ngit pull <远程仓库地址.git> <远程分支名>\n# 允许拉取非关联的仓库\ngit pull <远程仓库地址.git> <远程分支名> --allow-unrelated-histories\n# 根据提示手动修改冲突文件\n# 从git add开始重来 git 提交流程\n","language":"bash","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"# git初始化，添加 .git 文件\ngit init\n# 将文件提交到暂存区\ngit add .\n# commit\ngit commit -m <commit的内容>\n# 可选:新建分支\ngit branch <分支名>\n# 可选:切换到分支\ngit checkout <分支名>\n# 提交前，如未与远程仓库关联则先与远程仓库关联\n# 仓库名一般用 origin \ngit remote add <仓库名> <远程仓库地址.git>\n# 以当前分支提交到远程分支\ngit push -u <仓库名> <远程分支名>\n# 可选:指定本地分支提交到远程分支\ngit push -u <仓库名> <本地分支名>:<远程分支名>\n# 如出现冲突则先git pull拉取，解决冲突再提交\n# git 拉取，没有指定分支则拉取默认分支\ngit pull <远程仓库地址.git> <远程分支名>\n# 允许拉取非关联的仓库\ngit pull <远程仓库地址.git> <远程分支名> --allow-unrelated-histories\n# 根据提示手动修改冲突文件\n# 从git add开始重来 git 提交流程\n"}]}]},{"type":"element","tag":"h1","props":{"id":"删除-git-rm"},"children":[{"type":"text","value":"删除 - git rm"}]},{"type":"element","tag":"pre","props":{"className":["language-bash"],"code":"# 查看文件\ndir\n# 删除指定文件\ngit rm  <文件>\n# 删除指定文件夹\ngit rm -r <文件夹>\ngit commit -m \"\"\ngit push\n","language":"bash","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"# 查看文件\ndir\n# 删除指定文件\ngit rm  <文件>\n# 删除指定文件夹\ngit rm -r <文件夹>\ngit commit -m \"\"\ngit push\n"}]}]},{"type":"element","tag":"h1","props":{"id":"暂存-git-add"},"children":[{"type":"text","value":"暂存 - git add"}]},{"type":"element","tag":"pre","props":{"className":["language-bash"],"code":"#保存所有的修改,包括删除\ngit add -A  \n# 保存新的添加和修改，但是不包括删除\ngit add . \n#保存修改和删除，但是不包括新建文件\ngit add -u  \n","language":"bash","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"#保存所有的修改,包括删除\ngit add -A  \n# 保存新的添加和修改，但是不包括删除\ngit add . \n#保存修改和删除，但是不包括新建文件\ngit add -u  \n"}]}]},{"type":"element","tag":"h1","props":{"id":"覆盖"},"children":[{"type":"text","value":"覆盖"}]},{"type":"element","tag":"pre","props":{"className":["language-bash"],"code":"# 以远程仓库为准\n# 拉取所有更新，不同步\ngit fetch --all\n# 本地代码同步线上最新版本(会覆盖本地所有与远程仓库上同名的文件)；\ngit reset --hard origin/master\n\n# 以本地仓库为准\n# 强制推送到远程仓库，并覆盖远程代码库\ngit push -f --set-upstream origin master:master\n","language":"bash","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"# 以远程仓库为准\n# 拉取所有更新，不同步\ngit fetch --all\n# 本地代码同步线上最新版本(会覆盖本地所有与远程仓库上同名的文件)；\ngit reset --hard origin/master\n\n# 以本地仓库为准\n# 强制推送到远程仓库，并覆盖远程代码库\ngit push -f --set-upstream origin master:master\n"}]}]},{"type":"element","tag":"h1","props":{"id":"合并-git-merge"},"children":[{"type":"text","value":"合并 - git merge"}]},{"type":"element","tag":"pre","props":{"className":["language-bash"],"code":"git merge <远程分支名> --allow-unrelated-histories\n# 出现冲突，解决冲突\n# 添加冲突文件\ngit add .\n# 然后继续合并\ngit merge --continue\n# 如果放弃合并则\ngit merge --abort\n# 再推送\ngit push\n","language":"bash","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"git merge <远程分支名> --allow-unrelated-histories\n# 出现冲突，解决冲突\n# 添加冲突文件\ngit add .\n# 然后继续合并\ngit merge --continue\n# 如果放弃合并则\ngit merge --abort\n# 再推送\ngit push\n"}]}]},{"type":"element","tag":"h1","props":{"id":"迁移"},"children":[{"type":"text","value":"迁移"}]},{"type":"element","tag":"pre","props":{"className":["language-bash"],"code":"# 裸仓库\ngit clone --bare xxx\n# 或镜像仓库\ngit clone --mirror xxx\n\n# 关联另一个仓库\ngit remote add remote2 xxx \n# 推送到另一个仓库\n$ git push --mirror remote2\n","language":"bash","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"# 裸仓库\ngit clone --bare xxx\n# 或镜像仓库\ngit clone --mirror xxx\n\n# 关联另一个仓库\ngit remote add remote2 xxx \n# 推送到另一个仓库\n$ git push --mirror remote2\n"}]}]}],"toc":{"title":"","searchDepth":2,"depth":3,"links":[{"id":"git-clone","depth":2,"text":"git clone:"},{"id":"git-pull","depth":2,"text":"git pull:"}]}},"_type":"markdown","_id":"content:essay:22.git大全.md","_source":"content","_file":"essay/22.git大全.md","_stem":"essay/22.git大全","_extension":"md"},{"_path":"/essay/21.关于string、rune与byte","_dir":"essay","_draft":false,"_partial":false,"_locale":"","title":"关于 string、rune 与 byte","description":"\"\":双引号，包裹的类型是string'':单引号，包裹的类型是rune,rune是int32的别名，只能是单个字符``:反引号，包裹的类型是string","subtitle":"String、rune and byte","index":21,"date":"2023-03-13 00:00:03","lunar_date":"二月廿二","year":"2023","month":"03","month_en":"Mar","day":"13","tag":"技术","tag_en":"TECH","cover":"/img/rabbit/021.jpg","categories":"golang","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"关于引号"},"children":[{"type":"text","value":"关于引号"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"\"\""}]},{"type":"text","value":":双引号，包裹的类型是string"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"''"}]},{"type":"text","value":":单引号，包裹的类型是rune,rune是int32的别名，只能是单个字符"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"``"}]},{"type":"text","value":":反引号，包裹的类型是string"}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"``"}]},{"type":"text","value":"不会解析转义符，"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"\"\""}]},{"type":"text","value":"会解析转义符"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"在编辑器里 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"``"}]},{"type":"text","value":" 中 可以回车换行"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"使用 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"\"\""}]},{"type":"text","value":" 时不管有没有转义符都会遍历字符数组一遍寻找转义符，而使用"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"``"}]},{"type":"text","value":"则是直接输出，所以 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"``"}]},{"type":"text","value":" 性能好一点"}]}]}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"char1 := \"A\"\nchar2 := 'A'\nchar3 := `A`\nchar4 := \"asd\\nfghjkl\"\n//在编辑器里这串字符换行后有两个缩进\nchar5 := `asd\\nfg\n        nhjkl`\n// char4:='AB' 不行，只能单个字符\nfmt.Printf(\"char1:%v(类型:%T)\\n\", char1, char1)\nfmt.Printf(\"char2:%v(类型:%T)\\n\", char2, char2)\nfmt.Printf(\"char3:%v(类型:%T)\\n\", char3, char3)\nfmt.Printf(\"char4:%v(类型:%T)\\n\", char4, char4)\nfmt.Printf(\"char5:%v(类型:%T)\\n\", char5, char5)\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"char1 := \"A\"\nchar2 := 'A'\nchar3 := `A`\nchar4 := \"asd\\nfghjkl\"\n//在编辑器里这串字符换行后有两个缩进\nchar5 := `asd\\nfg\n        nhjkl`\n// char4:='AB' 不行，只能单个字符\nfmt.Printf(\"char1:%v(类型:%T)\\n\", char1, char1)\nfmt.Printf(\"char2:%v(类型:%T)\\n\", char2, char2)\nfmt.Printf(\"char3:%v(类型:%T)\\n\", char3, char3)\nfmt.Printf(\"char4:%v(类型:%T)\\n\", char4, char4)\nfmt.Printf(\"char5:%v(类型:%T)\\n\", char5, char5)\n"}]}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"char1:A(类型:string)\nchar2:65(类型:int32)\nchar3:A(类型:string)\nchar4:asd\nfghjkl(类型:string)\nchar5:asd\\nfg\n        nhjkl(类型:string)\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"char1:A(类型:string)\nchar2:65(类型:int32)\nchar3:A(类型:string)\nchar4:asd\nfghjkl(类型:string)\nchar5:asd\\nfg\n        nhjkl(类型:string)\n"}]}]},{"type":"element","tag":"h1","props":{"id":"byte-与-rune"},"children":[{"type":"text","value":"byte 与 rune"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"byte: unit8的别名。代表 ASCII 码的一个字符（占一个字节）"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\nrune: int32的别名。用于标识 Unicode 字符，代表一个 UTF-8 字符(占多个字节，例如英文字母占一个字节，中文汉字一般占三个字节)"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\n因为识别的字节数不一样，所以使用不同的处理方式结果会有所不同，请看下一小节"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"var char1 byte = 'A'\nchar2 := 'A'    // 默认是 int32/rune\nvar char3 byte = 65\nvar char4 byte = '\\x41'\nvar char5 byte = '\\101'\n// %c:字符的unicode码值; %T：变量的类型; %v:值的默认格式; %U:表示为Unicode格式\nfmt.Printf(\"char1:%c(类型:%T)(%v)(%U)\\n\", char1, char1,char1,char1)\nfmt.Printf(\"char2:%c(类型:%T)(%v)\\n\", char2, char2,char2)\nfmt.Printf(\"char3:%c(类型:%T)(%v)\\n\", char3, char3,char3)\nfmt.Printf(\"char4:%c(类型:%T)(%v)\\n\", char4, char4,char4)\nfmt.Printf(\"char5:%c(类型:%T)(%v)\\n\", char5, char5,char5)\nvar char6 rune ='\\u0041'\nvar char7 int64='\\U00000041'\nfmt.Printf(\"char6:%c(类型:%T)(%v)(%U)\\n\", char6, char6,char6,char6)\nfmt.Printf(\"char7:%c(类型:%T)(%v)(%U)\\n\", char7, char7,char7,char7)\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"var char1 byte = 'A'\nchar2 := 'A'    // 默认是 int32/rune\nvar char3 byte = 65\nvar char4 byte = '\\x41'\nvar char5 byte = '\\101'\n// %c:字符的unicode码值; %T：变量的类型; %v:值的默认格式; %U:表示为Unicode格式\nfmt.Printf(\"char1:%c(类型:%T)(%v)(%U)\\n\", char1, char1,char1,char1)\nfmt.Printf(\"char2:%c(类型:%T)(%v)\\n\", char2, char2,char2)\nfmt.Printf(\"char3:%c(类型:%T)(%v)\\n\", char3, char3,char3)\nfmt.Printf(\"char4:%c(类型:%T)(%v)\\n\", char4, char4,char4)\nfmt.Printf(\"char5:%c(类型:%T)(%v)\\n\", char5, char5,char5)\nvar char6 rune ='\\u0041'\nvar char7 int64='\\U00000041'\nfmt.Printf(\"char6:%c(类型:%T)(%v)(%U)\\n\", char6, char6,char6,char6)\nfmt.Printf(\"char7:%c(类型:%T)(%v)(%U)\\n\", char7, char7,char7,char7)\n"}]}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"char1:A(类型:uint8)(65)(U+0041)\nchar2:A(类型:int32)(65)\nchar3:A(类型:uint8)(65)\nchar4:A(类型:uint8)(65)\nchar5:A(类型:uint8)(65)\nchar6:A(类型:int32)(65)(U+0041)\nchar7:A(类型:int64)(65)(U+0041)\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"char1:A(类型:uint8)(65)(U+0041)\nchar2:A(类型:int32)(65)\nchar3:A(类型:uint8)(65)\nchar4:A(类型:uint8)(65)\nchar5:A(类型:uint8)(65)\nchar6:A(类型:int32)(65)(U+0041)\nchar7:A(类型:int64)(65)(U+0041)\n"}]}]},{"type":"element","tag":"h1","props":{"id":"string"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"string的底层是字符数组"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"使用传统的"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"for-i++"}]},{"type":"text","value":"循环时会按ASCII处理，按unit8的格式进行解析,得到的是"},{"type":"element","tag":"span","props":{},"children":[]},{"type":"text","value":"byte;"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"使用"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"for-range"}]},{"type":"text","value":"循环时则是按int32的格式进行解析，得到的是"},{"type":"element","tag":"span","props":{},"children":[]},{"type":"text","value":"rune;"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"str := \"goの世界\"\nfor i := 0; i < len(str); i++ {\n    // byte/unit8类型，按 ASCII 处理,会有乱码\n    // %c:字符的unicode码值; %T：变量的类型; %v:值的默认格式; %U:表示为Unicode格式\n    fmt.Printf(\"str[%v]:%c(类型:%T)(%U)\\n\", i, str[i], str[i], str[i])\n}\nfmt.Println(\"--------\")\nfor i, v := range str {\n    // rune/int32类型,按 UTF-8 处理\n    fmt.Printf(\"str[%v]:%c(类型:%T)(%U)\\n\", i, v, v, v)\n}\n\nstr1 := []byte(str)\nstr2 := []rune(str)\nfmt.Printf(\"str1:%c,%v,%U\\n\", str1, str1, str1)\nfmt.Printf(\"str2:%c,%v,%U\\n\", str2, str2, str2)\nfmt.Printf(\"str的ASCII长度:%v\\n\", len(str))\nfmt.Printf(\"str的UTF-8长度:%v\\n\", utf8.RuneCountInString(str))\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"str := \"goの世界\"\nfor i := 0; i < len(str); i++ {\n    // byte/unit8类型，按 ASCII 处理,会有乱码\n    // %c:字符的unicode码值; %T：变量的类型; %v:值的默认格式; %U:表示为Unicode格式\n    fmt.Printf(\"str[%v]:%c(类型:%T)(%U)\\n\", i, str[i], str[i], str[i])\n}\nfmt.Println(\"--------\")\nfor i, v := range str {\n    // rune/int32类型,按 UTF-8 处理\n    fmt.Printf(\"str[%v]:%c(类型:%T)(%U)\\n\", i, v, v, v)\n}\n\nstr1 := []byte(str)\nstr2 := []rune(str)\nfmt.Printf(\"str1:%c,%v,%U\\n\", str1, str1, str1)\nfmt.Printf(\"str2:%c,%v,%U\\n\", str2, str2, str2)\nfmt.Printf(\"str的ASCII长度:%v\\n\", len(str))\nfmt.Printf(\"str的UTF-8长度:%v\\n\", utf8.RuneCountInString(str))\n"}]}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"str[0]:g(类型:uint8)(U+0067)\nstr[1]:o(类型:uint8)(U+006F)\nstr[2]:ã(类型:uint8)(U+00E3)\nstr[3]:(类型:uint8)(U+0081)\nstr[4]:®(类型:uint8)(U+00AE)\nstr[5]:ä(类型:uint8)(U+00E4)\nstr[6]:¸(类型:uint8)(U+00B8)\nstr[7]:(类型:uint8)(U+0096)\nstr[8]:ç(类型:uint8)(U+00E7)\nstr[9]:(类型:uint8)(U+0095)\nstr[10]:(类型:uint8)(U+008C)\n--------\nstr[0]:g(类型:int32)(U+0067)\nstr[1]:o(类型:int32)(U+006F)\nstr[2]:の(类型:int32)(U+306E)\nstr[5]:世(类型:int32)(U+4E16)\nstr[8]:界(类型:int32)(U+754C)\nstr1:[g o ã  ® ä ¸  ç  ],[103 111 227 129 174 228 184 150 231 149 140],[U+0067 U+006F U+00E3 U+0081 U+00AE U+00E4 U+00B8 U+0096 U+00E7 U+0095 U+008C]\nstr2:[g o の 世 界],[103 111 12398 19990 30028],[U+0067 U+006F U+306E U+4E16 U+754C]\nstr的ASCII长度:11\nstr的UTF-8长度:5\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"str[0]:g(类型:uint8)(U+0067)\nstr[1]:o(类型:uint8)(U+006F)\nstr[2]:ã(类型:uint8)(U+00E3)\nstr[3]:(类型:uint8)(U+0081)\nstr[4]:®(类型:uint8)(U+00AE)\nstr[5]:ä(类型:uint8)(U+00E4)\nstr[6]:¸(类型:uint8)(U+00B8)\nstr[7]:(类型:uint8)(U+0096)\nstr[8]:ç(类型:uint8)(U+00E7)\nstr[9]:(类型:uint8)(U+0095)\nstr[10]:(类型:uint8)(U+008C)\n--------\nstr[0]:g(类型:int32)(U+0067)\nstr[1]:o(类型:int32)(U+006F)\nstr[2]:の(类型:int32)(U+306E)\nstr[5]:世(类型:int32)(U+4E16)\nstr[8]:界(类型:int32)(U+754C)\nstr1:[g o ã  ® ä ¸  ç  ],[103 111 227 129 174 228 184 150 231 149 140],[U+0067 U+006F U+00E3 U+0081 U+00AE U+00E4 U+00B8 U+0096 U+00E7 U+0095 U+008C]\nstr2:[g o の 世 界],[103 111 12398 19990 30028],[U+0067 U+006F U+306E U+4E16 U+754C]\nstr的ASCII长度:11\nstr的UTF-8长度:5\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"分割为"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"[]byte"}]},{"type":"text","value":"字符数组自然显示不了UTF-8编码的字符，就会出现乱码。分割为"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"[]rune"}]},{"type":"text","value":"字符数组才是按UTF-8处理的"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"g"}]},{"type":"text","value":"和"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"o"}]},{"type":"text","value":"分别由"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"str[0]"}]},{"type":"text","value":"和"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"str[1]"}]},{"type":"text","value":"表示;"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"の"}]},{"type":"text","value":"由"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"str[2]"}]},{"type":"text","value":"、"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"str[3]"}]},{"type":"text","value":"和"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"str[4]"}]},{"type":"text","value":"表示;"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"世"}]},{"type":"text","value":"由"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"str[5]"}]},{"type":"text","value":"、"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"str[6]"}]},{"type":"text","value":"和"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"str[7]"}]},{"type":"text","value":"表示；"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"界"}]},{"type":"text","value":"由"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"str[8]"}]},{"type":"text","value":"、"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"str[9]"}]},{"type":"text","value":"和"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"str[10]"}]},{"type":"text","value":"表示。"}]},{"type":"element","tag":"h1","props":{"id":"修改string"},"children":[{"type":"text","value":"修改string"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"对一个字符串str，要修改其中某个字符，类似"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"str[i]='A'"}]},{"type":"text","value":"这种修改方式是不行的。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"虽说字符串可以当成字符数组来处理，但字符串的本质是有一个指针指向其底层的字符数组的，上述的修改方式并不会修改它的底层数组。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"当然直接str=\"newString\"直接替换掉str指向的字符数组也是可以的，不过这里讨论一下只替换部分字符"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"// string --> []byte -->string\ns1:=\"wasd\"\ns2:=[]byte(s1)\ns2[0]='W'\nfmt.Println(string(s2)) //Wasd\n\n// string --> []rune -->string\ns3:=\"早上好\"\ns4:=[]rune(s3)\ns4[0]='晚'\nfmt.Println(string(s4)) //晚上好\n\n// strings中的方法\ns5 := \"abcdab\"\nold := \"ab\"\nnew :=\"AB\"\n// 把s5里old的字符换成new的字符，第四个参数是替换次数，-1是全部替换\ns6 := strings.Replace(s1, old, new, -1)\nfmt.Println(s4) //ABcdAB\n\n// 全部替换，将指针指向其他字符数组\nstr:=\"abcd\"\nstr=\"ABcd\"\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"// string --> []byte -->string\ns1:=\"wasd\"\ns2:=[]byte(s1)\ns2[0]='W'\nfmt.Println(string(s2)) //Wasd\n\n// string --> []rune -->string\ns3:=\"早上好\"\ns4:=[]rune(s3)\ns4[0]='晚'\nfmt.Println(string(s4)) //晚上好\n\n// strings中的方法\ns5 := \"abcdab\"\nold := \"ab\"\nnew :=\"AB\"\n// 把s5里old的字符换成new的字符，第四个参数是替换次数，-1是全部替换\ns6 := strings.Replace(s1, old, new, -1)\nfmt.Println(s4) //ABcdAB\n\n// 全部替换，将指针指向其他字符数组\nstr:=\"abcd\"\nstr=\"ABcd\"\n"}]}]}],"toc":{"title":"","searchDepth":2,"depth":3,"links":[]}},"_type":"markdown","_id":"content:essay:21.关于string、rune与byte.md","_source":"content","_file":"essay/21.关于string、rune与byte.md","_stem":"essay/21.关于string、rune与byte","_extension":"md"},{"_path":"/essay/18.字符串处理","_dir":"","_draft":false,"_partial":false,"_locale":"","title":"字符串处理","description":"https://www.cnblogs.com/xdyixia/p/11896134.html","subtitle":"String handling","index":18,"date":"2023-03-06 000:00:00","lunar_date":"二月十五","year":"2023","month":"03","month_en":"Mar","day":"01","tag":"技术","tag_en":"TECH","cover":"/img/rabbit/018.jpg","categories":"golang","body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://www.cnblogs.com/xdyixia/p/11896134.html","rel":["nofollow"]},"children":[{"type":"text","value":"https://www.cnblogs.com/xdyixia/p/11896134.html"}]}]},{"type":"element","tag":"h1","props":{"id":"strings-string操作"},"children":[{"type":"text","value":"strings string操作"}]},{"type":"element","tag":"h2","props":{"id":"contains"},"children":[{"type":"text","value":"Contains"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"字符串是否包含子字符串"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"// s是否包含 substr 的字符串\nfunc strings.Contains(s string, substr string) bool\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"// s是否包含 substr 的字符串\nfunc strings.Contains(s string, substr string) bool\n"}]}]},{"type":"element","tag":"h2","props":{"id":"join"},"children":[{"type":"text","value":"Join"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"字符串切片的元素通过某个字符串连接"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"// 常用逗号、分号或空格连接\nfunc Join(a []string, sep string) string\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"// 常用逗号、分号或空格连接\nfunc Join(a []string, sep string) string\n"}]}]},{"type":"element","tag":"h2","props":{"id":"index"},"children":[{"type":"text","value":"Index"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"查找字符串中子字符串的位置"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"// 找不到则返回 -1\nfunc Index(s, sep string) int\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"// 找不到则返回 -1\nfunc Index(s, sep string) int\n"}]}]},{"type":"element","tag":"h2","props":{"id":"repeat"},"children":[{"type":"text","value":"Repeat"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"复读某个字符串若干次"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"// count 为重复 s 字符串的次数\nfunc Repeat(s string, count int) string\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"// count 为重复 s 字符串的次数\nfunc Repeat(s string, count int) string\n"}]}]},{"type":"element","tag":"h2","props":{"id":"replace"},"children":[{"type":"text","value":"Replace"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"替换或删除字符串中某个子字符串"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"// s 为要操作的字符串，old为s中旧有的字符串，new为用来替换的新的字符串\n// n为替换次数，小于0则全部替换\n// 删除：用空字符串进行替换则可实现删除\nfunc Replace(s, old, new string, n int) string\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"// s 为要操作的字符串，old为s中旧有的字符串，new为用来替换的新的字符串\n// n为替换次数，小于0则全部替换\n// 删除：用空字符串进行替换则可实现删除\nfunc Replace(s, old, new string, n int) string\n"}]}]},{"type":"element","tag":"h2","props":{"id":"split"},"children":[{"type":"text","value":"Split"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"分割字符串,返回字符串切片"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"// 常用逗号、分号或空格作为分隔符\nfunc Split(s, sep string) []string\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"// 常用逗号、分号或空格作为分隔符\nfunc Split(s, sep string) []string\n"}]}]},{"type":"element","tag":"h2","props":{"id":"trim"},"children":[{"type":"text","value":"Trim"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在字符串的头部和尾部去除指定的字符串"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"// 常用于去空格\n// 只去头去尾，中间的忽略\nfunc Trim(s string, cutset string) string\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"// 常用于去空格\n// 只去头去尾，中间的忽略\nfunc Trim(s string, cutset string) string\n"}]}]},{"type":"element","tag":"h2","props":{"id":"fields"},"children":[{"type":"text","value":"Fields"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"去除s字符串的空格符，并且按照空格分割返回slice"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"func Fields(s string) []string\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"func Fields(s string) []string\n"}]}]},{"type":"element","tag":"h1","props":{"id":"strconv-string转换"},"children":[{"type":"text","value":"strconv string转换"}]},{"type":"element","tag":"h2","props":{"id":"append"},"children":[{"type":"text","value":"Append"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"将其他类型数据转换为字符串后追加"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"str := make([]byte, 0, 100)\nstr = strconv.AppendInt(str, 4567, 10) //以10进制方式追加\nstr = strconv.AppendBool(str, false)\nstr = strconv.AppendQuote(str, \"abcdefg\")\nstr = strconv.AppendQuoteRune(str, '单')\nfmt.Println(string(str)) //4567false\"abcdefg\"'单'\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"str := make([]byte, 0, 100)\nstr = strconv.AppendInt(str, 4567, 10) //以10进制方式追加\nstr = strconv.AppendBool(str, false)\nstr = strconv.AppendQuote(str, \"abcdefg\")\nstr = strconv.AppendQuoteRune(str, '单')\nfmt.Println(string(str)) //4567false\"abcdefg\"'单'\n"}]}]},{"type":"element","tag":"h2","props":{"id":"format"},"children":[{"type":"text","value":"Format"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"其他类型转换为字符串"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"a := strconv.FormatBool(false)\nb := strconv.FormatInt(1234, 10)\nc := strconv.FormatUint(12345, 10)\nd := strconv.Itoa(1023)\nfmt.Println(a, b, c, d) //false 1234 12345 1023\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"a := strconv.FormatBool(false)\nb := strconv.FormatInt(1234, 10)\nc := strconv.FormatUint(12345, 10)\nd := strconv.Itoa(1023)\nfmt.Println(a, b, c, d) //false 1234 12345 1023\n"}]}]},{"type":"element","tag":"h2","props":{"id":"prase"},"children":[{"type":"text","value":"Prase"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"字符串转换为其他类型"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"func checkError(e error) {\n    if e != nil {\n        fmt.Println(e)\n    }\n}\n// 字符串不一定都能转换成其他类型，所以会有 error\na, err := strconv.ParseBool(\"false\")\ncheckError(err)\nb, err := strconv.ParseFloat(\"123.23\", 64)\ncheckError(err)\nc, err := strconv.ParseInt(\"1234\", 10, 64)\ncheckError(err)\nd, err := strconv.ParseUint(\"12345\", 10, 64)\ncheckError(err)\ne, err := strconv.Atoi(\"1023\")\ncheckError(err)\nfmt.Println(a, b, c, d, e) //false 123.23 1234 12345 1023\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"func checkError(e error) {\n    if e != nil {\n        fmt.Println(e)\n    }\n}\n// 字符串不一定都能转换成其他类型，所以会有 error\na, err := strconv.ParseBool(\"false\")\ncheckError(err)\nb, err := strconv.ParseFloat(\"123.23\", 64)\ncheckError(err)\nc, err := strconv.ParseInt(\"1234\", 10, 64)\ncheckError(err)\nd, err := strconv.ParseUint(\"12345\", 10, 64)\ncheckError(err)\ne, err := strconv.Atoi(\"1023\")\ncheckError(err)\nfmt.Println(a, b, c, d, e) //false 123.23 1234 12345 1023\n"}]}]}],"toc":{"title":"","searchDepth":2,"depth":3,"links":[{"id":"contains","depth":2,"text":"Contains"},{"id":"join","depth":2,"text":"Join"},{"id":"index","depth":2,"text":"Index"},{"id":"repeat","depth":2,"text":"Repeat"},{"id":"replace","depth":2,"text":"Replace"},{"id":"split","depth":2,"text":"Split"},{"id":"trim","depth":2,"text":"Trim"},{"id":"fields","depth":2,"text":"Fields"},{"id":"append","depth":2,"text":"Append"},{"id":"format","depth":2,"text":"Format"},{"id":"prase","depth":2,"text":"Prase"}]}},"_type":"markdown","_id":"content:essay:18.字符串处理.md","_source":"content","_file":"essay/18.字符串处理.md","_stem":"essay/18.字符串处理","_extension":"md"},{"_path":"/essay/20.Go与json","_dir":"essay","_draft":false,"_partial":false,"_locale":"","title":"Go与json","description":"JSON 是存储和交换文本信息的语法，类似 XML。\nJSON 比 XML 更小、更快，更易解析。\nJSON 易于人阅读和编写。\nC、Python、C++、Java、PHP、Go 等编程语言都支持 JSON。","subtitle":"Go and json","index":20,"date":"2023-03-06 00:00:02","lunar_date":"二月十五","year":"2023","month":"03","month_en":"Mar","day":"01","tag":"技术","tag_en":"TECH","cover":"/img/rabbit/020.jpg","categories":"golang","body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"JSON 是存储和交换文本信息的语法，类似 XML。"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\nJSON 比 XML 更小、更快，更易解析。"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\nJSON 易于人阅读和编写。"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\nC、Python、C++、Java、PHP、Go 等编程语言都支持 JSON。"}]},{"type":"element","tag":"h1","props":{"id":"struct-与-json-的序列反序列化"},"children":[{"type":"text","value":"struct 与 json 的序列/反序列化"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"结构体"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"type Person struct {\n    Name   string  \n    Age    int     \n    Weight float64 \n}\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"type Person struct {\n    Name   string  \n    Age    int     \n    Weight float64 \n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"json"}]},{"type":"element","tag":"pre","props":{"className":["language-json"],"code":"{   \n    \"Name\":\"小明\",\n    \"Age\":18,\n    \"Weight\":66.6\n}\n","language":"json","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"{   \n    \"Name\":\"小明\",\n    \"Age\":18,\n    \"Weight\":66.6\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"将结构体序列化为json"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"// 将结构体序列化为json\nfunc json.Marshal(v any) ([]byte, error)\n// 将json反序列化为结构体\nfunc json.Unmarshal(data []byte, v any) error\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"// 将结构体序列化为json\nfunc json.Marshal(v any) ([]byte, error)\n// 将json反序列化为结构体\nfunc json.Unmarshal(data []byte, v any) error\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Unmarshal() 接收的是"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"[]byte"}]},{"type":"text","value":"类型参数，其他类型需要使用"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"[]byte()"}]},{"type":"text","value":"进行转换；同样的， Marshal() 输出的也是"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"[]byte"}]},{"type":"text","value":"类型"}]},{"type":"element","tag":"h1","props":{"id":"tag-标签"},"children":[{"type":"text","value":"tag 标签"}]},{"type":"element","tag":"h2","props":{"id":"指定字段名"},"children":[{"type":"text","value":"指定字段名"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"将结构体解析后输出的字段名改为标签中的名称，比如go中变量公开要首字母大写，需要将其序列化后的字段为小写。\nfmt格式化输出中的 %s 占位符是自动转换为 string 再输出"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"type Person struct {\n    Name   string  `json:\"name\"`\n    Age    int     `json:\"age\"`\n    Weight float64 `json:\"weight\"`\n}\nfunc main{\n   // 结构体转json\n    p1 := Person{\n        Name:   \"小明\",\n        Age:    18,\n        Weight: 0,\n    }\n    b,err:=json.Marshal(p1)\n    if err != nil {\n        fmt.Print(err)\n    }\n    fmt.Printf(\"str:%s\\n\",b)\n\n    // json转结构体\n    var p2 Person\n    err=json.Unmarshal(b,&p2)\n    if err!=nil {\n        fmt.Println(err)\n    }\n    fmt.Printf(\"p2:%#v\\n\",p2)\n}\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"type Person struct {\n    Name   string  `json:\"name\"`\n    Age    int     `json:\"age\"`\n    Weight float64 `json:\"weight\"`\n}\nfunc main{\n   // 结构体转json\n    p1 := Person{\n        Name:   \"小明\",\n        Age:    18,\n        Weight: 0,\n    }\n    b,err:=json.Marshal(p1)\n    if err != nil {\n        fmt.Print(err)\n    }\n    fmt.Printf(\"str:%s\\n\",b)\n\n    // json转结构体\n    var p2 Person\n    err=json.Unmarshal(b,&p2)\n    if err!=nil {\n        fmt.Println(err)\n    }\n    fmt.Printf(\"p2:%#v\\n\",p2)\n}\n"}]}]},{"type":"element","tag":"pre","props":{"className":["language-json"],"code":"{\n    \"name\":\"小明\",\n    \"age\":18,\n    \"weight\":66.6\n}\n","language":"json","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"{\n    \"name\":\"小明\",\n    \"age\":18,\n    \"weight\":66.6\n}\n"}]}]},{"type":"element","tag":"h2","props":{"id":"忽略字段"},"children":[{"type":"text","value":"忽略字段"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"添加tag以忽略某些字段\n"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"\"-\""}]},{"type":"text","value":":指定json序列化/反序列化时忽略此字段\n"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"\"omitempty\""}]},{"type":"text","value":":字段值为空时(不是零值，是没有该字段)，序列化/反序列化时忽略此字段"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"type Person struct {\n    Name   string  `json:\"name\"`            // 指定序列化/反序列化的字段名\n    Age    int     `json:\"age,omitempty\"`   // 若字段值为空,序列化/反序列化时忽略此字段\n    Weight float64 `json:\"-\"`               // 序列化/反序列化时忽略此字段\n}\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"type Person struct {\n    Name   string  `json:\"name\"`            // 指定序列化/反序列化的字段名\n    Age    int     `json:\"age,omitempty\"`   // 若字段值为空,序列化/反序列化时忽略此字段\n    Weight float64 `json:\"-\"`               // 序列化/反序列化时忽略此字段\n}\n"}]}]},{"type":"element","tag":"h1","props":{"id":"嵌套结构体"},"children":[{"type":"text","value":"嵌套结构体"}]},{"type":"element","tag":"h2","props":{"id":"解析为单层json"},"children":[{"type":"text","value":"解析为单层json"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"type User struct {\n    Name    string   `json:\"name\"`\n    Email   string   `json:\"email\"`\n    Hobby   []string `json:\"hobby\"`\n    Profile \n}\n\ntype Profile struct {\n    Website string `json:\"site\"`\n    Slogan  string `json:\"slogan\"`\n}\n\nu1 := User{\n        Name:  \"小明\",\n        Hobby: []string{\"足球\", \"篮球\"},\n    }\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"type User struct {\n    Name    string   `json:\"name\"`\n    Email   string   `json:\"email\"`\n    Hobby   []string `json:\"hobby\"`\n    Profile \n}\n\ntype Profile struct {\n    Website string `json:\"site\"`\n    Slogan  string `json:\"slogan\"`\n}\n\nu1 := User{\n        Name:  \"小明\",\n        Hobby: []string{\"足球\", \"篮球\"},\n    }\n"}]}]},{"type":"element","tag":"pre","props":{"className":["language-json"],"code":"{\n    \"name\":\"小明\",\n    \"email\":\"\",\n    \"hobby\":[\"足球\",\"篮球\"],\n    \"site\":\"\",\n    \"slogan\":\"\"\n}\n","language":"json","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"{\n    \"name\":\"小明\",\n    \"email\":\"\",\n    \"hobby\":[\"足球\",\"篮球\"],\n    \"site\":\"\",\n    \"slogan\":\"\"\n}\n"}]}]},{"type":"element","tag":"h2","props":{"id":"解析为多层嵌套json"},"children":[{"type":"text","value":"解析为多层嵌套json"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"只需要添加给嵌套的字段json标签"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"type User struct {\n    Name    string   `json:\"name\"`\n    Email   string   `json:\"email\"`\n    Hobby   []string `json:\"hobby\"`\n    Profile `json:\"profile\"`\n}\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"type User struct {\n    Name    string   `json:\"name\"`\n    Email   string   `json:\"email\"`\n    Hobby   []string `json:\"hobby\"`\n    Profile `json:\"profile\"`\n}\n"}]}]},{"type":"element","tag":"pre","props":{"className":["language-json"],"code":"{\n    \"name\":\"小明\",\n    \"email\":\"\",\n    \"hobby\":[\"足球\",\"篮球\"],\n    \"profile\":\n        {\n            \"site\":\"\",\n            \"slogan\":\"\"\n        }\n}\n","language":"json","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"{\n    \"name\":\"小明\",\n    \"email\":\"\",\n    \"hobby\":[\"足球\",\"篮球\"],\n    \"profile\":\n        {\n            \"site\":\"\",\n            \"slogan\":\"\"\n        }\n}\n"}]}]},{"type":"element","tag":"h2","props":{"id":"忽略嵌套结构体的空值"},"children":[{"type":"text","value":"忽略嵌套结构体的空值"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"嵌套字段只使用 omitempty 标签是不行的，还需要加指针才能忽略空值情况"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"type User struct {\n    Name    string   `json:\"name\"`\n    Email   string   `json:\"email,omitempty\"`\n    Hobby   []string `json:\"hobby,omitempty\"`\n    *Profile `json:\"profile,omitempty\"`\n}\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"type User struct {\n    Name    string   `json:\"name\"`\n    Email   string   `json:\"email,omitempty\"`\n    Hobby   []string `json:\"hobby,omitempty\"`\n    *Profile `json:\"profile,omitempty\"`\n}\n"}]}]},{"type":"element","tag":"h2","props":{"id":"不修改原结构体忽略空值字段"},"children":[{"type":"text","value":"不修改原结构体忽略空值字段"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"type User struct {\n    Name     string `json:\"name\"`\n    Password string `json:\"password\"`\n}\n\ntype PublicUser struct {\n    *User             // 匿名嵌套\n    Password *struct{} `json:\"password,omitempty\"`\n}\ntype User struct {\n    Name     string `json:\"name\"`\n    Password string `json:\"password\"`\n}\n\ntype PublicUser struct {\n    *User             // 匿名嵌套\n    Password *struct{} `json:\"password,omitempty\"`\n}\n\nfunc omitPasswordDemo() {\n    u1 := User{\n        Name:     \"七米\",\n        Password: \"123456\",\n    }\n    b, err := json.Marshal(PublicUser{User: &u1})\n    if err != nil {\n        fmt.Printf(\"json.Marshal u1 failed, err:%v\\n\", err)\n        return\n    }\n    fmt.Printf(\"str:%s\\n\", b)  // str:{\"name\":\"七米\"}\n}\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"type User struct {\n    Name     string `json:\"name\"`\n    Password string `json:\"password\"`\n}\n\ntype PublicUser struct {\n    *User             // 匿名嵌套\n    Password *struct{} `json:\"password,omitempty\"`\n}\ntype User struct {\n    Name     string `json:\"name\"`\n    Password string `json:\"password\"`\n}\n\ntype PublicUser struct {\n    *User             // 匿名嵌套\n    Password *struct{} `json:\"password,omitempty\"`\n}\n\nfunc omitPasswordDemo() {\n    u1 := User{\n        Name:     \"七米\",\n        Password: \"123456\",\n    }\n    b, err := json.Marshal(PublicUser{User: &u1})\n    if err != nil {\n        fmt.Printf(\"json.Marshal u1 failed, err:%v\\n\", err)\n        return\n    }\n    fmt.Printf(\"str:%s\\n\", b)  // str:{\"name\":\"七米\"}\n}\n"}]}]},{"type":"element","tag":"h2","props":{"id":"字符串类型的数字解析"},"children":[{"type":"text","value":"字符串类型的数字解析"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"因为数据是string类型，所以不能对应相应数据类型的字段。使用string标签。"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"type Card struct {\n    ID    int64   `json:\"id,string\"`    // 添加string tag\n    Score float64 `json:\"score,string\"` // 添加string tag\n}\njsonStr1 := `{\"id\": \"1234567\",\"score\": \"88.50\"}`\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"type Card struct {\n    ID    int64   `json:\"id,string\"`    // 添加string tag\n    Score float64 `json:\"score,string\"` // 添加string tag\n}\njsonStr1 := `{\"id\": \"1234567\",\"score\": \"88.50\"}`\n"}]}]}],"toc":{"title":"","searchDepth":2,"depth":3,"links":[{"id":"指定字段名","depth":2,"text":"指定字段名"},{"id":"忽略字段","depth":2,"text":"忽略字段"},{"id":"解析为单层json","depth":2,"text":"解析为单层json"},{"id":"解析为多层嵌套json","depth":2,"text":"解析为多层嵌套json"},{"id":"忽略嵌套结构体的空值","depth":2,"text":"忽略嵌套结构体的空值"},{"id":"不修改原结构体忽略空值字段","depth":2,"text":"不修改原结构体忽略空值字段"},{"id":"字符串类型的数字解析","depth":2,"text":"字符串类型的数字解析"}]}},"_type":"markdown","_id":"content:essay:20.Go与json.md","_source":"content","_file":"essay/20.Go与json.md","_stem":"essay/20.Go与json","_extension":"md"},{"_path":"/essay/19.slice与map操作","_dir":"essay","_draft":false,"_partial":false,"_locale":"","title":"slice与map操作","description":"https://github.com/unknwon/the-way-to-go_ZH_CN/blob/master/eBook/07.6.md","subtitle":"Slice and Map Operations","index":19,"date":"2023-03-06 00:00:01","lunar_date":"二月十五","year":"2023","month":"03","month_en":"Mar","day":"01","tag":"技术","tag_en":"TECH","cover":"/img/rabbit/019.jpg","categories":"golang","body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://github.com/unknwon/the-way-to-go_ZH_CN/blob/master/eBook/07.6.md","rel":["nofollow"]},"children":[{"type":"text","value":"https://github.com/unknwon/the-way-to-go_ZH_CN/blob/master/eBook/07.6.md"}]}]},{"type":"element","tag":"h2","props":{"id":"slice操作"},"children":[{"type":"text","value":"slice操作"}]},{"type":"element","tag":"h3","props":{"id":"插入"},"children":[{"type":"text","value":"插入"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在切片a后追加元素x"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"a=append(a, x)\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"a=append(a, x)\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在切片a后追加切片b的元素:"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"a=append(a, b...)\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"a=append(a, b...)\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"将切片a的元素复制到切片b:"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"b:=make([]int,len(a))\ncopy(b,a)\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"b:=make([]int,len(a))\ncopy(b,a)\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"切片a扩展m个长度"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"a=append(a,make([]int,m))\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"a=append(a,make([]int,m))\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在索引i处插入元素x"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"a = append(a[:i], append([]T{x}, a[i:]...)...)\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"a = append(a[:i], append([]T{x}, a[i:]...)...)\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在索引i处插入j长度的切片"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"a=append(a[:i],append(make([]T,j),a[i:]...)...)\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"a=append(a[:i],append(make([]T,j),a[i:]...)...)\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在索引i处插入切片b的所有元素"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"a=append(a[:i],append(b,a[i:]...)...)\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"a=append(a[:i],append(b,a[i:]...)...)\n"}]}]},{"type":"element","tag":"h3","props":{"id":"删除"},"children":[{"type":"text","value":"删除"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"删除切片索引i的元素"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"a=append(a[:i],a[i+1:]...)\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"a=append(a[:i],a[i+1:]...)\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"删除切片索引i到j的元素:"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"a=append(a[:i],a[j+1:]...)\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"a=append(a[:i],a[j+1:]...)\n"}]}]},{"type":"element","tag":"h3","props":{"id":"查询"},"children":[{"type":"text","value":"查询"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"// 索引i的元素\na[i]\n// 切片的的长度\nlen(a)\n// 切片a的容量\ncap(a)\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"// 索引i的元素\na[i]\n// 切片的的长度\nlen(a)\n// 切片a的容量\ncap(a)\n"}]}]},{"type":"element","tag":"h3","props":{"id":"排序"},"children":[{"type":"text","value":"排序"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"// 均为快速排序\n// a为int切片、b为float64切片、c为string切片\n// int类型的排序\nsort.Ints(a)\n// float64类型的排序\nsort.Float64s(b)\n// string类型的排序\nsort.Strings(c)\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"// 均为快速排序\n// a为int切片、b为float64切片、c为string切片\n// int类型的排序\nsort.Ints(a)\n// float64类型的排序\nsort.Float64s(b)\n// string类型的排序\nsort.Strings(c)\n"}]}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"// 倒序\nsort.Sort(sort.Reverse(sort.IntSlice(a)))\nsort.Sort(sort.Reverse(sort.Float64Slice(b)))\nsort.Sort(sort.Reverse(sort.StringSlice(c))))\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"// 倒序\nsort.Sort(sort.Reverse(sort.IntSlice(a)))\nsort.Sort(sort.Reverse(sort.Float64Slice(b)))\nsort.Sort(sort.Reverse(sort.StringSlice(c))))\n"}]}]},{"type":"element","tag":"h3","props":{"id":"遍历"},"children":[{"type":"text","value":"遍历"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"for i,v:=range slice{\n   fmt.Printf(\"%d:%v\\n\",i,v)\n}\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"for i,v:=range slice{\n   fmt.Printf(\"%d:%v\\n\",i,v)\n}\n"}]}]},{"type":"element","tag":"h2","props":{"id":"map操作"},"children":[{"type":"text","value":"map操作"}]},{"type":"element","tag":"h3","props":{"id":"插入和更新"},"children":[{"type":"text","value":"插入和更新"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"map[key]=value\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"map[key]=value\n"}]}]},{"type":"element","tag":"h3","props":{"id":"删除-1"},"children":[{"type":"text","value":"删除"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"delete(mapName,key)\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"delete(mapName,key)\n"}]}]},{"type":"element","tag":"h3","props":{"id":"单个查询"},"children":[{"type":"text","value":"单个查询"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"value,ok:=map[key]\nif ok{\n    fmt.Printf(\"存在/%v,值为%v\",key,value)\n}else{\n    fmt.Printf(\"不存在/%v\",key)\n}\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"value,ok:=map[key]\nif ok{\n    fmt.Printf(\"存在/%v,值为%v\",key,value)\n}else{\n    fmt.Printf(\"不存在/%v\",key)\n}\n"}]}]},{"type":"element","tag":"h3","props":{"id":"遍历-1"},"children":[{"type":"text","value":"遍历"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"for i,v:=range map{\n    fmt.Printf(\"%d:%v\\n\",i,v)\n}\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"for i,v:=range map{\n    fmt.Printf(\"%d:%v\\n\",i,v)\n}\n"}]}]},{"type":"element","tag":"h2","props":{"id":"关于string"},"children":[{"type":"text","value":"关于string"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"string的结构本质上有两个字段，一个是指向底层字符数组的指针，一个是长度。我们可以将string认为是字符数组，可以使用切片的操作对string进行处理，在strings与strconv包中也有更方便的专门处理string的函数，详见字符串处理。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"不过go中不能直接改变字符串中的指定字符，如"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"str[i] = 'c'"}]},{"type":"text","value":"是不允许的"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"必须先将字符串转换成字节数组，然后再通过修改数组中的元素值来达到修改字符串的目的，最后将字节数组转换回字符串格式。"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"s := \"hello\"\nc := []byte(s)\nc[0] = 'c'\ns2 := string(c) // s2 == \"cello\"\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"s := \"hello\"\nc := []byte(s)\nc[0] = 'c'\ns2 := string(c) // s2 == \"cello\"\n"}]}]}],"toc":{"title":"","searchDepth":2,"depth":3,"links":[{"id":"slice操作","depth":2,"text":"slice操作","children":[{"id":"插入","depth":3,"text":"插入"},{"id":"删除","depth":3,"text":"删除"},{"id":"查询","depth":3,"text":"查询"},{"id":"排序","depth":3,"text":"排序"},{"id":"遍历","depth":3,"text":"遍历"}]},{"id":"map操作","depth":2,"text":"map操作","children":[{"id":"插入和更新","depth":3,"text":"插入和更新"},{"id":"删除-1","depth":3,"text":"删除"},{"id":"单个查询","depth":3,"text":"单个查询"},{"id":"遍历-1","depth":3,"text":"遍历"}]},{"id":"关于string","depth":2,"text":"关于string"}]}},"_type":"markdown","_id":"content:essay:19.slice与map操作.md","_source":"content","_file":"essay/19.slice与map操作.md","_stem":"essay/19.slice与map操作","_extension":"md"},{"_path":"/essay/17.web框架-前缀路由树","_dir":"essay","_draft":false,"_partial":false,"_locale":"","title":"web框架-前缀路由树","description":"极客兔兔的web框架，该框架是参考gin的造轮子项目。前缀路由树这篇注释太少，不易于理解，个人写了写自己的理解。","subtitle":"Real-time data acquisition","index":17,"date":"2023-03-01","lunar_date":"二月初十","year":"2023","month":"03","month_en":"Mar","day":"01","tag":"技术","tag_en":"TECH","cover":"/img/rabbit/017.jpg","categories":"golang","body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"极客兔兔的web框架，该框架是参考gin的造轮子项目。前缀路由树这篇注释太少，不易于理解，个人写了写自己的理解。"}]},{"type":"element","tag":"h2","props":{"id":"树结构"},"children":[{"type":"text","value":"树结构"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"// 前缀路由树-树节点\ntype node struct {\n    pattern  string  // 待匹配路由 /p/:lang\n    part     string  // 路由的一部分 :lang，或者叫该节点存储的子路由好一点,在路由中是以 / 字符分隔的最小单位\n    children []*node // 子节点\n    isWild   bool    //是否精确匹配，part 含有 : 或 * 时为true，否则为false\n}\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"// 前缀路由树-树节点\ntype node struct {\n    pattern  string  // 待匹配路由 /p/:lang\n    part     string  // 路由的一部分 :lang，或者叫该节点存储的子路由好一点,在路由中是以 / 字符分隔的最小单位\n    children []*node // 子节点\n    isWild   bool    //是否精确匹配，part 含有 : 或 * 时为true，否则为false\n}\n"}]}]},{"type":"element","tag":"h2","props":{"id":"注册路由"},"children":[{"type":"text","value":"注册路由"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"匹配子节点的方法，可以先看下面的insert方法再倒回来看"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"// 匹配成功的节点，用于插入；插入时只会有一个节点的part匹配\nfunc (n *node) matchChild(part string) *node {\n    // 遍历节点的子节点，子节点的part与要匹配的part相同\n    for _, child := range n.children {\n        if child.part == part || child.isWild {\n            //返回匹配的节点\n            return child\n        }\n    }\n    return nil\n}\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"// 匹配成功的节点，用于插入；插入时只会有一个节点的part匹配\nfunc (n *node) matchChild(part string) *node {\n    // 遍历节点的子节点，子节点的part与要匹配的part相同\n    for _, child := range n.children {\n        if child.part == part || child.isWild {\n            //返回匹配的节点\n            return child\n        }\n    }\n    return nil\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"插入节点的方法"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"// 注册路由规则\n// 对pattern解析，以 / 为分隔符分解为 parts 数组，递归插入路由树，height为插入树的高度\n// 例: pattern   -   \"/p/:lang/doc\"\n//  parts   -   []string{“p”,“lang”,“doc”}\nfunc (n *node) insert(pattern string, parts []string, height int) {\n    // n节点所在树的高度与分解的part数是否相等，即判断 part 是否全部插入完毕\n    if len(parts) == height {\n        // 只有最后一个节点才会设置pattern，用于查询时匹配，这之前的节点该pattern字段均为空\n        // 确保只有相同层级的相同part才能匹配\n        n.pattern = pattern\n        return\n    }\n    part := parts[height]\n    // 在子节点中查找匹配 part 的第一个节点，然后判断是否存在匹配 part的节点\n    // 存在则将其作为子节点，继续下一步\n    child := n.matchChild(part)\n    if child == nil {\n        // 不存在，则构建新节点，将part写入，根据该part第一个字符是否有:和*，设置isWild\n        child = &node{part: part, isWild: part[0] == ':' || part[0] == '*'}\n        // 将该节点作为n节点的子节点插入树中\n        n.children = append(n.children, child)\n    }\n    // 继续查找child的子节点，插入下一个part，直到把parts数组的part全部插入为止\n    child.insert(pattern, parts, height+1)\n}\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"// 注册路由规则\n// 对pattern解析，以 / 为分隔符分解为 parts 数组，递归插入路由树，height为插入树的高度\n// 例: pattern   -   \"/p/:lang/doc\"\n//  parts   -   []string{“p”,“lang”,“doc”}\nfunc (n *node) insert(pattern string, parts []string, height int) {\n    // n节点所在树的高度与分解的part数是否相等，即判断 part 是否全部插入完毕\n    if len(parts) == height {\n        // 只有最后一个节点才会设置pattern，用于查询时匹配，这之前的节点该pattern字段均为空\n        // 确保只有相同层级的相同part才能匹配\n        n.pattern = pattern\n        return\n    }\n    part := parts[height]\n    // 在子节点中查找匹配 part 的第一个节点，然后判断是否存在匹配 part的节点\n    // 存在则将其作为子节点，继续下一步\n    child := n.matchChild(part)\n    if child == nil {\n        // 不存在，则构建新节点，将part写入，根据该part第一个字符是否有:和*，设置isWild\n        child = &node{part: part, isWild: part[0] == ':' || part[0] == '*'}\n        // 将该节点作为n节点的子节点插入树中\n        n.children = append(n.children, child)\n    }\n    // 继续查找child的子节点，插入下一个part，直到把parts数组的part全部插入为止\n    child.insert(pattern, parts, height+1)\n}\n"}]}]},{"type":"element","tag":"h2","props":{"id":"查询路由"},"children":[{"type":"text","value":"查询路由"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"同样，你可以先看下面的search方法再倒回来看这个"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"// 所有匹配成功的节点，用于查找；与插入时匹配不同的是，有可能存在多个part能匹配的节点,例如动态路由 /:xxx\nfunc (n *node) matchChildren(part string) []*node {\n    nodes := make([]*node, 0)\n    // 遍历节点的子节点，子节点的part与要匹配的part相同\n    for _, child := range n.children {\n        if child.part == part || child.isWild {\n            nodes = append(nodes, child)\n        }\n    }\n    // 返回所有匹配的节点\n    return nodes\n}\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"// 所有匹配成功的节点，用于查找；与插入时匹配不同的是，有可能存在多个part能匹配的节点,例如动态路由 /:xxx\nfunc (n *node) matchChildren(part string) []*node {\n    nodes := make([]*node, 0)\n    // 遍历节点的子节点，子节点的part与要匹配的part相同\n    for _, child := range n.children {\n        if child.part == part || child.isWild {\n            nodes = append(nodes, child)\n        }\n    }\n    // 返回所有匹配的节点\n    return nodes\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"search方法"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"// 查询匹配路由\nfunc (n *node) search(parts []string,height int)*node{\n    // n节点所在树的高度与分解的part数相等，或n节点的part字段以字符 * 开头，则匹配完毕\n    if len(parts)==height||strings.HasPrefix(n.part,\"*\"){\n        // 注册路由插入该节点的最大高度并不是该层级，pattern字段为空，也无法匹配(详见insert方法的第一个if语句)\n        if n.pattern==\"\"{\n            return nil\n        }\n        // 匹配到了，返回该节点\n        return n\n    }\n    part:=parts[height]\n    // 在n节点的子节点中查找所有与part匹配的节点\n    chirldren:=n.matchChildren(part)\n\n    for _,child:=range chirldren{\n        // 继续递归查询子节点，匹配下一个part，直到parts数组的part完全匹配为止\n        result:=child.search(parts,height+1)\n        if result!=nil{\n            return result\n        }\n    }\n    return nil\n}\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"// 查询匹配路由\nfunc (n *node) search(parts []string,height int)*node{\n    // n节点所在树的高度与分解的part数相等，或n节点的part字段以字符 * 开头，则匹配完毕\n    if len(parts)==height||strings.HasPrefix(n.part,\"*\"){\n        // 注册路由插入该节点的最大高度并不是该层级，pattern字段为空，也无法匹配(详见insert方法的第一个if语句)\n        if n.pattern==\"\"{\n            return nil\n        }\n        // 匹配到了，返回该节点\n        return n\n    }\n    part:=parts[height]\n    // 在n节点的子节点中查找所有与part匹配的节点\n    chirldren:=n.matchChildren(part)\n\n    for _,child:=range chirldren{\n        // 继续递归查询子节点，匹配下一个part，直到parts数组的part完全匹配为止\n        result:=child.search(parts,height+1)\n        if result!=nil{\n            return result\n        }\n    }\n    return nil\n}\n"}]}]}],"toc":{"title":"","searchDepth":2,"depth":3,"links":[{"id":"树结构","depth":2,"text":"树结构"},{"id":"注册路由","depth":2,"text":"注册路由"},{"id":"查询路由","depth":2,"text":"查询路由"}]}},"_type":"markdown","_id":"content:essay:17.web框架-前缀路由树.md","_source":"content","_file":"essay/17.web框架-前缀路由树.md","_stem":"essay/17.web框架-前缀路由树","_extension":"md"},{"_path":"/essay/16.go的多线程-实时采集机器数据","_dir":"essay","_draft":false,"_partial":false,"_locale":"","title":"go的多线程-实时采集机器数据","description":"1.与目标设备进行tcp连接，接受目标设备发送的数据并存储。\n2.能随意建立复数连接并分别存储对应接收的数据数据。\n3.发送命令可以取消指定的连接。","subtitle":"Real-time data acquisition","index":16,"date":"2023-02-27","lunar_date":"二月初八","year":"2023","month":"02","month_en":"Feb","day":"27","tag":"技术","tag_en":"TECH","cover":"/img/rabbit/016.jpg","categories":"golang","body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"1.与目标设备进行tcp连接，接受目标设备发送的数据并存储。"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\n2.能随意建立复数连接并分别存储对应接收的数据数据。"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\n3.发送命令可以取消指定的连接。"}]},{"type":"element","tag":"h1","props":{"id":"准备"},"children":[{"type":"text","value":"准备"}]},{"type":"element","tag":"h2","props":{"id":"mongodb"},"children":[{"type":"text","value":"mongodb"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"本人使用 docker 进行安装使用 mongodb，你也可以在"},{"type":"element","tag":"a","props":{"href":"https://www.mongodb.com/atlas/database","rel":["nofollow"]},"children":[{"type":"text","value":"mongodb官网"}]},{"type":"text","value":"下载安装。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"首先安装 docker，推荐可以使用docker管理工具 "},{"type":"element","tag":"a","props":{"href":"https://www.docker.com/products/docker-desktop/","rel":["nofollow"]},"children":[{"type":"text","value":"Docker Desktop"}]},{"type":"text","value":"，windows下的安装可参考"},{"type":"element","tag":"a","props":{"href":"https://docker.easydoc.net/doc/81170005/cCewZWoN/lTKfePfP","rel":["nofollow"]},"children":[{"type":"text","value":"Docker 简介和安装"}]},{"type":"text","value":"。\nlinux下请选择对应发行版的方法，ArchLinux的安装可以参考:"}]},{"type":"element","tag":"pre","props":{"className":["language-bash"],"code":"yay -S docker\n# 可选：linux 下的 docker 管理工具\nyay -S lazydocker\n# 启动 docker 服务\nsudo systemctl start docker\n","language":"bash","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"yay -S docker\n# 可选：linux 下的 docker 管理工具\nyay -S lazydocker\n# 启动 docker 服务\nsudo systemctl start docker\n"}]}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"安装完docker后，使用docker 拉取 mongo 镜像并在名为 mongodb 的容器中运行，指定运行端口为20717"}]},{"type":"element","tag":"pre","props":{"className":["language-bash"],"code":"docker pull mongo\ndocker run -d -p 20717:20717 --name mongodb -d mongo\n","language":"bash","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"docker pull mongo\ndocker run -d -p 20717:20717 --name mongodb -d mongo\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"访问localhost:20717，出现以下信息则表明服务启动成功"}]},{"type":"element","tag":"pre","props":{"className":["language-txt"],"code":"It looks like you are trying to access MongoDB over HTTP on the native driver port.\n","language":"txt","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"It looks like you are trying to access MongoDB over HTTP on the native driver port.\n"}]}]},{"type":"element","tag":"h2","props":{"id":"gin"},"children":[{"type":"text","value":"Gin"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://gin-gonic.com/zh-cn/docs/quickstart/","rel":["nofollow"]},"children":[{"type":"text","value":"https://gin-gonic.com/zh-cn/docs/quickstart/"}]}]},{"type":"element","tag":"pre","props":{"className":["language-bash"],"code":"# 安装 gin ，这是一个 web 框架\ngo get -u github.com/gin-gonic/gin\n# 安装跨域中间件 cors，如果有需要的话\ngo get github.com/gin-contrib/cors\n","language":"bash","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"# 安装 gin ，这是一个 web 框架\ngo get -u github.com/gin-gonic/gin\n# 安装跨域中间件 cors，如果有需要的话\ngo get github.com/gin-contrib/cors\n"}]}]},{"type":"element","tag":"h2","props":{"id":"mongo-driver"},"children":[{"type":"text","value":"mongo-driver"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://github.com/mongodb/mongo-go-driver","rel":["nofollow"]},"children":[{"type":"text","value":"https://github.com/mongodb/mongo-go-driver"}]}]},{"type":"element","tag":"pre","props":{"className":["language-bash"],"code":"# 安装 mongo-driver，用于操作 mongodb\ngo get go.mongodb.org/mongo-driver/mongo\n","language":"bash","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"# 安装 mongo-driver，用于操作 mongodb\ngo get go.mongodb.org/mongo-driver/mongo\n"}]}]},{"type":"element","tag":"h1","props":{"id":"路由设置"},"children":[{"type":"text","value":"路由设置"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"/router"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"// 路由初始化\nfunc InitRouter() {\n    r := gin.Default()\n    // 允许跨域\n    r.Use(cors.Default())\n    // 路由\n    r.POST(\"connect/:ip\",api.NewConnect)\n    r.POST(\"disconnect/:ip\",api.Disconnect)\n\n    //在本地 20000 端口运行\n    r.Run(\":20000\")\n}\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"// 路由初始化\nfunc InitRouter() {\n    r := gin.Default()\n    // 允许跨域\n    r.Use(cors.Default())\n    // 路由\n    r.POST(\"connect/:ip\",api.NewConnect)\n    r.POST(\"disconnect/:ip\",api.Disconnect)\n\n    //在本地 20000 端口运行\n    r.Run(\":20000\")\n}\n"}]}]},{"type":"element","tag":"h1","props":{"id":"数据模型"},"children":[{"type":"text","value":"数据模型"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"/model\n数据模型："}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"// 消息结构体\ntype Msg struct {\n    // 获取数据的时间，不是设备产生数据的时间\n    Time string \n    // 连接的设备 ip\n    Ip   string\n    // 设备发送的数据，原始数据未解析\n    Data string     \n}\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"// 消息结构体\ntype Msg struct {\n    // 获取数据的时间，不是设备产生数据的时间\n    Time string \n    // 连接的设备 ip\n    Ip   string\n    // 设备发送的数据，原始数据未解析\n    Data string     \n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"获取数据库连接对象："}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"// 初始化数据库，返回 *mongo.Client 用于操作数据库\nfunc InitDB(ctx *gin.Context) *mongo.Client{\n    ip:=ctx.Param(\"ip\")\n    // 设置客户端连接配置\n    clientOption := options.Client().ApplyURI(\"mongodb://localhost:27017\")\n    // 连接 mongodb，获取连接对象\n    client, err := mongo.Connect(ctx, clientOption)\n    if err != nil {\n        fmt.Println(ip,\":连接mongo失败\",err)\n    }\n    fmt.Println(ip,\":连接mongo成功\")\n\n    return client\n}\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"// 初始化数据库，返回 *mongo.Client 用于操作数据库\nfunc InitDB(ctx *gin.Context) *mongo.Client{\n    ip:=ctx.Param(\"ip\")\n    // 设置客户端连接配置\n    clientOption := options.Client().ApplyURI(\"mongodb://localhost:27017\")\n    // 连接 mongodb，获取连接对象\n    client, err := mongo.Connect(ctx, clientOption)\n    if err != nil {\n        fmt.Println(ip,\":连接mongo失败\",err)\n    }\n    fmt.Println(ip,\":连接mongo成功\")\n\n    return client\n}\n"}]}]},{"type":"element","tag":"h1","props":{"id":"tcp连接"},"children":[{"type":"text","value":"tcp连接"}]},{"type":"element","tag":"h2","props":{"id":"思路"},"children":[{"type":"text","value":"思路"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"用到可缓冲channel的阻塞机制，当channel为空时，读取channel会阻塞，当传入数据才能读取，解除阻塞。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"还有 context 控制 goroutine ，不过感觉有些多余。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"用全局 map 保存 tcp 的连接状态，ip 对应一个控制该 ip 连接的 channel 。创建ip连接时会创建一个对应的 k/v 对"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"当传入一个请求时，程序调用连接函数运行一个 goroutine，该 goroutine 会根据请求的"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"ip"}]},{"type":"text","value":"参数创建一个 tcp 连接，读取数据并写入数据库。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"如果继续向下执行就会取消 goroutine， 关闭连接，但我们使用读空channel的操作"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"<-channel"}]},{"type":"text","value":"来阻塞，于是持续连接读取数据。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"执行取消函数时将向该ip对应的channel写入数据以解除阻塞，退出 goroutine。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"然后将该 ip/channel 对删除。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"能够准确控制 goroutine，也不会产生内存泄露，可喜可贺，可喜可贺。"}]}]},{"type":"element","tag":"h2","props":{"id":"核心代码"},"children":[{"type":"text","value":"核心代码"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"定义一个连接状态map"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"// key为ip地址，value为控制该 ip 连接阻塞的 channel\nvar MapIpChan=make(map[string]chan int)\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"// key为ip地址，value为控制该 ip 连接阻塞的 channel\nvar MapIpChan=make(map[string]chan int)\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"连接并读取数据"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"func NewConnect(ctx *gin.Context) {\n    // 根据请求的参数获取 ip\n    ip := ctx.Param(\"ip\")\n    // 创建一个数据库连接对象\n    dbclient:=model.InitDB(ctx)\n    // 需要操作的数据库的集合对象\n    collection:=dbclient.Database(\"msg\").Collection(ip)\n    // 有缓冲的 channel，阻塞该ip的cancel()，当 disconnect执行时，取消阻塞，使cancel()执行\n    cancelChan := make(chan int, 1)\n    model.MapIpChan[ip] = cancelChan\n    // 可取消的 context，使用cancel()取消，依赖于该context的 goroutine也会停止\n    ctxConn, cancel := context.WithCancel(ctx)\n    // 启动一个goroutine，建立tcp连接，获取传来的数据\n    go func(ip string) {\n        fmt.Println(\"准备连接ip:\",ip)\n        // GetConnect(ip1)\n        conn, err := net.Dial(\"tcp\", ip)\n        if err != nil {\n            fmt.Println(\"连接失败:\", err)\n            // 退出\n            return\n        }\n        buf := make([]byte, 1024)\n        for {\n            select {\n            case <-ctxConn.Done():\n                // cancel()执行时关闭设备连接，关闭数据库连接，退出该 goroutine\n                conn.Close()\n                fmt.Printf(\"-----关闭设备%v的tcp连接-----\\n\",ip)\n                dbclient.Disconnect(ctx)\n                fmt.Printf(\"+++++关闭操作数据库%v的连接+++++\\n\",ip)\n                fmt.Printf(\"*****退出连接%v的协程*****\\n\",ip)\n                return\n            default:\n                fmt.Println(\"连接后准备读取数据\")\n                n, err := conn.Read(buf)\n                if err != nil {\n                    fmt.Println(\"已连接，读取错误\")\n                }\n                // 编码转换,在utils包下创建转码函数，然后调用\n                data:=utils.Transcode(buf[:n])\n                fmt.Printf(\"%s: %s\\n\", ip, data)\n                // 数据对象             \n                msg:=model.Msg{\n                    Time: time.Now().String(),\n                    Ip: ip,\n                    Data: data,\n                }\n                // 插入数据\n                insertResult,err:=collection.InsertOne(ctx,msg)\n                if err != nil {\n                    fmt.Println(\"插入数据失败\")\n                }\n                fmt.Println(msg.Data,\"插入数据成功:\",insertResult.InsertedID)\n            }\n        }\n    }(ip)\n    // 从该ip对应的 channel接收数据，由于初始为空则阻塞，\n    // 当 disconnect函数执行时向 channel写入数据，解除阻塞，向下执行\n    <-cancelChan\n    // 删除该 ip/channel 对\n    delete(model.MapIpChan, ip)\n    fmt.Printf(\"准备取消任务:%v\\n\", ip)\n    cancel()\n    ctx.JSON(200, gin.H{\n        \"message\": \"已关闭连接\",\n    })\n}\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"func NewConnect(ctx *gin.Context) {\n    // 根据请求的参数获取 ip\n    ip := ctx.Param(\"ip\")\n    // 创建一个数据库连接对象\n    dbclient:=model.InitDB(ctx)\n    // 需要操作的数据库的集合对象\n    collection:=dbclient.Database(\"msg\").Collection(ip)\n    // 有缓冲的 channel，阻塞该ip的cancel()，当 disconnect执行时，取消阻塞，使cancel()执行\n    cancelChan := make(chan int, 1)\n    model.MapIpChan[ip] = cancelChan\n    // 可取消的 context，使用cancel()取消，依赖于该context的 goroutine也会停止\n    ctxConn, cancel := context.WithCancel(ctx)\n    // 启动一个goroutine，建立tcp连接，获取传来的数据\n    go func(ip string) {\n        fmt.Println(\"准备连接ip:\",ip)\n        // GetConnect(ip1)\n        conn, err := net.Dial(\"tcp\", ip)\n        if err != nil {\n            fmt.Println(\"连接失败:\", err)\n            // 退出\n            return\n        }\n        buf := make([]byte, 1024)\n        for {\n            select {\n            case <-ctxConn.Done():\n                // cancel()执行时关闭设备连接，关闭数据库连接，退出该 goroutine\n                conn.Close()\n                fmt.Printf(\"-----关闭设备%v的tcp连接-----\\n\",ip)\n                dbclient.Disconnect(ctx)\n                fmt.Printf(\"+++++关闭操作数据库%v的连接+++++\\n\",ip)\n                fmt.Printf(\"*****退出连接%v的协程*****\\n\",ip)\n                return\n            default:\n                fmt.Println(\"连接后准备读取数据\")\n                n, err := conn.Read(buf)\n                if err != nil {\n                    fmt.Println(\"已连接，读取错误\")\n                }\n                // 编码转换,在utils包下创建转码函数，然后调用\n                data:=utils.Transcode(buf[:n])\n                fmt.Printf(\"%s: %s\\n\", ip, data)\n                // 数据对象             \n                msg:=model.Msg{\n                    Time: time.Now().String(),\n                    Ip: ip,\n                    Data: data,\n                }\n                // 插入数据\n                insertResult,err:=collection.InsertOne(ctx,msg)\n                if err != nil {\n                    fmt.Println(\"插入数据失败\")\n                }\n                fmt.Println(msg.Data,\"插入数据成功:\",insertResult.InsertedID)\n            }\n        }\n    }(ip)\n    // 从该ip对应的 channel接收数据，由于初始为空则阻塞，\n    // 当 disconnect函数执行时向 channel写入数据，解除阻塞，向下执行\n    <-cancelChan\n    // 删除该 ip/channel 对\n    delete(model.MapIpChan, ip)\n    fmt.Printf(\"准备取消任务:%v\\n\", ip)\n    cancel()\n    ctx.JSON(200, gin.H{\n        \"message\": \"已关闭连接\",\n    })\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"取消连接"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"func Disconnect(ctx *gin.Context) {\n    // 根据请求的参数获取 ip\n    ip := ctx.Param(\"ip\")\n    // 在执行 NewConnect() 时会根据 ip 创建键值对，启动 goroutine 建立连接后，NewConnect()被阻塞\n    // NewConnect() 等待 Disconnect() 取消阻塞后关闭其启动的 goroutine，退出\n    // 判断 ip 是否在 map 中，即是否处于连接状态\n    if _, isOk := model.MapIpChan[ip]; isOk {\n        // channel为空时接收会导致阻塞，向channel发送数据使其不为空则取消阻塞\n        model.MapIpChan[ip] <- 1\n    } else {\n        fmt.Println(\"ip未连接\")\n    }\n    fmt.Println(\"解除阻塞\")\n}\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"func Disconnect(ctx *gin.Context) {\n    // 根据请求的参数获取 ip\n    ip := ctx.Param(\"ip\")\n    // 在执行 NewConnect() 时会根据 ip 创建键值对，启动 goroutine 建立连接后，NewConnect()被阻塞\n    // NewConnect() 等待 Disconnect() 取消阻塞后关闭其启动的 goroutine，退出\n    // 判断 ip 是否在 map 中，即是否处于连接状态\n    if _, isOk := model.MapIpChan[ip]; isOk {\n        // channel为空时接收会导致阻塞，向channel发送数据使其不为空则取消阻塞\n        model.MapIpChan[ip] <- 1\n    } else {\n        fmt.Println(\"ip未连接\")\n    }\n    fmt.Println(\"解除阻塞\")\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"这个for-select条件判断是关键，当channel为空时，无法读取，case条件不满足，所以运行default的functionB();"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"向channel发送数据后，channel可以读取，case条件满足，运行functionA()"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"for{\n    select {\n        case:<-channel\n            functionA()\n        default:\n            functionB()\n    }\n}\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"for{\n    select {\n        case:<-channel\n            functionA()\n        default:\n            functionB()\n    }\n}\n"}]}]}],"toc":{"title":"","searchDepth":2,"depth":3,"links":[{"id":"mongodb","depth":2,"text":"mongodb"},{"id":"gin","depth":2,"text":"Gin"},{"id":"mongo-driver","depth":2,"text":"mongo-driver"},{"id":"思路","depth":2,"text":"思路"},{"id":"核心代码","depth":2,"text":"核心代码"}]}},"_type":"markdown","_id":"content:essay:16.go的多线程-实时采集机器数据.md","_source":"content","_file":"essay/16.go的多线程-实时采集机器数据.md","_stem":"essay/16.go的多线程-实时采集机器数据","_extension":"md"},{"_path":"/essay/15.go的数据类型深入解析","_dir":"essay","_draft":false,"_partial":false,"_locale":"","title":"go的数据类型深入解析","description":"int bool float string array slice map chan\n主要是 map 和 chan","subtitle":"Edit or delete users","index":15,"date":"2023-02-18 00:16:50","lunar_date":"正月廿八","year":"2023","month":"02","month_en":"Feb","day":"8","tag":"技术","tag_en":"TECH","cover":"/img/rabbit/015.jpg","categories":"golang","body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"int bool float string array slice map chan"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\n主要是 map 和 chan"}]},{"type":"element","tag":"h1","props":{"id":"int"},"children":[{"type":"text","value":"int"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"int(有符号)和uint(无符号)的大小与操作系统相关，在32位操作系统中大小为32位(4字节)，64位操作系统中大小为64位(8字节)"}]},{"type":"element","tag":"pre","props":{"className":["language-txt"],"code":"int      8 字节\nint8     1 字节\nint16    2 字节\nint32    4 字节\nint64    8 字节\n","language":"txt","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"int      8 字节\nint8     1 字节\nint16    2 字节\nint32    4 字节\nint64    8 字节\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"它们是不同的类型(type)"}]},{"type":"element","tag":"h1","props":{"id":"float"},"children":[{"type":"text","value":"float"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"float32，即单精度，32位(4字节)，其中1位用来符号，8位用来指数，剩下的23位表示尾数，精确到小数点后7位\nfloat64，即双精度，64位(8字节)，其中1位用来符号，11位用来指数，剩下的52位表示尾数，精确到小数点后15位"}]},{"type":"element","tag":"h1","props":{"id":"bool"},"children":[{"type":"text","value":"bool"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"只有2种：true和false\nbool值并不会隐式转换为数字值0或1，反之亦然。必须使用一个显式的if语句辅助转换："}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"i := 0\nif b {\n    i = 1\n}\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"i := 0\nif b {\n    i = 1\n}\n"}]}]},{"type":"element","tag":"h1","props":{"id":"string"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"字符串可以包含任意的数据，包括byte值0，但是通常是用来包含人类可读的文本。文本字符串通常被解释为采用UTF8编码的Unicode码点（rune）序列。\n一个字符串是一个不可改变的字节序列，实际上就是占用了一片连续的内存空间，所以能理解为一个字符数组\n在go的源码中可以找到string的数据结构"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"type stringStruct struct {\n    array unsafe.Pointer   // 指向一个 [length]byte 的数组\n    length int             // 长度\n}\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"type stringStruct struct {\n    array unsafe.Pointer   // 指向一个 [length]byte 的数组\n    length int             // 长度\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"其成员有2个，一个指向数组的指针，一个是所指数组的长度\n示例图：go语言圣经3.5.1"}]},{"type":"element","tag":"h1","props":{"id":"array"},"children":[{"type":"text","value":"array"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"cmd/compile/internal/types2.Array\ngo 源码中数组的结构"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"type Array struct {\n    len  int64 // 数组长度，即元素个数\n    elem Type  // 元素类型\n}\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"type Array struct {\n    len  int64 // 数组长度，即元素个数\n    elem Type  // 元素类型\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"数组占用一片连续的内存空间"}]},{"type":"element","tag":"h1","props":{"id":"slice"},"children":[{"type":"text","value":"slice"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"src/runtime/slice.go\ngo 源码中slice的结构"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"type slice struct {\n    array unsafe.Pointer  // 指向数组的指针\n    len   int             // 切片长度\n    cap   int             // 切片容量\n}\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"type slice struct {\n    array unsafe.Pointer  // 指向数组的指针\n    len   int             // 切片长度\n    cap   int             // 切片容量\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"其成员有3个，一个指向数组的指针，一个是切片的长度，还有一个是切片的容量"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"切片的长度就是切片所包含的元素个数。\n切片的容量是从它的第一个元素开始数，到其"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"底层数组"}]},{"type":"text","value":"元素末尾的个数。"}]},{"type":"element","tag":"h1","props":{"id":"map"},"children":[{"type":"text","value":"map"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"go 源码中map的结构\nsrc/runtime/map.go"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"type hmap struct {\n    \n    count     int // map当前元素个数\n    flags     uint8 // 读、写、扩容、迭代等标记，用于记录map当前状态\n    B         uint8  // 用于计算桶大小， bucketSize = 1 << B ;log_2 of # of buckets (can hold up to loadFactor * 2^B items)\n    noverflow uint16 // 溢出桶个数，当溢出桶个数过多时，这个值是一个近似值  approximate number of overflow buckets; see incrnoverflow for details\n    hash0     uint32 // hash seed,计算key哈希值的随机值，保证一个key在不同map中存放的位置是随机的\n\n    buckets    unsafe.Pointer // 当前哈希桶首地址   array of 2^B Buckets. may be nil if count==0.\n    oldbuckets unsafe.Pointer // 旧哈希桶首地址  previous bucket array of half the size, non-nil only when growing\n    nevacuate  uintptr        // 已迁移哈希桶个数   progress counter for evacuation (buckets less than this have been evacuated)\n\n    extra *mapextra // 扩展字段，不一定每个map都需要    optional fields\n}\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"type hmap struct {\n    \n    count     int // map当前元素个数\n    flags     uint8 // 读、写、扩容、迭代等标记，用于记录map当前状态\n    B         uint8  // 用于计算桶大小， bucketSize = 1 << B ;log_2 of # of buckets (can hold up to loadFactor * 2^B items)\n    noverflow uint16 // 溢出桶个数，当溢出桶个数过多时，这个值是一个近似值  approximate number of overflow buckets; see incrnoverflow for details\n    hash0     uint32 // hash seed,计算key哈希值的随机值，保证一个key在不同map中存放的位置是随机的\n\n    buckets    unsafe.Pointer // 当前哈希桶首地址   array of 2^B Buckets. may be nil if count==0.\n    oldbuckets unsafe.Pointer // 旧哈希桶首地址  previous bucket array of half the size, non-nil only when growing\n    nevacuate  uintptr        // 已迁移哈希桶个数   progress counter for evacuation (buckets less than this have been evacuated)\n\n    extra *mapextra // 扩展字段，不一定每个map都需要    optional fields\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"map是使用hash表(哈希表/散列表)来实现的,一个hash表里可以有多个hash节点，也叫bucket(桶/哈希桶),而每个bucket就保存了map中的一个或一组键值对。"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"element","tag":"a","props":{"href":"https://blog.csdn.net/fengshenyun/article/details/100582679","rel":["nofollow"]},"children":[{"type":"text","value":"https://blog.csdn.net/fengshenyun/article/details/100582679"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"bucket的数据结构"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"type bmap struct {\n    tophash [8]uint8 //存储哈希值的高8位,哈希值相同的键（准确的说是哈希值低位相同的键）存入当前bucket时会将哈希值的高位存储在该数组中，以方便后续匹配。\n    data    byte[1]  //key value数据:key/key/key/.../value/value/value...,如此存放是为了节省字节对齐带来的空间浪费\n    overflow *bmap   //溢出bucket的地址,指向的是下一个bucket，据此将所有冲突的键连接起来。\n}\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"type bmap struct {\n    tophash [8]uint8 //存储哈希值的高8位,哈希值相同的键（准确的说是哈希值低位相同的键）存入当前bucket时会将哈希值的高位存储在该数组中，以方便后续匹配。\n    data    byte[1]  //key value数据:key/key/key/.../value/value/value...,如此存放是为了节省字节对齐带来的空间浪费\n    overflow *bmap   //溢出bucket的地址,指向的是下一个bucket，据此将所有冲突的键连接起来。\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://www.cnblogs.com/failymao/p/14902607.html","rel":["nofollow"]},"children":[{"type":"text","value":"https://www.cnblogs.com/failymao/p/14902607.html"}]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"element","tag":"a","props":{"href":"https://www.cnblogs.com/dawnlight/p/15552513.html","rel":["nofollow"]},"children":[{"type":"text","value":"https://www.cnblogs.com/dawnlight/p/15552513.html"}]}]},{"type":"element","tag":"h2","props":{"id":"map数据结构最终梳理"},"children":[{"type":"text","value":"map数据结构最终梳理"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"hmap是数组(切片)，组成元素是bucket(bmap,以便区分，这里后面都用bucket替代bmap)；bucket是链表，指针指向下一个扩充的bucket。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"map存储的是key/value对(k/v对、键值对)"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"当key传进来时，会经过一个hash函数运算得到一个唯一的hash值，在go中会将这个hash值分为高位和低位"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"如hash值：1314131425002500，高8位为13141314，低8位为25002500"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"低位用于寻找key属于hmap的哪个bucket，高位用于寻找bucket中的哪个key"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"如果key计算出的hash值低位相同，那么这些key存入相同的bucket中，在bucket中会存储它们的高位，用于存入的key的快速预览"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"bucket是以key/key/key/.../value/value/value...的方式存储k/v对的，这是为了节省字节对齐带来的空间浪费"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"每个bucket只能存储8个k/v对，超过8个则会扩充一个新的bucket存放溢出的k/v对，然后指针指向新的bucket，以此类推，形成一个链表"}]}]},{"type":"element","tag":"h2","props":{"id":"负载因子与渐进式扩容"},"children":[{"type":"text","value":"负载因子与渐进式扩容"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"负载因子 = key数量/bucket数量\t(len(map)/2^B)"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"因子过小，说明空间利用率低:key少bucket多，说明map的bucket数组个数多，一个bucket中存放的key少"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"因子过大，说明冲突严重，存取效率低:key多bucket少，说明map的bucket数组个数少，一个bucket中存放的key多，溢出bucket严重"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"每个哈希表的实现对负载因子容忍程度不同，go的阈值为6.5，即平均每个bucket存放6.5个k/v对；而redis的阈值为1，因为redis里每个bucket只存放一个k/v对"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"扩容条件"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"1.负载因子 > 6.5时，也即平均每个bucket存储的键值对达到6.5个。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"2.overflow(溢出bucket)数量 > 2^15时，也即overflow数量超过32768时。"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"增量扩容"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\n因子过大，则会新建一个bucket数组将hmap,大小为原有bucket数组的两倍，并将原有bucket数组的数据渐进式地迁移到新bucket数组，即每次访问map时都会触发一次搬迁，每次搬迁2个键值对。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"hmap的"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"buckets"}]},{"type":"text","value":"  "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"oldbuckets"}]},{"type":"text","value":" "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"nevacuate"}]},{"type":"text","value":" 字段就是用来干这个的"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"等量扩容"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\nbuckets数量不变，只是重新做一遍类似增量扩容的搬迁动作，把松散的键值对重新排列一次，以使bucket的使用率更高，进而保证更快的存取。例如过于频繁的对k/v进行增删操作，而这些k/v集中在某个bucket里，则会导致溢出bucket严重，影响存取效率"}]},{"type":"element","tag":"h2","props":{"id":"插入与查找"},"children":[{"type":"text","value":"插入与查找"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"插入"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"根据key值算出哈希值"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"取哈希值低位与hmap.B取模确定bucket位置"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"查找该key是否已经存在，如果存在则直接更新值"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"如果没找到将key，将key插入"}]},{"type":"element","tag":"li","props":{},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"查找"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"根据key值算出哈希值"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"取哈希值低位与hmap.B取模确定bucket位置"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"取哈希值高位在tophash数组中查询"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"如果tophash"},{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"i"}]},{"type":"text","value":"中存储值也哈希值相等，则去找到该bucket中的key值进行比较"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"当前bucket没有找到，则继续从下个overflow的bucket中查找。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"如果当前处于搬迁过程，则优先从oldbuckets查找\n注：如果查找不到，也不会返回空值，而是返回相应类型的0值。"}]}]},{"type":"element","tag":"h1","props":{"id":"chan"},"children":[{"type":"text","value":"chan"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"src/runtime/chan.go"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"type hchan struct {\n    qcount   uint           // 当前队列中剩余元素个数          total data in the queue\n    dataqsiz uint           // 环形队列长度，即可以存放的元素个数      size of the circular queue\n    buf      unsafe.Pointer // 环形队列指针                points to an array of dataqsiz elements\n    elemsize uint16     // 每个元素的大小\n    closed   uint32     // 标识关闭状态\n    elemtype *_type // 元素类型                        element type\n    sendx    uint   // 队列下标，指示元素写入时存放到队列中的位置       send index\n    recvx    uint   //队列下标，指示元素从队列的该位置读出          receive index\n    recvq    waitq  //等待读消息的goroutine队列            list of recv waiters\n    sendq    waitq  // 等待写消息的goroutine队列               list of send waiters\n    lock mutex  //互斥锁，chan不允许并发读写\n    // lock protects all fields in hchan, as well as several\n    // fields in sudogs blocked on this channel.\n    //\n    // Do not change another G's status while holding this lock\n    // (in particular, do not ready a G), as this can deadlock\n    // with stack shrinking.\n    \n}\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"type hchan struct {\n    qcount   uint           // 当前队列中剩余元素个数          total data in the queue\n    dataqsiz uint           // 环形队列长度，即可以存放的元素个数      size of the circular queue\n    buf      unsafe.Pointer // 环形队列指针                points to an array of dataqsiz elements\n    elemsize uint16     // 每个元素的大小\n    closed   uint32     // 标识关闭状态\n    elemtype *_type // 元素类型                        element type\n    sendx    uint   // 队列下标，指示元素写入时存放到队列中的位置       send index\n    recvx    uint   //队列下标，指示元素从队列的该位置读出          receive index\n    recvq    waitq  //等待读消息的goroutine队列            list of recv waiters\n    sendq    waitq  // 等待写消息的goroutine队列               list of send waiters\n    lock mutex  //互斥锁，chan不允许并发读写\n    // lock protects all fields in hchan, as well as several\n    // fields in sudogs blocked on this channel.\n    //\n    // Do not change another G's status while holding this lock\n    // (in particular, do not ready a G), as this can deadlock\n    // with stack shrinking.\n    \n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"chan最核心的部分由一个环形队列和2个waitq组成，环形队列用于存放数据（带缓冲的情况下），waitq用于实现阻塞和恢复goroutine。"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"type waitq struct {\n    first *sudog\n    last  *sudog\n}\n\ntype sudog struct {\n    g *g\n\n    next *sudog\n    prev *sudog\n    elem unsafe.Pointer // data element (may point to stack)\n\n    acquiretime int64\n    releasetime int64\n    ticket      uint32\n\n    // isSelect indicates g is participating in a select, so\n    // g.selectDone must be CAS'd to win the wake-up race.\n    isSelect bool\n\n    // success indicates whether communication over channel c\n    // succeeded. It is true if the goroutine was awoken because a\n    // value was delivered over channel c, and false if awoken\n    // because c was closed.\n    success bool\n\n    parent   *sudog // semaRoot binary tree\n    waitlink *sudog // g.waiting list or semaRoot\n    waittail *sudog // semaRoot\n    c        *hchan // channel\n}\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"type waitq struct {\n    first *sudog\n    last  *sudog\n}\n\ntype sudog struct {\n    g *g\n\n    next *sudog\n    prev *sudog\n    elem unsafe.Pointer // data element (may point to stack)\n\n    acquiretime int64\n    releasetime int64\n    ticket      uint32\n\n    // isSelect indicates g is participating in a select, so\n    // g.selectDone must be CAS'd to win the wake-up race.\n    isSelect bool\n\n    // success indicates whether communication over channel c\n    // succeeded. It is true if the goroutine was awoken because a\n    // value was delivered over channel c, and false if awoken\n    // because c was closed.\n    success bool\n\n    parent   *sudog // semaRoot binary tree\n    waitlink *sudog // g.waiting list or semaRoot\n    waittail *sudog // semaRoot\n    c        *hchan // channel\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://www.cnblogs.com/failymao/p/14891813.html","rel":["nofollow"]},"children":[{"type":"text","value":"https://www.cnblogs.com/failymao/p/14891813.html"}]},{"type":"element","tag":"a","props":{"href":"https://i6448038.github.io/2019/04/11/go-channel/","rel":["nofollow"]},"children":[{"type":"text","value":"https://i6448038.github.io/2019/04/11/go-channel/"}]},{"type":"element","tag":"a","props":{"href":"https://cloud.tencent.com/developer/article/1750350","rel":["nofollow"]},"children":[{"type":"text","value":"https://cloud.tencent.com/developer/article/1750350"}]}]},{"type":"element","tag":"h2","props":{"id":"最终梳理"},"children":[{"type":"text","value":"最终梳理"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"channel在源码是hchan结构体，核心为1个循环队列、以及2个 分别等待读和写的 goroutine 等待队列(双向链表)"}]},{"type":"element","tag":"h2","props":{"id":"循环队列"},"children":[{"type":"text","value":"循环队列"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"qcount   uint             // 当前队列中剩余元素\ndataqsiz uint             // 队列长度，即可以存放的元素个数\nbuf      unsafe.Pointer   // 队列\nsendx    uint         // 队列下标，指示元素写入时存放到队列中的位置 \nrecvx    uint         // 队列下标，指示元素从队列的该位置读出\nlock     mutex        // 互斥锁\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"qcount   uint             // 当前队列中剩余元素\ndataqsiz uint             // 队列长度，即可以存放的元素个数\nbuf      unsafe.Pointer   // 队列\nsendx    uint         // 队列下标，指示元素写入时存放到队列中的位置 \nrecvx    uint         // 队列下标，指示元素从队列的该位置读出\nlock     mutex        // 互斥锁\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在创建channel时,在内存中实例化了一个hchan的结构体，并返回一个ch指针。channel 是一个指针。"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"ch := make(chan int, 3)\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"ch := make(chan int, 3)\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在讨论之前先统一一下概念："},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\n对于发送给channel的消息，channel是接收者，对channel来说是写操作；对于channel发送出去的消息，channel是发送者，对channel来说是读操作"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"sendx: 等待发送。需要发送给channel的元素的索引位置(index)，即元素写入时存放到队列中的位置。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"recvx: 等待接收。需要从channel接收的元素的索引位置(index)，即从队列的该位置读出元素。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"给channel发(send)数据  (ch<-xx)"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"// 1.创建一个channel\n// 在内存中实例化了一个hchan的结构体，并返回一个ch指针。\n// ch是指针，ch用使用队列 buf 来缓存数据\n// 队列长度为dataqsiz为3，当前元素 qcount 为 0\n// sendx和recvx均为 0\nch := make(chan int, 3)\n// 2.将 一个元素写入 buf，\n// 首先先加锁\n// 将元素拷贝，传递给channel\n// 索引 0 位置写入了新的元素，sendx变为1，即下一个元素需要写入索引1的位置；recvx不变，即下一个读操作从索引0的位置读取\n// 队列长度为dataqsiz为3，当前元素 qcount 为 1\n// 释放锁\nch<-1\nch<-1\nch<-1\n// 队列缓存已满，再次写入会发生堵塞，这点我们后面再讲\n// 每次写入sendx+1，写入了3个元素，因为是循环队列 sendx又变为0；因为没有读取，recvx一直不变还是0\n\n// 3.从buf读取一个元素,和写元素类似\n// 首先先加锁\n// channel将元素传递给接收者\n// 从索引 0 位置读出元素，recvx变为1，即需要读取的下一个元素位置为索引1；sendx为0，即下一个元素需要写入索引0的位置\n// 队列长度为dataqsiz为3，当前元素 qcount 为 2\n// 释放锁\n<-ch\n<-ch\n<-ch\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"// 1.创建一个channel\n// 在内存中实例化了一个hchan的结构体，并返回一个ch指针。\n// ch是指针，ch用使用队列 buf 来缓存数据\n// 队列长度为dataqsiz为3，当前元素 qcount 为 0\n// sendx和recvx均为 0\nch := make(chan int, 3)\n// 2.将 一个元素写入 buf，\n// 首先先加锁\n// 将元素拷贝，传递给channel\n// 索引 0 位置写入了新的元素，sendx变为1，即下一个元素需要写入索引1的位置；recvx不变，即下一个读操作从索引0的位置读取\n// 队列长度为dataqsiz为3，当前元素 qcount 为 1\n// 释放锁\nch<-1\nch<-1\nch<-1\n// 队列缓存已满，再次写入会发生堵塞，这点我们后面再讲\n// 每次写入sendx+1，写入了3个元素，因为是循环队列 sendx又变为0；因为没有读取，recvx一直不变还是0\n\n// 3.从buf读取一个元素,和写元素类似\n// 首先先加锁\n// channel将元素传递给接收者\n// 从索引 0 位置读出元素，recvx变为1，即需要读取的下一个元素位置为索引1；sendx为0，即下一个元素需要写入索引0的位置\n// 队列长度为dataqsiz为3，当前元素 qcount 为 2\n// 释放锁\n<-ch\n<-ch\n<-ch\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"这个应该很有用，但太长了不想看\n"},{"type":"element","tag":"a","props":{"href":"https://blog.csdn.net/kesenzhang/article/details/104488727","rel":["nofollow"]},"children":[{"type":"text","value":"https://blog.csdn.net/kesenzhang/article/details/104488727"}]}]},{"type":"element","tag":"h2","props":{"id":"双向链表"},"children":[{"type":"text","value":"双向链表"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"主要实现了堵塞"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"recvq    waitq  //等待读消息的goroutine队列 \nsendq    waitq  // 等待写消息的goroutine队列  \n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"recvq    waitq  //等待读消息的goroutine队列 \nsendq    waitq  // 等待写消息的goroutine队列  \n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"这部分与GPM调度有关，等我写好内存模型和调度后再继续写，to be continent ..."}]}],"toc":{"title":"","searchDepth":2,"depth":3,"links":[{"id":"map数据结构最终梳理","depth":2,"text":"map数据结构最终梳理"},{"id":"负载因子与渐进式扩容","depth":2,"text":"负载因子与渐进式扩容"},{"id":"插入与查找","depth":2,"text":"插入与查找"},{"id":"最终梳理","depth":2,"text":"最终梳理"},{"id":"循环队列","depth":2,"text":"循环队列"},{"id":"双向链表","depth":2,"text":"双向链表"}]}},"_type":"markdown","_id":"content:essay:15.go的数据类型深入解析.md","_source":"content","_file":"essay/15.go的数据类型深入解析.md","_stem":"essay/15.go的数据类型深入解析","_extension":"md"},{"_path":"/essay/14.gin-gorm6编辑、删除用户","_dir":"essay","_draft":false,"_partial":false,"_locale":"","title":"6.gin-gorm编辑、删除用户","description":"通过gin-gorm之项目学习部分的学习，可以对项目的架构有深入的了解 🤟\n{% post_link \"gin-gorm1项目准备初始化\" %}\n{% post_link \"gin-gorm2数据库\" %}\n{% post_link \"gin-gorm3错误处理与路由接口\" %}\n{% post_link \"gin-gorm4用户模块接口编写\" %}\n{% post_link \"gin-gorm5密码加密\" %}\n{% post_link \"gin-gorm6编辑、删除用户\" %}","subtitle":"Edit or delete users","index":14,"date":"2023-02-13 00:00:06","lunar_date":"正月廿三","year":"2023","month":"02","month_en":"Feb","day":"13","tag":"技术","tag_en":"TECH","cover":"/img/rabbit/014.jpg","categories":"gin-gorm之项目学习","body":{"type":"root","children":[{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"通过"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"gin-gorm之项目学习"}]},{"type":"text","value":"部分的学习，可以对项目的架构有深入的了解 🤟\n{% post_link \"gin-gorm1项目准备初始化\" %}"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\n{% post_link \"gin-gorm2数据库\" %}"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\n{% post_link \"gin-gorm3错误处理与路由接口\" %}"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\n{% post_link \"gin-gorm4用户模块接口编写\" %}"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\n{% post_link \"gin-gorm5密码加密\" %}"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\n{% post_link \"gin-gorm6编辑、删除用户\" %}"},{"type":"element","tag":"br","props":{},"children":[]}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h1","props":{"id":"删除用户"},"children":[{"type":"text","value":"删除用户"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在model的User中写删除语句"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"// 删除用户\nfunc DeleteUser(id int) int {\n    err = db.Where(\"id=?\", id).Delete(&User{}).Error\n    if err != nil {\n        return errmsg.ERROR\n    }\n    return errmsg.SUCCESS\n}\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"// 删除用户\nfunc DeleteUser(id int) int {\n    err = db.Where(\"id=?\", id).Delete(&User{}).Error\n    if err != nil {\n        return errmsg.ERROR\n    }\n    return errmsg.SUCCESS\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在api的user.go中调用，返回前端信息"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"// 删除用户\nfunc DeleteUser(ctx *gin.Context) {\n    id, _ := strconv.Atoi(ctx.Param(\"id\"))\n    code = model.DeleteUser(id)\n    ctx.JSON(http.StatusOK, gin.H{\n        \"status\":  code,\n        \"message\": errmsg.GetErrMsg(code),\n    })\n\n}\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"// 删除用户\nfunc DeleteUser(ctx *gin.Context) {\n    id, _ := strconv.Atoi(ctx.Param(\"id\"))\n    code = model.DeleteUser(id)\n    ctx.JSON(http.StatusOK, gin.H{\n        \"status\":  code,\n        \"message\": errmsg.GetErrMsg(code),\n    })\n\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"删除为软删除，即将数据标记为删除状态，数据仍保留在数据库中，以确保数据库的完整性和可恢复性"}]},{"type":"element","tag":"h1","props":{"id":"编辑用户"},"children":[{"type":"text","value":"编辑用户"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"// 编辑用户(密码除外)\nfunc EditUser(id int, data *User) int {\n    var maps = make(map[string]interface{})\n    maps[\"username\"] = data.Username\n    maps[\"role\"] = data.Role\n    err = db.Model(&User{}).Where(\"id=?\", id).Updates(maps).Error\n    if err != nil {\n        return errmsg.ERROR\n    }\n    return errmsg.SUCCESS\n}\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"// 编辑用户(密码除外)\nfunc EditUser(id int, data *User) int {\n    var maps = make(map[string]interface{})\n    maps[\"username\"] = data.Username\n    maps[\"role\"] = data.Role\n    err = db.Model(&User{}).Where(\"id=?\", id).Updates(maps).Error\n    if err != nil {\n        return errmsg.ERROR\n    }\n    return errmsg.SUCCESS\n}\n"}]}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"// 编辑用户\nfunc EditUser(ctx *gin.Context) {\n    var data model.User\n    id, _ := strconv.Atoi(ctx.Param(\"id\"))\n    ctx.ShouldBindJSON(data)\n    code = model.CheckUser(data.Username)\n    if code == errmsg.SUCCESS {\n        model.EditUser(id, &data)\n    }\n    if code == errmsg.ERROR_USERNAME_USED {\n        ctx.Abort()\n    }\n    ctx.JSON(http.StatusOK, gin.H{\n        \"status\":  code,\n        \"message\": errmsg.GetErrMsg(code),\n    })\n\n}\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"// 编辑用户\nfunc EditUser(ctx *gin.Context) {\n    var data model.User\n    id, _ := strconv.Atoi(ctx.Param(\"id\"))\n    ctx.ShouldBindJSON(data)\n    code = model.CheckUser(data.Username)\n    if code == errmsg.SUCCESS {\n        model.EditUser(id, &data)\n    }\n    if code == errmsg.ERROR_USERNAME_USED {\n        ctx.Abort()\n    }\n    ctx.JSON(http.StatusOK, gin.H{\n        \"status\":  code,\n        \"message\": errmsg.GetErrMsg(code),\n    })\n\n}\n"}]}]}],"toc":{"title":"","searchDepth":2,"depth":3,"links":[]}},"_type":"markdown","_id":"content:essay:14.gin-gorm6编辑、删除用户.md","_source":"content","_file":"essay/14.gin-gorm6编辑、删除用户.md","_stem":"essay/14.gin-gorm6编辑、删除用户","_extension":"md"},{"_path":"/essay/13.gin-gorm5密码加密","_dir":"essay","_draft":false,"_partial":false,"_locale":"","title":"5.gin-gorm密码加密","description":"通过gin-gorm之项目学习部分的学习，可以对项目的架构有深入的了解 🤟\n{% post_link \"gin-gorm1项目准备初始化\" %}\n{% post_link \"gin-gorm2数据库\" %}\n{% post_link \"gin-gorm3错误处理与路由接口\" %}\n{% post_link \"gin-gorm4用户模块接口编写\" %}\n{% post_link \"gin-gorm5密码加密\" %}\n{% post_link \"gin-gorm6编辑、删除用户\" %}","subtitle":"password encryption","index":13,"date":"2023-02-13 00:00:05","lunar_date":"正月廿三","year":"2023","month":"02","month_en":"Feb","day":"13","tag":"技术","tag_en":"TECH","cover":"/img/rabbit/013.jpg","categories":"gin-gorm之项目学习","body":{"type":"root","children":[{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"通过"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"gin-gorm之项目学习"}]},{"type":"text","value":"部分的学习，可以对项目的架构有深入的了解 🤟\n{% post_link \"gin-gorm1项目准备初始化\" %}"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\n{% post_link \"gin-gorm2数据库\" %}"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\n{% post_link \"gin-gorm3错误处理与路由接口\" %}"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\n{% post_link \"gin-gorm4用户模块接口编写\" %}"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\n{% post_link \"gin-gorm5密码加密\" %}"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\n{% post_link \"gin-gorm6编辑、删除用户\" %}"},{"type":"element","tag":"br","props":{},"children":[]}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h1","props":{"id":"密码加密"},"children":[{"type":"text","value":"密码加密"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"普通级\n单向哈希"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"进阶级\nbcrypt-加盐"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"专家级\nscrypt-某黑客写的，目前没有破解方法"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"// 密码加密\nfunc ScryptPassword(password string) string {\n    const KeyLen = 10 //长度\n    salt := make([]byte, 8)\n\n    salt = []byte{12, 22, 111, 46, 82, 3, 7, 21}\n    HashPw, err := scrypt.Key([]byte(password), salt, 16384, 8, 1, KeyLen)\n    if err != nil {\n        log.Fatal(err)\n    }\n    finalPw := base64.StdEncoding.EncodeToString(HashPw)\n    return finalPw\n}\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"// 密码加密\nfunc ScryptPassword(password string) string {\n    const KeyLen = 10 //长度\n    salt := make([]byte, 8)\n\n    salt = []byte{12, 22, 111, 46, 82, 3, 7, 21}\n    HashPw, err := scrypt.Key([]byte(password), salt, 16384, 8, 1, KeyLen)\n    if err != nil {\n        log.Fatal(err)\n    }\n    finalPw := base64.StdEncoding.EncodeToString(HashPw)\n    return finalPw\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在添加用户时，将用户的密码进行scrypt加密"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"data.Password = ScryptPassword(data.Password)\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"data.Password = ScryptPassword(data.Password)\n"}]}]}],"toc":{"title":"","searchDepth":2,"depth":3,"links":[]}},"_type":"markdown","_id":"content:essay:13.gin-gorm5密码加密.md","_source":"content","_file":"essay/13.gin-gorm5密码加密.md","_stem":"essay/13.gin-gorm5密码加密","_extension":"md"},{"_path":"/essay/12.gin-gorm4用户模块接口","_dir":"essay","_draft":false,"_partial":false,"_locale":"","title":"4.gin-gorm用户模块接口","description":"通过gin-gorm之项目学习部分的学习，可以对项目的架构有深入的了解 🤟\n{% post_link \"gin-gorm1项目准备初始化\" %}\n{% post_link \"gin-gorm2数据库\" %}\n{% post_link \"gin-gorm3错误处理与路由接口\" %}\n{% post_link \"gin-gorm4用户模块接口编写\" %}\n{% post_link \"gin-gorm5密码加密\" %}\n{% post_link \"gin-gorm6编辑、删除用户\" %}","subtitle":"Interface of user module","index":12,"date":"2023-02-13 00:00:04","lunar_date":"正月廿三","year":"2023","month":"02","month_en":"Feb","day":"13","tag":"技术","tag_en":"TECH","cover":"/img/rabbit/012.jpg","categories":"gin-gorm之项目学习","body":{"type":"root","children":[{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"通过"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"gin-gorm之项目学习"}]},{"type":"text","value":"部分的学习，可以对项目的架构有深入的了解 🤟\n{% post_link \"gin-gorm1项目准备初始化\" %}"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\n{% post_link \"gin-gorm2数据库\" %}"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\n{% post_link \"gin-gorm3错误处理与路由接口\" %}"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\n{% post_link \"gin-gorm4用户模块接口编写\" %}"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\n{% post_link \"gin-gorm5密码加密\" %}"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\n{% post_link \"gin-gorm6编辑、删除用户\" %}"},{"type":"element","tag":"br","props":{},"children":[]}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h1","props":{"id":"用户模块-增查"},"children":[{"type":"text","value":"用户模块-增、查"}]},{"type":"element","tag":"h2","props":{"id":"新增用户"},"children":[{"type":"text","value":"新增用户"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在model/User.go中编写，或者新建service层文件也可以"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"// 查询用户是否存在\nfunc CheckUser(name string) (code int) {\n    var users User\n    //查询使用该用户名的 id\n    db.Select(\"id\").Where(\"username =?\", name).First(&users)\n    //存在使用该用户名的 id\n    if users.ID > 0 {\n        return errmsg.ERROR_USERNAME_USED //1001\n    }\n    return errmsg.SUCCESS //200\n}\n\n// 新增用户   返回状态码\nfunc CreateUser(data *User) int {\n    err := db.Create(&data).Error\n    if err != nil {\n        return errmsg.ERROR //500\n    }\n    return errmsg.SUCCESS //200\n\n}\n\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"// 查询用户是否存在\nfunc CheckUser(name string) (code int) {\n    var users User\n    //查询使用该用户名的 id\n    db.Select(\"id\").Where(\"username =?\", name).First(&users)\n    //存在使用该用户名的 id\n    if users.ID > 0 {\n        return errmsg.ERROR_USERNAME_USED //1001\n    }\n    return errmsg.SUCCESS //200\n}\n\n// 新增用户   返回状态码\nfunc CreateUser(data *User) int {\n    err := db.Create(&data).Error\n    if err != nil {\n        return errmsg.ERROR //500\n    }\n    return errmsg.SUCCESS //200\n\n}\n\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在api/v1/user.go接口文件中补全添加用户AddUser的代码"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"// 添加用户\nfunc AddUser(ctx *gin.Context) {\n    var data model.User\n    _ = ctx.ShouldBindJSON(&data)\n    code = model.CheckUser(data.Username)\n    if code == errmsg.SUCCESS {\n        model.CreateUser(&data)\n    }\n    ctx.JSON(http.StatusOK, gin.H{\n        \"status\":  code,\n        \"data\":    data,\n        \"message\": errmsg.GetErrMsg(code),\n    })\n}\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"// 添加用户\nfunc AddUser(ctx *gin.Context) {\n    var data model.User\n    _ = ctx.ShouldBindJSON(&data)\n    code = model.CheckUser(data.Username)\n    if code == errmsg.SUCCESS {\n        model.CreateUser(&data)\n    }\n    ctx.JSON(http.StatusOK, gin.H{\n        \"status\":  code,\n        \"data\":    data,\n        \"message\": errmsg.GetErrMsg(code),\n    })\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在model中，我们写的是对数据库的操作以及操作的反馈\n在api中，我们写的是执行操作的逻辑(操作执行的条件、顺序)以及返回给前端的信息"}]},{"type":"element","tag":"h2","props":{"id":"查询用户"},"children":[{"type":"text","value":"查询用户"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"model/User.go"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"// 查询用户列表 分页\nfunc GetUsers(pageSize int, pageNum int) []User {\n    var users []User\n    err = db.Limit(pageSize).Offset((pageNum - 1) * pageSize).Find(&users).Error\n    if err != nil {\n        return nil\n    }\n    return users\n}\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"// 查询用户列表 分页\nfunc GetUsers(pageSize int, pageNum int) []User {\n    var users []User\n    err = db.Limit(pageSize).Offset((pageNum - 1) * pageSize).Find(&users).Error\n    if err != nil {\n        return nil\n    }\n    return users\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"api/v1/user.go"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"// 查询用户列表 分页\n// 前端需要传递分页的设置信息给后端\nfunc GetUsers(ctx *gin.Context) {\n    pageSize, _ := strconv.Atoi(ctx.Query(\"pagesize\"))\n    pageNum, _ := strconv.Atoi(ctx.Query(\"pagenum\"))\n    if pageSize == 0 {\n        pageSize = -1\n    }\n    if pageNum == 0 {\n        pageNum = -1\n    }\n    data := model.GetUsers(pageSize, pageNum)\n    code = errmsg.SUCCESS\n    ctx.JSON(http.StatusOK, gin.H{\n        \"status\":  code,\n        \"data\":    data,\n        \"message\": errmsg.GetErrMsg(code),\n    })\n}\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"// 查询用户列表 分页\n// 前端需要传递分页的设置信息给后端\nfunc GetUsers(ctx *gin.Context) {\n    pageSize, _ := strconv.Atoi(ctx.Query(\"pagesize\"))\n    pageNum, _ := strconv.Atoi(ctx.Query(\"pagenum\"))\n    if pageSize == 0 {\n        pageSize = -1\n    }\n    if pageNum == 0 {\n        pageNum = -1\n    }\n    data := model.GetUsers(pageSize, pageNum)\n    code = errmsg.SUCCESS\n    ctx.JSON(http.StatusOK, gin.H{\n        \"status\":  code,\n        \"data\":    data,\n        \"message\": errmsg.GetErrMsg(code),\n    })\n}\n"}]}]},{"type":"element","tag":"h2","props":{"id":"附加接口测试"},"children":[{"type":"text","value":"附加：接口测试"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"选择接口测试工具：postman、apipost等等"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在地址栏输入访问调用函数的路由地址"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"localhost:3000/api/v1/user/add\t"}]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"localhost:3000/api/v1/users"}]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\n这些已经在router中定义好，localhost:3000是你定义的服务器地址端口，/api/v1是你定义的路由组入口，后面的是调用函数的路由及参数"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"以上两个功能为例，使用apipost为例："}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"添加用户测试"}]},{"type":"text","value":"："}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"选择POST方式，地址栏输入localhost:3000/api/v1/user/add\n选择body-raw-json，输入User数据(json格式),点击发送"}]},{"type":"element","tag":"pre","props":{"className":["language-json"],"code":"{\n    \"username\": \"li8\",\n    \"password\": \"123456\",\n    \"role\": 0,\n}\n","language":"json","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"{\n    \"username\": \"li8\",\n    \"password\": \"123456\",\n    \"role\": 0,\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"可以看到响应信息"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"查询用户测试"}]},{"type":"text","value":"："}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"需要先添加多个用户"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"选择GET方式，地址栏输入localhost:3000/api/v1/users"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"选择query，填写参数pagesize、pagenum,点击发送，可以看到响应信息"}]}],"toc":{"title":"","searchDepth":2,"depth":3,"links":[{"id":"新增用户","depth":2,"text":"新增用户"},{"id":"查询用户","depth":2,"text":"查询用户"},{"id":"附加接口测试","depth":2,"text":"附加：接口测试"}]}},"_type":"markdown","_id":"content:essay:12.gin-gorm4用户模块接口.md","_source":"content","_file":"essay/12.gin-gorm4用户模块接口.md","_stem":"essay/12.gin-gorm4用户模块接口","_extension":"md"},{"_path":"/essay/11.gin-gorm3错误处理与路由接口","_dir":"essay","_draft":false,"_partial":false,"_locale":"","title":"3.gin-gorm错误处理与路由接口","description":"通过gin-gorm之项目学习部分的学习，可以对项目的架构有深入的了解 🤟\n{% post_link \"gin-gorm1项目准备初始化\" %}\n{% post_link \"gin-gorm2数据库\" %}\n{% post_link \"gin-gorm3错误处理与路由接口\" %}\n{% post_link \"gin-gorm4用户模块接口编写\" %}\n{% post_link \"gin-gorm5密码加密\" %}\n{% post_link \"gin-gorm6编辑、删除用户\" %}","subtitle":"Error handling and routing interface","index":11,"date":"2023-02-13 00:00:03","lunar_date":"正月廿三","year":"2023","month":"02","month_en":"Feb","day":"13","tag":"技术","tag_en":"TECH","cover":"/img/rabbit/011.jpg","categories":"gin-gorm之项目学习","body":{"type":"root","children":[{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"通过"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"gin-gorm之项目学习"}]},{"type":"text","value":"部分的学习，可以对项目的架构有深入的了解 🤟\n{% post_link \"gin-gorm1项目准备初始化\" %}"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\n{% post_link \"gin-gorm2数据库\" %}"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\n{% post_link \"gin-gorm3错误处理与路由接口\" %}"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\n{% post_link \"gin-gorm4用户模块接口编写\" %}"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\n{% post_link \"gin-gorm5密码加密\" %}"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\n{% post_link \"gin-gorm6编辑、删除用户\" %}"},{"type":"element","tag":"br","props":{},"children":[]}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h1","props":{"id":"错误处理"},"children":[{"type":"text","value":"错误处理"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"约定好状态码，便于错误处理，在utils下新建errmsg文件夹，在里面新建errmsg.go"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"const (\n    SUCCESS = 200\n    ERROR   = 500\n    //约定状态码\n    //code=1000...用户模块错误\n    ERROR_USERNAME_USED  = 1001\n    ERROR_PASSWORD_WRONG = 1002\n    ERROR_USER_NOT_EXIST = 1003\n\n    ERROR_TOKEN_NOT_EXIST = 1004\n    ERROR_TOKEN_OUT_TIME  = 1005\n    ERROR_TOKEN_WRONG     = 1006\n    ERROR_TYPE_WRONG      = 1007\n\n    //code=2000...文章模块错误\n\n    //code=3000...分类模块错误\n)\n\nvar codeMsg = map[int]string{\n    SUCCESS:               \"OK\",\n    ERROR:                 \"FAIL\",\n    ERROR_USERNAME_USED:   \"该用户名已存在\",\n    ERROR_PASSWORD_WRONG:  \"密码错误\",\n    ERROR_USER_NOT_EXIST:  \"用户不存在\",\n    ERROR_TOKEN_NOT_EXIST: \"token不存在\",\n    ERROR_TOKEN_OUT_TIME:  \"token已过期\",\n    ERROR_TOKEN_WRONG:     \"token错误\",\n    ERROR_TYPE_WRONG:      \" token格式错误\",\n}\n\nfunc GetErrMsg(code int) string {\n    return codeMsg[code]\n}\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"const (\n    SUCCESS = 200\n    ERROR   = 500\n    //约定状态码\n    //code=1000...用户模块错误\n    ERROR_USERNAME_USED  = 1001\n    ERROR_PASSWORD_WRONG = 1002\n    ERROR_USER_NOT_EXIST = 1003\n\n    ERROR_TOKEN_NOT_EXIST = 1004\n    ERROR_TOKEN_OUT_TIME  = 1005\n    ERROR_TOKEN_WRONG     = 1006\n    ERROR_TYPE_WRONG      = 1007\n\n    //code=2000...文章模块错误\n\n    //code=3000...分类模块错误\n)\n\nvar codeMsg = map[int]string{\n    SUCCESS:               \"OK\",\n    ERROR:                 \"FAIL\",\n    ERROR_USERNAME_USED:   \"该用户名已存在\",\n    ERROR_PASSWORD_WRONG:  \"密码错误\",\n    ERROR_USER_NOT_EXIST:  \"用户不存在\",\n    ERROR_TOKEN_NOT_EXIST: \"token不存在\",\n    ERROR_TOKEN_OUT_TIME:  \"token已过期\",\n    ERROR_TOKEN_WRONG:     \"token错误\",\n    ERROR_TYPE_WRONG:      \" token格式错误\",\n}\n\nfunc GetErrMsg(code int) string {\n    return codeMsg[code]\n}\n"}]}]},{"type":"element","tag":"h1","props":{"id":"路由接口"},"children":[{"type":"text","value":"路由接口"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在api/v1创建控制数据模型的接口user.go、article.go、category.go，以及控制登录的接口login.go\n以用户模块为例"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"//查询用户是否存在\nfunc UserExist(ctx *gin.Context) {\n\n}\n//查询用户\n//查询用户列表\nfunc GetUsers(ctx *gin.Context) {\n\n}\n//添加用户\nfunc AddUser(ctx *gin.Context) {\n\n}\n//编辑用户\nfunc EditUser(ctx *gin.Context) {\n\n}\n//删除用户\nfunc DeleteUser(ctx *gin.Context) {\n\n}\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"//查询用户是否存在\nfunc UserExist(ctx *gin.Context) {\n\n}\n//查询用户\n//查询用户列表\nfunc GetUsers(ctx *gin.Context) {\n\n}\n//添加用户\nfunc AddUser(ctx *gin.Context) {\n\n}\n//编辑用户\nfunc EditUser(ctx *gin.Context) {\n\n}\n//删除用户\nfunc DeleteUser(ctx *gin.Context) {\n\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在routes/router.go的v1路由组中创建路由接口，这种api为restful风格"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"router := r.Group(\"api/v1\")\n    {\n        //Use用户模块路由接口\n        router.POST(\"user/add\", v1.AddUser)\n        router.GET(\"users\", v1.GetUsers)\n        router.PUT(\"user/:id\", v1.EditUser)\n        router.DELETE(\"user/:id\", v1.DeleteUser)\n\n        //Category分类模块路由接口\n\n        //Article文章模块路由接口\n    }\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"router := r.Group(\"api/v1\")\n    {\n        //Use用户模块路由接口\n        router.POST(\"user/add\", v1.AddUser)\n        router.GET(\"users\", v1.GetUsers)\n        router.PUT(\"user/:id\", v1.EditUser)\n        router.DELETE(\"user/:id\", v1.DeleteUser)\n\n        //Category分类模块路由接口\n\n        //Article文章模块路由接口\n    }\n"}]}]}],"toc":{"title":"","searchDepth":2,"depth":3,"links":[]}},"_type":"markdown","_id":"content:essay:11.gin-gorm3错误处理与路由接口.md","_source":"content","_file":"essay/11.gin-gorm3错误处理与路由接口.md","_stem":"essay/11.gin-gorm3错误处理与路由接口","_extension":"md"},{"_path":"/essay/10.gin-gorm2数据库准备","_dir":"essay","_draft":false,"_partial":false,"_locale":"","title":"2.gin-gorm数据库准备","description":"通过gin-gorm之项目学习部分的学习，可以对项目的架构有深入的了解 🤟\n{% post_link \"gin-gorm1项目准备初始化\" %}\n{% post_link \"gin-gorm2数据库\" %}\n{% post_link \"gin-gorm3错误处理与路由接口\" %}\n{% post_link \"gin-gorm4用户模块接口编写\" %}\n{% post_link \"gin-gorm5密码加密\" %}\n{% post_link \"gin-gorm6编辑、删除用户\" %}","subtitle":"Database preparation","index":10,"date":"2023-02-13 00:00:02","lunar_date":"正月廿三","year":"2023","month":"02","month_en":"Feb","day":"13","tag":"技术","tag_en":"TECH","cover":"/img/rabbit/010.jpg","categories":"gin-gorm之项目学习","body":{"type":"root","children":[{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"通过"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"gin-gorm之项目学习"}]},{"type":"text","value":"部分的学习，可以对项目的架构有深入的了解 🤟\n{% post_link \"gin-gorm1项目准备初始化\" %}"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\n{% post_link \"gin-gorm2数据库\" %}"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\n{% post_link \"gin-gorm3错误处理与路由接口\" %}"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\n{% post_link \"gin-gorm4用户模块接口编写\" %}"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\n{% post_link \"gin-gorm5密码加密\" %}"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\n{% post_link \"gin-gorm6编辑、删除用户\" %}"},{"type":"element","tag":"br","props":{},"children":[]}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h1","props":{"id":"安装gorm"},"children":[{"type":"text","value":"安装Gorm"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"安装gorm  现在是v2版本"}]},{"type":"element","tag":"pre","props":{"className":["language-bash"],"code":"go get -u gorm.io/gorm\n","language":"bash","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"go get -u gorm.io/gorm\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"注意除了gorm外还需要有数据库驱动，本人使用的是postgresql，使用其他数据库的请参考官网"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"import \"gorm.io/driver/postgres\"\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"import \"gorm.io/driver/postgres\"\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"然后根据提示导入，或者运行go mod tidy，该命令能够导入所有依赖的库并删除多余的库"}]},{"type":"element","tag":"h1","props":{"id":"数据模型"},"children":[{"type":"text","value":"数据模型"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在model文件夹下建立数据库入口文件 db.go"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"// 全局变量，db和error在其他文件里也需要使用\nvar (\n    db  *gorm.DB\n    err error\n)\nfunc InitDb() {\n    //使用占位符，然后用setting.go里的配置参数来替代\n    dsn := fmt.Sprintf(\"host=%s user=%s password=%s dbname=%s port=%s sslmode=disable TimeZone=Asia/Shanghai\",\n        utils.DbHost,\n        utils.DbUser,\n        utils.DbPassword,\n        utils.DbName,\n        utils.DbPort,\n    )\n    db, err = gorm.Open(postgres.Open(dsn), &gorm.Config{\n        //禁用默认表名的复数形式\n        NamingStrategy: schema.NamingStrategy{SingularTable: true},\n    })\n    if err != nil {\n        fmt.Println(\"数据库连接失败，请检查连接参数\", err)\n\n    }\n\n    //\n\n    //数据库自动迁移，括号内的参数为需要构建的数据模型结构体\n    db.AutoMigrate()\n\n    sqlDB, err := db.DB()\n    if err != nil {\n        fmt.Println(\"数据库连接设置出错，请检查连接参数\", err)\n    }\n    // SetMaxIdleConns 设置空闲连接池中连接的最大数量\n    sqlDB.SetMaxIdleConns(10)\n\n    // SetMaxOpenConns 设置打开数据库连接的最大数量。\n    sqlDB.SetMaxOpenConns(100)\n\n    // SetConnMaxLifetime 设置了连接可复用的最大时间。\n    //不能超过 gin 框架的连接超时时间\n    sqlDB.SetConnMaxLifetime(10 * time.Second)\n\n    //sqlDB.Close()\n}\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"// 全局变量，db和error在其他文件里也需要使用\nvar (\n    db  *gorm.DB\n    err error\n)\nfunc InitDb() {\n    //使用占位符，然后用setting.go里的配置参数来替代\n    dsn := fmt.Sprintf(\"host=%s user=%s password=%s dbname=%s port=%s sslmode=disable TimeZone=Asia/Shanghai\",\n        utils.DbHost,\n        utils.DbUser,\n        utils.DbPassword,\n        utils.DbName,\n        utils.DbPort,\n    )\n    db, err = gorm.Open(postgres.Open(dsn), &gorm.Config{\n        //禁用默认表名的复数形式\n        NamingStrategy: schema.NamingStrategy{SingularTable: true},\n    })\n    if err != nil {\n        fmt.Println(\"数据库连接失败，请检查连接参数\", err)\n\n    }\n\n    //\n\n    //数据库自动迁移，括号内的参数为需要构建的数据模型结构体\n    db.AutoMigrate()\n\n    sqlDB, err := db.DB()\n    if err != nil {\n        fmt.Println(\"数据库连接设置出错，请检查连接参数\", err)\n    }\n    // SetMaxIdleConns 设置空闲连接池中连接的最大数量\n    sqlDB.SetMaxIdleConns(10)\n\n    // SetMaxOpenConns 设置打开数据库连接的最大数量。\n    sqlDB.SetMaxOpenConns(100)\n\n    // SetConnMaxLifetime 设置了连接可复用的最大时间。\n    //不能超过 gin 框架的连接超时时间\n    sqlDB.SetConnMaxLifetime(10 * time.Second)\n\n    //sqlDB.Close()\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在model文件夹下建立数据模型文件 User.go 、Article.go 、Category.go\n创建结构体"}]},{"type":"element","tag":"pre","props":{"className":["language-GO"],"code":"type User struct {\n    gorm.Model\n\n    Username string `gorm:\"type:varchar(20);not null \" json:\"username\"`\n    Password string `gorm:\"type:varchar(20);not null \" json:\"password\"`\n    Role     int    `gorm:\"type:int; \" json:\"role\"`\n}\n\ntype Category struct {\n    gorm.Model\n\n    Name string `gorm:\"type:varchar(20);not null \" json:\"name\"`\n}\n\ntype Article struct {\n    gorm.Model\n    Title       string   `gorm:\"type:varchar(20);not null\" json:\"title\"`\n    Category    Category \n    CategoryId  int      `gorm:\"type:int;not null\" json:\"category_id\"`\n    Description string   `gorm:\"type:varchar(200)\" json:\"description\"`\n    Content     string   `gorm:\"type:text\" json:\"content\"`\n    Img         string   `gorm:\"type:varchar(200)\" json:\"img\"`\n}\n","language":"GO","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"type User struct {\n    gorm.Model\n\n    Username string `gorm:\"type:varchar(20);not null \" json:\"username\"`\n    Password string `gorm:\"type:varchar(20);not null \" json:\"password\"`\n    Role     int    `gorm:\"type:int; \" json:\"role\"`\n}\n\ntype Category struct {\n    gorm.Model\n\n    Name string `gorm:\"type:varchar(20);not null \" json:\"name\"`\n}\n\ntype Article struct {\n    gorm.Model\n    Title       string   `gorm:\"type:varchar(20);not null\" json:\"title\"`\n    Category    Category \n    CategoryId  int      `gorm:\"type:int;not null\" json:\"category_id\"`\n    Description string   `gorm:\"type:varchar(200)\" json:\"description\"`\n    Content     string   `gorm:\"type:text\" json:\"content\"`\n    Img         string   `gorm:\"type:varchar(200)\" json:\"img\"`\n}\n"}]}]},{"type":"element","tag":"h1","props":{"id":"用数据库迁移创建数据表"},"children":[{"type":"text","value":"用数据库迁移创建数据表"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"回到数据库入口文件 db.go，使用创建的结构体"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"//数据库自动迁移\n    db.AutoMigrate(&User{}, &Category{}, &Article{})\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"//数据库自动迁移\n    db.AutoMigrate(&User{}, &Category{}, &Article{})\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"最后在main.go中使用数据库初始化函数InitDb()"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"model.InitDb()\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"model.InitDb()\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"运行项目main.go,能够看到数据库根据model建立了数据表，数据库连接工具库本人使用的是DBeaver"}]}],"toc":{"title":"","searchDepth":2,"depth":3,"links":[]}},"_type":"markdown","_id":"content:essay:10.gin-gorm2数据库准备.md","_source":"content","_file":"essay/10.gin-gorm2数据库准备.md","_stem":"essay/10.gin-gorm2数据库准备","_extension":"md"},{"_path":"/essay/9.gin-gorm1项目初始化","_dir":"essay","_draft":false,"_partial":false,"_locale":"","title":"1.gin-gorm项目初始化","description":"通过gin-gorm之项目学习部分的学习，可以对项目的架构有深入的了解 🤟\n{% post_link \"gin-gorm1项目准备初始化\" %}\n{% post_link \"gin-gorm2数据库\" %}\n{% post_link \"gin-gorm3错误处理与路由接口\" %}\n{% post_link \"gin-gorm4用户模块接口编写\" %}\n{% post_link \"gin-gorm5密码加密\" %}\n{% post_link \"gin-gorm6编辑、删除用户\" %}","subtitle":"Project initialization","index":9,"date":"2023-02-13 00:00:01","lunar_date":"正月廿三","year":"2023","month":"02","month_en":"Feb","day":"13","tag":"技术","tag_en":"TECH","cover":"/img/rabbit/009.jpg","categories":"gin-gorm之项目学习","body":{"type":"root","children":[{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"通过"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"gin-gorm之项目学习"}]},{"type":"text","value":"部分的学习，可以对项目的架构有深入的了解 🤟\n{% post_link \"gin-gorm1项目准备初始化\" %}"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\n{% post_link \"gin-gorm2数据库\" %}"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\n{% post_link \"gin-gorm3错误处理与路由接口\" %}"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\n{% post_link \"gin-gorm4用户模块接口编写\" %}"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\n{% post_link \"gin-gorm5密码加密\" %}"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\n{% post_link \"gin-gorm6编辑、删除用户\" %}"},{"type":"element","tag":"br","props":{},"children":[]}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"顺便说一下hexo中如何做文章跳转，例如上面的目录第一项在 md 中要这么写:\n"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"{% post_link \"gin-gorm1项目准备初始化\" %}<br/>"}]},{"type":"text","value":"\n\"gin-gorm1项目准备初始化\"是 md 文件的名字，而不是 md 中 format 的 title 的名称，显示时会显示 title 的名称"}]},{"type":"element","tag":"h1","props":{"id":"一创建仓库"},"children":[{"type":"text","value":"一、创建仓库"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"GitHub 创建项目仓库，git clone拉取项目"}]},{"type":"element","tag":"h1","props":{"id":"二初始化"},"children":[{"type":"text","value":"二、初始化"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"创建main.go文件，在项目根目录下执行"}]},{"type":"element","tag":"pre","props":{"className":["language-bash"],"code":"go mod init <项目名> \n","language":"bash","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"go mod init <项目名> \n"}]}]},{"type":"element","tag":"h1","props":{"id":"三安装gin"},"children":[{"type":"text","value":"三、安装gin"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"gin "},{"type":"element","tag":"a","props":{"href":"https://gin-gonic.com/zh-cn/docs/","rel":["nofollow"]},"children":[{"type":"text","value":"官方文档"}]},{"type":"text","value":"\n下载安装：在项目根目录下执行"}]},{"type":"element","tag":"pre","props":{"className":["language-bash"],"code":"go get -u github.com/gin-gonic/gin\n","language":"bash","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"go get -u github.com/gin-gonic/gin\n"}]}]},{"type":"element","tag":"h1","props":{"id":"四搭建项目结构"},"children":[{"type":"text","value":"四、搭建项目结构"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"gin是灵活的web框架，不会限制我们的项目结构，所以需要我们自己去建立"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"项目结构如下："}]},{"type":"element","tag":"pre","props":{"className":["language-bash"],"code":"config 网站配置、参数等等  \nmodel 数据，读写  \napi(controller) 前后端接口  \nmiddleware 中间件，登录验证、跨域等等  \nroutes 路由接口  \nutils 工具包，实现公用的功能  \nupload 上传下载，托管静态资源  \nweb 前端页面托管  \n","language":"bash","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"config 网站配置、参数等等  \nmodel 数据，读写  \napi(controller) 前后端接口  \nmiddleware 中间件，登录验证、跨域等等  \nroutes 路由接口  \nutils 工具包，实现公用的功能  \nupload 上传下载，托管静态资源  \nweb 前端页面托管  \n"}]}]},{"type":"element","tag":"h1","props":{"id":"五网站配置参数"},"children":[{"type":"text","value":"五、网站配置参数"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"可以在config文件夹下新建config.go文件，在其中写基本配置参数"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"不过此处使用"},{"type":"element","tag":"a","props":{"href":"https://ini.unknwon.io/","rel":["nofollow"]},"children":[{"type":"text","value":"go ini"}]},{"type":"text","value":"来进行配置\n安装go ini，在根目录下执行"}]},{"type":"element","tag":"pre","props":{"className":["language-bash"],"code":"go get gopkg.in/ini.v1\n","language":"bash","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"go get gopkg.in/ini.v1\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在config文件夹下新建config.ini文件，在其中写网站的基本配置参数\nini写法："}]},{"type":"element","tag":"pre","props":{"className":["language-ini"],"code":"# 注释\n[分区]\nkey=value\n","language":"ini","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"# 注释\n[分区]\nkey=value\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"配置如下"}]},{"type":"element","tag":"pre","props":{"className":["language-ini"],"code":"[server]\nAppMode=debug\nHttpPort=:3000\n\n[database]\nDb=postgresql\nDbHost=localhost\nDbPort=5432\nDbUser=postgres\nDbPassword=123456\nDbName=ginblog\n","language":"ini","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"[server]\nAppMode=debug\nHttpPort=:3000\n\n[database]\nDb=postgresql\nDbHost=localhost\nDbPort=5432\nDbUser=postgres\nDbPassword=123456\nDbName=ginblog\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在utils下新建setting.go，将config.ini的参数引入并作为全局变量"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"var (\n    AppMode  string\n    HttpPort string\n\n    Db         string\n    DbHost     string\n    DbPort     string\n    DbUser     string\n    DbPassword string\n    DbName     string\n)\n\nfunc init() {\n    file, err := ini.Load(\"../config/config.ini\")\n    if err != nil {\n        fmt.Println(\"配置文件读取错误，请检查文件路径：\", err)\n    }\n    loadServer(file)\n    loadData(file)\n}\n//加载server配置\nfunc loadServer(file *ini.File) {\n    AppMode = file.Section(\"server\").Key(\"AppMode\").MustString(\"debug\")\n    HttpPort = file.Section(\"server\").Key(\"HttpPort\").MustString(\":3000\")\n}\n//加载database配置\nfunc loadData(file *ini.File) {\n    Db = file.Section(\"database\").Key(\"Db\").MustString(\"postgresql\")\n    DbHost = file.Section(\"database\").Key(\"DbHost\").MustString(\"localhost\")\n    DbPort = file.Section(\"database\").Key(\"DbPort\").MustString(\"5432\")\n    DbUser = file.Section(\"database\").Key(\"DbUser\").MustString(\"postgres\")\n    DbPassword = file.Section(\"database\").Key(\"DbPassword\").MustString(\"123456\")\n    DbName = file.Section(\"database\").Key(\"DbName\").MustString(\"ginblog\")\n}\n\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"var (\n    AppMode  string\n    HttpPort string\n\n    Db         string\n    DbHost     string\n    DbPort     string\n    DbUser     string\n    DbPassword string\n    DbName     string\n)\n\nfunc init() {\n    file, err := ini.Load(\"../config/config.ini\")\n    if err != nil {\n        fmt.Println(\"配置文件读取错误，请检查文件路径：\", err)\n    }\n    loadServer(file)\n    loadData(file)\n}\n//加载server配置\nfunc loadServer(file *ini.File) {\n    AppMode = file.Section(\"server\").Key(\"AppMode\").MustString(\"debug\")\n    HttpPort = file.Section(\"server\").Key(\"HttpPort\").MustString(\":3000\")\n}\n//加载database配置\nfunc loadData(file *ini.File) {\n    Db = file.Section(\"database\").Key(\"Db\").MustString(\"postgresql\")\n    DbHost = file.Section(\"database\").Key(\"DbHost\").MustString(\"localhost\")\n    DbPort = file.Section(\"database\").Key(\"DbPort\").MustString(\"5432\")\n    DbUser = file.Section(\"database\").Key(\"DbUser\").MustString(\"postgres\")\n    DbPassword = file.Section(\"database\").Key(\"DbPassword\").MustString(\"123456\")\n    DbName = file.Section(\"database\").Key(\"DbName\").MustString(\"ginblog\")\n}\n\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在使用配置参数时调用setting.go，这样做是为了将配置参数抽离出来，当需要更改时只需要更改ini配置文件里面的配置"}]},{"type":"element","tag":"h1","props":{"id":"六路由"},"children":[{"type":"text","value":"六、路由"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在routes文件夹下建立router.go文件,作为路由入口文件"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"func InitRouter() {\n    gin.SetMode(utils.AppMode)\n    r := gin.Default()\n\n    router := r.Group(\"api/v1\")\n    {\n        router.GET(\"hello\", func(ctx *gin.Context) {\n            ctx.JSON(http.StatusOK, gin.H{\n                \"msg\": \"ok\",\n            })\n        })\n\n    }\n\n    r.Run(utils.HttpPort)\n}\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"func InitRouter() {\n    gin.SetMode(utils.AppMode)\n    r := gin.Default()\n\n    router := r.Group(\"api/v1\")\n    {\n        router.GET(\"hello\", func(ctx *gin.Context) {\n            ctx.JSON(http.StatusOK, gin.H{\n                \"msg\": \"ok\",\n            })\n        })\n\n    }\n\n    r.Run(utils.HttpPort)\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在main中使用"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"func main() {\n    routes.InitRouter()\n}\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"func main() {\n    routes.InitRouter()\n}\n"}]}]},{"type":"element","tag":"h1","props":{"id":"测试"},"children":[{"type":"text","value":"测试"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"运行main.go\n控制台打印"}]},{"type":"element","tag":"pre","props":{"className":["language-bash"],"code":"[GIN-debug] [WARNING] Creating an Engine instance with the Logger and Recovery middleware already attached.\n\n[GIN-debug] [WARNING] Running in \"debug\" mode. Switch to \"release\" mode in production.\n - using env:   export GIN_MODE=release\n - using code:  gin.SetMode(gin.ReleaseMode)\n\n[GIN-debug] GET    /api/v1/hello             --> gin-vue-blog/routes.InitRouter.func1 (3 handlers)\n[GIN-debug] [WARNING] You trusted all proxies, this is NOT safe. We recommend you to set a value.\nPlease check https://pkg.go.dev/github.com/gin-gonic/gin#readme-don-t-trust-all-proxies for details.\n[GIN-debug] Listening and serving HTTP on :3000\n","language":"bash","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"[GIN-debug] [WARNING] Creating an Engine instance with the Logger and Recovery middleware already attached.\n\n[GIN-debug] [WARNING] Running in \"debug\" mode. Switch to \"release\" mode in production.\n - using env:   export GIN_MODE=release\n - using code:  gin.SetMode(gin.ReleaseMode)\n\n[GIN-debug] GET    /api/v1/hello             --> gin-vue-blog/routes.InitRouter.func1 (3 handlers)\n[GIN-debug] [WARNING] You trusted all proxies, this is NOT safe. We recommend you to set a value.\nPlease check https://pkg.go.dev/github.com/gin-gonic/gin#readme-don-t-trust-all-proxies for details.\n[GIN-debug] Listening and serving HTTP on :3000\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"浏览器访问 localhost:3000/api/v1/hello\n页面显示"}]},{"type":"element","tag":"pre","props":{"className":["language-bash"],"code":"{\"msg\":\"ok\"}\n","language":"bash","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"{\"msg\":\"ok\"}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"OK,一切正常"}]}],"toc":{"title":"","searchDepth":2,"depth":3,"links":[]}},"_type":"markdown","_id":"content:essay:9.gin-gorm1项目初始化.md","_source":"content","_file":"essay/9.gin-gorm1项目初始化.md","_stem":"essay/9.gin-gorm1项目初始化","_extension":"md"},{"_path":"/essay/8.樱花特效 sakura.js","_dir":"essay","_draft":false,"_partial":false,"_locale":"","title":"樱花特效 sakura.js","description":"为博客添加樱花飘落的效果 来源自其他博客","subtitle":"桜が散る","index":8,"date":"2023-02-05 21:54:40","lunar_date":"正月初九","year":"2023","month":"02","month_en":"Feb","day":"05","tag":"技术","tag_en":"TECH","cover":"/img/rabbit/008.jpg","categories":"js","body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://www.lifeee.top/posts/64617.html","rel":["nofollow"]},"children":[{"type":"text","value":"为博客添加樱花飘落的效果 来源自其他博客"}]}]},{"type":"element","tag":"pre","props":{"className":["language-js"],"code":"var stop, staticx;\nvar img = new Image();\nimg.src = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUgAAAEwCAYAAADVZeifAAAACXBIWXMAAACYAAAAmAGiyIKYAAAHG2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXBSaWdodHM9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9yaWdodHMvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtcFJpZ2h0czpNYXJrZWQ9IkZhbHNlIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6NDFDMjQxQjYyNjIwNjgxMTgwODNEMjE2MDAzOTU1NDQiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDozNDVjOWViOC04NDc4LTFkNDctOGRjMi0yZDkyOGNhYTYxZWQiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6YjAzN2ZiMGItNTU5Mi0xYjRkLWJjZGQtOWU4NGExMDJiMGM2IiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDE4LTA1LTA5VDE0OjQ5OjM3KzA4OjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAxOC0wNS0wOVQxNDo1MToyNSswODowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAxOC0wNS0wOVQxNDo1MToyNSswODowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjEyMjVlZWE3LTEyY2QtMTY0NC04ZDAzLWFjOTE2ZTAxZDQ1YyIgc3RSZWY6ZG9jdW1lbnRJRD0idXVpZDoxRDIwNUFGNjZCRDlFNTExOUM5REMwMzg2RjlEQjFGNyIvPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDphYmMzNjIzMy1hOWNkLWNiNDQtODViYi0zZTgyMjEwYmIxMjYiIHN0RXZ0OndoZW49IjIwMTgtMDUtMDlUMTQ6NTE6MjUrMDg6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE4IChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6YjAzN2ZiMGItNTU5Mi0xYjRkLWJjZGQtOWU4NGExMDJiMGM2IiBzdEV2dDp3aGVuPSIyMDE4LTA1LTA5VDE0OjUxOjI1KzA4OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOCAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2Vx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\";\n\nfunction Sakura(x, y, s, r, fn) {\n    this.x = x;\n    this.y = y;\n    this.s = s;\n    this.r = r;\n    this.fn = fn;\n}\nSakura.prototype.draw = function (cxt) {\n    cxt.save();\n    var xc = 40 * this.s / 4;\n    cxt.translate(this.x, this.y);\n    cxt.rotate(this.r);\n    cxt.drawImage(img, 0, 0, 40 * this.s, 40 * this.s)\n    cxt.restore();\n}\nSakura.prototype.update = function () {\n    this.x = this.fn.x(this.x, this.y);\n    this.y = this.fn.y(this.y, this.y);\n    this.r = this.fn.r(this.r);\n    if (this.x > window.innerWidth || this.x < 0 || this.y > window.innerHeight || this.y < 0) {\n        this.r = getRandom('fnr');\n        if (Math.random() > 0.4) {\n            this.x = getRandom('x');\n            this.y = 0;\n            this.s = getRandom('s');\n            this.r = getRandom('r');\n        } else {\n            this.x = window.innerWidth;\n            this.y = getRandom('y');\n            this.s = getRandom('s');\n            this.r = getRandom('r');\n        }\n    }\n}\nSakuraList = function () {\n    this.list = [];\n}\nSakuraList.prototype.push = function (sakura) {\n    this.list.push(sakura);\n}\nSakuraList.prototype.update = function () {\n    for (var i = 0, len = this.list.length; i < len; i++) {\n        this.list[i].update();\n    }\n}\nSakuraList.prototype.draw = function (cxt) {\n    for (var i = 0, len = this.list.length; i < len; i++) {\n        this.list[i].draw(cxt);\n    }\n}\nSakuraList.prototype.get = function (i) {\n    return this.list[i];\n}\nSakuraList.prototype.size = function () {\n    return this.list.length;\n}\n\nfunction getRandom(option) {\n    var ret, random;\n    switch (option) {\n        case 'x':\n            ret = Math.random() * window.innerWidth;\n            break;\n        case 'y':\n            ret = Math.random() * window.innerHeight;\n            break;\n        case 's':\n            ret = Math.random();\n            break;\n        case 'r':\n            ret = Math.random() * 6;\n            break;\n        case 'fnx':\n            random = -0.5 + Math.random() * 1;\n            ret = function (x, y) {\n                return x + 0.5 * random - 1.7;\n            };\n            break;\n        case 'fny':\n            random = 1.5 + Math.random() * 0.7\n            ret = function (x, y) {\n                return y + random;\n            };\n            break;\n        case 'fnr':\n            random = Math.random() * 0.03;\n            ret = function (r) {\n                return r + random;\n            };\n            break;\n    }\n    return ret;\n}\n\nfunction startSakura() {\n    requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || window.oRequestAnimationFrame;\n    var canvas = document.createElement('canvas'),\n        cxt;\n    staticx = true;\n    canvas.height = window.innerHeight;\n    canvas.width = window.innerWidth;\n    canvas.setAttribute('style', 'position: fixed;left: 0;top: 0;pointer-events: none;');\n    canvas.setAttribute('id', 'canvas_sakura');\n    document.getElementsByTagName('body')[0].appendChild(canvas);\n    cxt = canvas.getContext('2d');\n    var sakuraList = new SakuraList();\n    for (var i = 0; i < 50; i++) {\n        var sakura, randomX, randomY, randomS, randomR, randomFnx, randomFny;\n        randomX = getRandom('x');\n        randomY = getRandom('y');\n        randomR = getRandom('r');\n        randomS = getRandom('s');\n        randomFnx = getRandom('fnx');\n        randomFny = getRandom('fny');\n        randomFnR = getRandom('fnr');\n        sakura = new Sakura(randomX, randomY, randomS, randomR, {\n            x: randomFnx,\n            y: randomFny,\n            r: randomFnR\n        });\n        sakura.draw(cxt);\n        sakuraList.push(sakura);\n    }\n    stop = requestAnimationFrame(function () {\n        cxt.clearRect(0, 0, canvas.width, canvas.height);\n        sakuraList.update();\n        sakuraList.draw(cxt);\n        stop = requestAnimationFrame(arguments.callee);\n    })\n}\nwindow.onresize = function () {\n    var canvasSnow = document.getElementById('canvas_snow');\n}\nimg.onload = function () {\n    startSakura();\n}\n\nfunction stopp() {\n    if (staticx) {\n        var child = document.getElementById(\"canvas_sakura\");\n        child.parentNode.removeChild(child);\n        window.cancelAnimationFrame(stop);\n        staticx = false;\n    } else {\n        startSakura();\n    }\n}\n","language":"js","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"var stop, staticx;\nvar img = new Image();\nimg.src = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUgAAAEwCAYAAADVZeifAAAACXBIWXMAAACYAAAAmAGiyIKYAAAHG2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXBSaWdodHM9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9yaWdodHMvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtcFJpZ2h0czpNYXJrZWQ9IkZhbHNlIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6NDFDMjQxQjYyNjIwNjgxMTgwODNEMjE2MDAzOTU1NDQiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDozNDVjOWViOC04NDc4LTFkNDctOGRjMi0yZDkyOGNhYTYxZWQiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6YjAzN2ZiMGItNTU5Mi0xYjRkLWJjZGQtOWU4NGExMDJiMGM2IiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDE4LTA1LTA5VDE0OjQ5OjM3KzA4OjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAxOC0wNS0wOVQxNDo1MToyNSswODowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAxOC0wNS0wOVQxNDo1MToyNSswODowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjEyMjVlZWE3LTEyY2QtMTY0NC04ZDAzLWFjOTE2ZTAxZDQ1YyIgc3RSZWY6ZG9jdW1lbnRJRD0idXVpZDoxRDIwNUFGNjZCRDlFNTExOUM5REMwMzg2RjlEQjFGNyIvPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDphYmMzNjIzMy1hOWNkLWNiNDQtODViYi0zZTgyMjEwYmIxMjYiIHN0RXZ0OndoZW49IjIwMTgtMDUtMDlUMTQ6NTE6MjUrMDg6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE4IChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6YjAzN2ZiMGItNTU5Mi0xYjRkLWJjZGQtOWU4NGExMDJiMGM2IiBzdEV2dDp3aGVuPSIyMDE4LTA1LTA5VDE0OjUxOjI1KzA4OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOCAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2Vx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\";\n\nfunction Sakura(x, y, s, r, fn) {\n    this.x = x;\n    this.y = y;\n    this.s = s;\n    this.r = r;\n    this.fn = fn;\n}\nSakura.prototype.draw = function (cxt) {\n    cxt.save();\n    var xc = 40 * this.s / 4;\n    cxt.translate(this.x, this.y);\n    cxt.rotate(this.r);\n    cxt.drawImage(img, 0, 0, 40 * this.s, 40 * this.s)\n    cxt.restore();\n}\nSakura.prototype.update = function () {\n    this.x = this.fn.x(this.x, this.y);\n    this.y = this.fn.y(this.y, this.y);\n    this.r = this.fn.r(this.r);\n    if (this.x > window.innerWidth || this.x < 0 || this.y > window.innerHeight || this.y < 0) {\n        this.r = getRandom('fnr');\n        if (Math.random() > 0.4) {\n            this.x = getRandom('x');\n            this.y = 0;\n            this.s = getRandom('s');\n            this.r = getRandom('r');\n        } else {\n            this.x = window.innerWidth;\n            this.y = getRandom('y');\n            this.s = getRandom('s');\n            this.r = getRandom('r');\n        }\n    }\n}\nSakuraList = function () {\n    this.list = [];\n}\nSakuraList.prototype.push = function (sakura) {\n    this.list.push(sakura);\n}\nSakuraList.prototype.update = function () {\n    for (var i = 0, len = this.list.length; i < len; i++) {\n        this.list[i].update();\n    }\n}\nSakuraList.prototype.draw = function (cxt) {\n    for (var i = 0, len = this.list.length; i < len; i++) {\n        this.list[i].draw(cxt);\n    }\n}\nSakuraList.prototype.get = function (i) {\n    return this.list[i];\n}\nSakuraList.prototype.size = function () {\n    return this.list.length;\n}\n\nfunction getRandom(option) {\n    var ret, random;\n    switch (option) {\n        case 'x':\n            ret = Math.random() * window.innerWidth;\n            break;\n        case 'y':\n            ret = Math.random() * window.innerHeight;\n            break;\n        case 's':\n            ret = Math.random();\n            break;\n        case 'r':\n            ret = Math.random() * 6;\n            break;\n        case 'fnx':\n            random = -0.5 + Math.random() * 1;\n            ret = function (x, y) {\n                return x + 0.5 * random - 1.7;\n            };\n            break;\n        case 'fny':\n            random = 1.5 + Math.random() * 0.7\n            ret = function (x, y) {\n                return y + random;\n            };\n            break;\n        case 'fnr':\n            random = Math.random() * 0.03;\n            ret = function (r) {\n                return r + random;\n            };\n            break;\n    }\n    return ret;\n}\n\nfunction startSakura() {\n    requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || window.oRequestAnimationFrame;\n    var canvas = document.createElement('canvas'),\n        cxt;\n    staticx = true;\n    canvas.height = window.innerHeight;\n    canvas.width = window.innerWidth;\n    canvas.setAttribute('style', 'position: fixed;left: 0;top: 0;pointer-events: none;');\n    canvas.setAttribute('id', 'canvas_sakura');\n    document.getElementsByTagName('body')[0].appendChild(canvas);\n    cxt = canvas.getContext('2d');\n    var sakuraList = new SakuraList();\n    for (var i = 0; i < 50; i++) {\n        var sakura, randomX, randomY, randomS, randomR, randomFnx, randomFny;\n        randomX = getRandom('x');\n        randomY = getRandom('y');\n        randomR = getRandom('r');\n        randomS = getRandom('s');\n        randomFnx = getRandom('fnx');\n        randomFny = getRandom('fny');\n        randomFnR = getRandom('fnr');\n        sakura = new Sakura(randomX, randomY, randomS, randomR, {\n            x: randomFnx,\n            y: randomFny,\n            r: randomFnR\n        });\n        sakura.draw(cxt);\n        sakuraList.push(sakura);\n    }\n    stop = requestAnimationFrame(function () {\n        cxt.clearRect(0, 0, canvas.width, canvas.height);\n        sakuraList.update();\n        sakuraList.draw(cxt);\n        stop = requestAnimationFrame(arguments.callee);\n    })\n}\nwindow.onresize = function () {\n    var canvasSnow = document.getElementById('canvas_snow');\n}\nimg.onload = function () {\n    startSakura();\n}\n\nfunction stopp() {\n    if (staticx) {\n        var child = document.getElementById(\"canvas_sakura\");\n        child.parentNode.removeChild(child);\n        window.cancelAnimationFrame(stop);\n        staticx = false;\n    } else {\n        startSakura();\n    }\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在 themes\\butterfly\\source\\js\\ 目录下面新建sakura.js，粘贴以上代码\n在_config.butterfly.yml中引入即可"}]},{"type":"element","tag":"pre","props":{"className":["language-yaml"],"code":"inject:\n  head:\n    # - <link rel=\"stylesheet\" href=\"/xxx.css\">\n  bottom:\n    # - <script src=\"xxxx\"></script>\n    - <script src=\"/js/sakura.js\"></script>\n\n","language":"yaml","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"inject:\n  head:\n    # - <link rel=\"stylesheet\" href=\"/xxx.css\">\n  bottom:\n    # - <script src=\"xxxx\"></script>\n    - <script src=\"/js/sakura.js\"></script>\n\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"这个以后有空再看看"},{"type":"element","tag":"a","props":{"href":"https://github.com/jhammann/sakura","rel":["nofollow"]},"children":[{"type":"text","value":"https://github.com/jhammann/sakura"}]}]}],"toc":{"title":"","searchDepth":2,"depth":3,"links":[]}},"_type":"markdown","_id":"content:essay:8.樱花特效sakura-js.md","_source":"content","_file":"essay/8.樱花特效sakura-js.md","_stem":"essay/8.樱花特效sakura-js","_extension":"md"},{"_path":"/essay/7.ArchLinux重开备忘录","_dir":"essay","_draft":false,"_partial":false,"_locale":"","title":"ArchLinux重开备忘录","description":"时常记得：sudo pacman -Syu\n万一哪天挂了或用新电脑时，方便自己快速重开。\n第二次安装成功，nice.\n原来16G太小了，重新分配40G再装了一遍，第三次安装成功。","subtitle":"ArchLinuxを再開する","index":7,"date":"2023-02-05 21:39:03","lunar_date":"正月十五","year":"2023","month":"02","month_en":"Feb","day":"05","tag":"技术","tag_en":"TECH","cover":"/img/rabbit/007.jpg","categories":"linux","body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"时常记得："},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"sudo pacman -Syu"}]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\n万一哪天挂了或用新电脑时，方便自己快速重开。"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\n第二次安装成功，nice."},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\n原来16G太小了，重新分配40G再装了一遍，第三次安装成功。"}]},{"type":"element","tag":"h1","props":{"id":"可能用到的链接"},"children":[{"type":"text","value":"可能用到的链接"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Arch wiki"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"element","tag":"a","props":{"href":"https://wiki.archlinux.org/","rel":["nofollow"]},"children":[{"type":"text","value":"https://wiki.archlinux.org/"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"vmware虚拟机安装archlinux"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"element","tag":"a","props":{"href":"https://blog.csdn.net/takashi77/article/details/118927109","rel":["nofollow"]},"children":[{"type":"text","value":"https://blog.csdn.net/takashi77/article/details/118927109"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"重启后网络ping不通"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\n网络问题解决方案"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"element","tag":"a","props":{"href":"https://blog.csdn.net/kaluosifa/article/details/105303484","rel":["nofollow"]},"children":[{"type":"text","value":"https://blog.csdn.net/kaluosifa/article/details/105303484"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"安装plasma桌面环境 虚拟机安装不需要配置显卡驱动，其实这个应该是最全最好用的，不过我是装好了Arch后要装kde出错后才找到这个不错的完全体教程"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"element","tag":"a","props":{"href":"https://arch.icekylin.online/rookie/desktop-env-and-app.html#_4-%E5%AE%89%E8%A3%85-kde-plasma-%E6%A1%8C%E9%9D%A2%E7%8E%AF%E5%A2%83","rel":["nofollow"]},"children":[{"type":"text","value":"https://arch.icekylin.online/rookie/desktop-env-and-app.html#_4-%E5%AE%89%E8%A3%85-kde-plasma-%E6%A1%8C%E9%9D%A2%E7%8E%AF%E5%A2%83"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"安装可能用到的命令"}]},{"type":"element","tag":"pre","props":{"code":"ping arch.icekylin.online\ntimedatectl set-ntp true\ntimedatectl status\nvim /etc/pacman.d/mirrorlist\n# 分区和挂载系列命令\npacstrap /mnt base base-devel linux linux-firmware\npacstrap /mnt dhcpcd iwd vim sudo bash-completion\ngenfstab -U /mnt > /mnt/etc/fstab\ncat /mnt/etc/fstab\narch-chroot /mnt\nvim /etc/hostname\nvim /etc/hosts\nln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime\nhwclock --systohc\nlocale-gen\necho 'LANG=en_US.UTF-8'  > /etc/locale.conf\npasswd root\npacman -S intel-ucode\npacman -S grub efibootmgr\ngrub-install --target=x86_64-efi --efi-directory=/efi --bootloader-id=ARCH\nvim /etc/default/grub\ngrub-mkconfig -o /boot/grub/grub.cfg\nexit\numount -R /mnt\nreboot\n","language":"bash","meta":"","className":["language-bash"]},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"ping arch.icekylin.online\ntimedatectl set-ntp true\ntimedatectl status\nvim /etc/pacman.d/mirrorlist\n# 分区和挂载系列命令\npacstrap /mnt base base-devel linux linux-firmware\npacstrap /mnt dhcpcd iwd vim sudo bash-completion\ngenfstab -U /mnt > /mnt/etc/fstab\ncat /mnt/etc/fstab\narch-chroot /mnt\nvim /etc/hostname\nvim /etc/hosts\nln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime\nhwclock --systohc\nlocale-gen\necho 'LANG=en_US.UTF-8'  > /etc/locale.conf\npasswd root\npacman -S intel-ucode\npacman -S grub efibootmgr\ngrub-install --target=x86_64-efi --efi-directory=/efi --bootloader-id=ARCH\nvim /etc/default/grub\ngrub-mkconfig -o /boot/grub/grub.cfg\nexit\numount -R /mnt\nreboot\n"}]}]},{"type":"element","tag":"h1","props":{"id":"安装准备"},"children":[{"type":"text","value":"安装准备"}]},{"type":"element","tag":"h2","props":{"id":"下载软件"},"children":[{"type":"text","value":"下载软件"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"前往官网 "},{"type":"element","tag":"a","props":{"href":"https://archlinux.org/download/","rel":["nofollow"]},"children":[{"type":"text","value":"https://archlinux.org/download/"}]},{"type":"text","value":" 下载Arch镜像，往下划选择一个国内的镜像源，这里选用的是aliyun，选择iso映像文件下载"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"下载虚拟机 VMware 或visual box都可以，这里使用的是VMware"}]},{"type":"element","tag":"h2","props":{"id":"创建虚拟机"},"children":[{"type":"text","value":"创建虚拟机"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"创建虚拟机："}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"典型配置"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"安装程序光盘映像文件-选择刚刚下载好的iso映像文件"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"操作系统选择Linux-版本选择其他Linux内核64位"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"设置虚拟机名称和位置"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"分配内存 我是16g硬盘 2g内存 后面装kde后感觉有点小了？"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"其他默认，之后可以在虚拟机-设置里更改"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"创建完成后请勿直接开启虚拟机，因为会默认使用bios方式启动，我们这里要改用efi方式启动"}]},{"type":"element","tag":"h1","props":{"id":"开始安装"},"children":[{"type":"text","value":"开始安装"}]},{"type":"element","tag":"h2","props":{"id":"开启虚拟机"},"children":[{"type":"text","value":"开启虚拟机"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"更改为UEFI引导: 虚拟机-设置-选项-高级-固件类型，将BIOS选项改为UEFI，确定。因为我们之后的分区类型和引导程序都是用EFI的"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\n开启虚拟机，第一个选项 enter"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\n测试网络，开通则有数据显示，安装镜像时应该已经预配置了网络"}]},{"type":"element","tag":"pre","props":{"code":"ping www.bilibili.com\n","language":"bash","meta":"","className":["language-bash"]},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"ping www.bilibili.com\n"}]}]},{"type":"element","tag":"h2","props":{"id":"时间"},"children":[{"type":"text","value":"时间"}]},{"type":"element","tag":"pre","props":{"code":"# 通过 npt 校准时间\ntimedatectl set-ntp true\n# 查看时间\ntimedatectl status\n","language":"bash","meta":"","className":["language-bash"]},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"# 通过 npt 校准时间\ntimedatectl set-ntp true\n# 查看时间\ntimedatectl status\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"如果与实际时间相差 8 小时，那是因为我们用的东八区时间与UTC标准时间相差 8 小时：\n设置时区为上海，我是安装完后才设置的"}]},{"type":"element","tag":"pre","props":{"code":"ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime\n","language":"bash","meta":"","className":["language-bash"]},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime\n"}]}]},{"type":"element","tag":"h2","props":{"id":"磁盘分区"},"children":[{"type":"text","value":"磁盘分区"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"lsblk查看磁盘分区情况，未分区时磁盘sda 16G"}]},{"type":"element","tag":"pre","props":{"code":"# 进入磁盘分区系统\ncfdisk /dev/sda\n","language":"bash","meta":"","className":["language-bash"]},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"# 进入磁盘分区系统\ncfdisk /dev/sda\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"然后选择 gpt 方式进入分区，上下键选择分区、左右键选择下方的操作命令，回车执行操作"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"new 新建分区然后输入分区大小，即可将当前磁盘划分出一块分区"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"type 分区类型"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"write 写入磁盘，如果没有 write 直接 quit 则分区操作不会生效"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"delete 删除分区"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"quit 退出分区操作"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"分区sd1：new - 输入大小（参考：512M）- type - EFI System"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\n分区sd2：new - 输入大小（参考：12G）- type - Linux root(x86-64)"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\n分区sd3：输入大小（参考：剩下的3.5G）- type - Linux swap"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"确定完成分区后 write - 最后 quit"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\n使用lsblk查看分区后的磁盘"}]},{"type":"element","tag":"h2","props":{"id":"初始化分区"},"children":[{"type":"text","value":"初始化分区"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"格式化分区"}]},{"type":"element","tag":"pre","props":{"code":"mkfs.fat -F32 /dev/sda1\nmkfs.ext4 /dev/sda2\nmkswap /dev/sda3 -L Swap\nswapon /dev/sda3\n","language":"bash","meta":"","className":["language-bash"]},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"mkfs.fat -F32 /dev/sda1\nmkfs.ext4 /dev/sda2\nmkswap /dev/sda3 -L Swap\nswapon /dev/sda3\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"挂载分区"}]},{"type":"element","tag":"pre","props":{"code":"mount /dev/sda2 /mnt\nmkdir -p /mnt/boot/EFI\nmount /dev/sda1 /mnt/boot/EFI\n","language":"bash","meta":"","className":["language-bash"]},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"mount /dev/sda2 /mnt\nmkdir -p /mnt/boot/EFI\nmount /dev/sda1 /mnt/boot/EFI\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"使用vim打开下载镜像列表"}]},{"type":"element","tag":"pre","props":{"code":"vim /etc/pacman.d/mirrorlist\n","language":"bash","meta":"","className":["language-bash"]},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"vim /etc/pacman.d/mirrorlist\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在里面列表第一行添加中国境内的源，这里使用aliyun"}]},{"type":"element","tag":"pre","props":{"code":"Server = http://mirrors.aliyun.com/archlinux/$repo/os/$arch\n","language":"vim","meta":"","className":["language-vim"]},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"Server = http://mirrors.aliyun.com/archlinux/$repo/os/$arch\n"}]}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"假如你不会vim，你只需要了解在本文中你会用到的 vim 操作："}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"按 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"i"}]},{"type":"text","value":" 进入插入模式，在插入模式下才可以对文件进行修改"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"按 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"esc"}]},{"type":"text","value":" 进入命令模式，可以多按几次 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"esc"}]},{"type":"text","value":" 以确保你处于命令模式，在命令模式下不能对文件进行修改"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"在命令模式下，可以输入一些命令，在本文中你会用到的命令如下\n"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":":/"}]},{"type":"text","value":"为查找命令，后面家上你要查找的文本，vim 会跳转到匹配的那一行，按 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"N"}]},{"type":"text","value":" 查找下一个"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":":w"}]},{"type":"text","value":" 保存修改"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":":wq"}]},{"type":"text","value":" 保存修改并退出 vim"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":":q!"}]},{"type":"text","value":" 强制退出"}]}]}]}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"系统安装"},"children":[{"type":"text","value":"系统安装"}]},{"type":"element","tag":"pre","props":{"code":"# 这是为/mnt下安装一些环境用于待会创建用户所使用的，包括一些基本环境以及网络相关的dhcpcd和net-tools\npacstrap -i /mnt base base-devel linux vim dhcpcd net-tools\n# 生成 fstab 文件 (用 -U 或 -L 选项设置UUID 或卷标)：\ngenfstab -U /mnt >> /mnt/etc/fstab\n# 查看是否生成了磁盘分区\ncat /mnt/etc/fstab\n# 切换用户,原来 root是红色，切换成功后变为灰色\narch-chroot /mnt\n# 创建初始的ramdisk环境\nmkinitcpio -p linux\n","language":"bash","meta":"","className":["language-bash"]},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"# 这是为/mnt下安装一些环境用于待会创建用户所使用的，包括一些基本环境以及网络相关的dhcpcd和net-tools\npacstrap -i /mnt base base-devel linux vim dhcpcd net-tools\n# 生成 fstab 文件 (用 -U 或 -L 选项设置UUID 或卷标)：\ngenfstab -U /mnt >> /mnt/etc/fstab\n# 查看是否生成了磁盘分区\ncat /mnt/etc/fstab\n# 切换用户,原来 root是红色，切换成功后变为灰色\narch-chroot /mnt\n# 创建初始的ramdisk环境\nmkinitcpio -p linux\n"}]}]},{"type":"element","tag":"h2","props":{"id":"locale地区和语言配置"},"children":[{"type":"text","value":"locale地区和语言配置"}]},{"type":"element","tag":"pre","props":{"code":"# 用 vim 打开locale配置文件\nvim /etc/locale.gen\n","language":"bash","meta":"","className":["language-bash"]},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"# 用 vim 打开locale配置文件\nvim /etc/locale.gen\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"查找以下3项，去掉前面的 # 号\nvim命令模式输入 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":":/en_US.UTF-8 UTF-8"}]},{"type":"text","value":"  查找"}]},{"type":"element","tag":"pre","props":{"code":"en_US.UTF-8 UTF-8\nzh_CN.UTF-8 UTF-8\nzh_TW.UTF-8 UTF-8\n","language":"vim","meta":"","className":["language-vim"]},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"en_US.UTF-8 UTF-8\nzh_CN.UTF-8 UTF-8\nzh_TW.UTF-8 UTF-8\n"}]}]},{"type":"element","tag":"pre","props":{"code":"# 生成Locale信息\nlocale-gen\n# 列出所有启用的Locale\nlocale -a\n# 创建locale.conf文件，并提交所要使用的本地化选项\n# 不推荐此时设置任何中文locale，这样做可能会导致tty显示乱码\necho LANG=en_US.UTF-8 > /etc/locale.conf\n# 显示当前正在使用的Locale和相关的环境变量\nlocale\n","language":"bash","meta":"","className":["language-bash"]},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"# 生成Locale信息\nlocale-gen\n# 列出所有启用的Locale\nlocale -a\n# 创建locale.conf文件，并提交所要使用的本地化选项\n# 不推荐此时设置任何中文locale，这样做可能会导致tty显示乱码\necho LANG=en_US.UTF-8 > /etc/locale.conf\n# 显示当前正在使用的Locale和相关的环境变量\nlocale\n"}]}]},{"type":"element","tag":"h2","props":{"id":"设置主机名"},"children":[{"type":"text","value":"设置主机名"}]},{"type":"element","tag":"pre","props":{"code":"# 创建 /etc/hostname 文件并将主机名写入文件,比如主机名为 arch\necho arch > /etc/hostname\n# 然后用 vim打开 /etc/hosts 配置\nvim /etc/hosts\n","language":"bash","meta":"","className":["language-bash"]},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"# 创建 /etc/hostname 文件并将主机名写入文件,比如主机名为 arch\necho arch > /etc/hostname\n# 然后用 vim打开 /etc/hosts 配置\nvim /etc/hosts\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"写入以下内容，保存并退出"}]},{"type":"element","tag":"pre","props":{"code":"127.0.0.1    localhost.localdomain    localhost\n::1          localhost.localdomain    localhost\n127.0.1.1    arch.localdomain    arch \n","language":"vim","meta":"","className":["language-vim"]},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"127.0.0.1    localhost.localdomain    localhost\n::1          localhost.localdomain    localhost\n127.0.1.1    arch.localdomain    arch \n"}]}]},{"type":"element","tag":"h2","props":{"id":"网络配置"},"children":[{"type":"text","value":"网络配置"}]},{"type":"element","tag":"pre","props":{"code":"pacman -S dhcpcd\nsystemctl enable dhcpcd.service\n\n使用无线网络的话，则需安装以下几个软件包（未验证）\npacman -S iw wpa_supplicant dialog  （有线网络忽略这行）\n\n","language":"bash","meta":"","className":["language-bash"]},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"pacman -S dhcpcd\nsystemctl enable dhcpcd.service\n\n使用无线网络的话，则需安装以下几个软件包（未验证）\npacman -S iw wpa_supplicant dialog  （有线网络忽略这行）\n\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"另一个教程里无线网络的配置"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"element","tag":"a","props":{"href":"https://arch.icekylin.online/rookie/basic-install.html#%E8%8B%A5%E4%BD%BF%E7%94%A8%E6%97%A0%E7%BA%BF%E8%BF%9E%E6%8E%A5","rel":["nofollow"]},"children":[{"type":"text","value":"https://arch.icekylin.online/rookie/basic-install.html#%E8%8B%A5%E4%BD%BF%E7%94%A8%E6%97%A0%E7%BA%BF%E8%BF%9E%E6%8E%A5"}]}]},{"type":"element","tag":"pre","props":{"code":"iwctl # 进入交互式命令行\ndevice list # 列出无线网卡设备名，比如无线网卡看到叫 wlan0\nstation wlan0 scan # 扫描网络\nstation wlan0 get-networks # 列出所有 wifi 网络\nstation wlan0 connect wifi-name # 进行连接，注意这里无法输入中文。回车后输入密码即可\nexit # 连接成功后退出\n","language":"bash","meta":"","className":["language-bash"]},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"iwctl # 进入交互式命令行\ndevice list # 列出无线网卡设备名，比如无线网卡看到叫 wlan0\nstation wlan0 scan # 扫描网络\nstation wlan0 get-networks # 列出所有 wifi 网络\nstation wlan0 connect wifi-name # 进行连接，注意这里无法输入中文。回车后输入密码即可\nexit # 连接成功后退出\n"}]}]},{"type":"element","tag":"h2","props":{"id":"root用户密码及创建新用户"},"children":[{"type":"text","value":"root用户密码及创建新用户"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"设置 root 密码"}]},{"type":"element","tag":"pre","props":{"code":"# 输入时密码会隐藏，你不会看到你输入的任何东西，这是正常的。确定密码输入完后回车\npasswd\n# 二次确认密码，密码同样会隐藏\n","language":"bash","meta":"","className":["language-bash"]},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"# 输入时密码会隐藏，你不会看到你输入的任何东西，这是正常的。确定密码输入完后回车\npasswd\n# 二次确认密码，密码同样会隐藏\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"root用户拥有系统的所有操作权限，这样对系统的操作非常不安全，所以需要新建一个普通用户，让其对系统的操作受到一定限制,后面要用的 kde 也只能由非 root 用户使用"}]},{"type":"element","tag":"pre","props":{"code":"# 创建新用户，比如用户名为free\nuseradd -m -G wheel -s /bin/bash free\n# 设置用户密码\npasswd free\n","language":"bash","meta":"","className":["language-bash"]},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"# 创建新用户，比如用户名为free\nuseradd -m -G wheel -s /bin/bash free\n# 设置用户密码\npasswd free\n"}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"-m：创建用户主目录（/home/"},{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"用户名"}]},{"type":"text","value":"）\n-G：用户要加入的附加组列表；此处将用户加到wheel组中，之后可以给这个组执行sudo命令的权限\n-s：指定了用户默认登录shell的路径，此处设置为bash的路径"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"给予普通用户使用 root 的权限"}]},{"type":"element","tag":"pre","props":{"code":"# 打开sudoers文件后\nvisudo\n","language":"bash","meta":"","className":["language-bash"]},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"# 打开sudoers文件后\nvisudo\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"删除wheel组前面的注释符号即可，之后普通用户在命令之前加上 sudo 就能以 root 权限执行命令"}]},{"type":"element","tag":"h2","props":{"id":"安装引导程序-grub"},"children":[{"type":"text","value":"安装引导程序 grub"}]},{"type":"element","tag":"pre","props":{"code":"# arch下载软件命令：pacman -S <软件名>\n# 因为我们使用的是虚拟机和UEFI引导方式，因此只需要安装grub和efibootmgr：\npacman -S grub efibootmgr\n# 将其安装到EFI分区当中\ngrub-install --recheck /dev/sda\n# 生成 grub 的配置文件：\ngrub-mkconfig -o /boot/grub/grub.cfg\n","language":"bash","meta":"","className":["language-bash"]},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"# arch下载软件命令：pacman -S <软件名>\n# 因为我们使用的是虚拟机和UEFI引导方式，因此只需要安装grub和efibootmgr：\npacman -S grub efibootmgr\n# 将其安装到EFI分区当中\ngrub-install --recheck /dev/sda\n# 生成 grub 的配置文件：\ngrub-mkconfig -o /boot/grub/grub.cfg\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"安装完毕"}]},{"type":"element","tag":"h2","props":{"id":"退出重启安装完成"},"children":[{"type":"text","value":"退出重启，安装完成"}]},{"type":"element","tag":"pre","props":{"code":"# 退回安装环境\nexit\n# 卸载新分区\numount -R /mnt\n# 重启\nreboot\n","language":"bash","meta":"","className":["language-bash"]},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"# 退回安装环境\nexit\n# 卸载新分区\numount -R /mnt\n# 重启\nreboot\n"}]}]},{"type":"element","tag":"h2","props":{"id":"开启网络"},"children":[{"type":"text","value":"开启网络"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"重启后使用登录，若使用普通用户登录则有些命令之前需要加 sudo 以获得 root权限"}]},{"type":"element","tag":"pre","props":{"code":"# 设置开机自启并立即启动 dhcp 服务\nsystemctl enable --now dhcpcd \n# 测试网络连接\nping www.bilibili.com \n\n","language":"bash","meta":"","className":["language-bash"]},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"# 设置开机自启并立即启动 dhcp 服务\nsystemctl enable --now dhcpcd \n# 测试网络连接\nping www.bilibili.com \n\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"若为无线连接，还需要"}]},{"type":"element","tag":"pre","props":{"code":"systemctl start iwd # 立即启动 iwd\niwctl # 和之前的方式一样，连接无线网络\n","language":"bash","meta":"","className":["language-bash"]},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"systemctl start iwd # 立即启动 iwd\niwctl # 和之前的方式一样，连接无线网络\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"而本人之前遇到网络问题的解决方式，亲测可用"}]},{"type":"element","tag":"pre","props":{"code":"# 检查网络接口\nip link\n# 开启第二个接口\nip link set dev ens33 up\n# 使用 dhcpcd 分配网络地址\ndhcpcd\n# 将 dhcpcd 设置为自启\nsystemctl enable dhcpcd\nsystemctl disable dhcpcd        // 取消自启\n","language":"bash","meta":"","className":["language-bash"]},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"# 检查网络接口\nip link\n# 开启第二个接口\nip link set dev ens33 up\n# 使用 dhcpcd 分配网络地址\ndhcpcd\n# 将 dhcpcd 设置为自启\nsystemctl enable dhcpcd\nsystemctl disable dhcpcd        // 取消自启\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"到此 ArchLinux 已经安装完成啦，撒花❀，但是此时只有命令行的界面，稍后我们将安装图形化界面"}]},{"type":"element","tag":"h1","props":{"id":"图形化桌面-kdeplasma"},"children":[{"type":"text","value":"图形化桌面-KDE(plasma)"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Linux 的图形化桌面有 KDE、GONE、xfce等等，这里使用 KDE"}]},{"type":"element","tag":"h2","props":{"id":"安装-kde-plasma桌面环境"},"children":[{"type":"text","value":"安装 KDE plasma桌面环境"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"安装最小相关软件包"}]},{"type":"element","tag":"pre","props":{"code":"# plasma-meta 元软件包、konsole 终端模拟器和 dolphin 文件管理器\nsudo pacman -S plasma-meta konsole dolphin \n","language":"bash","meta":"","className":["language-bash"]},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"# plasma-meta 元软件包、konsole 终端模拟器和 dolphin 文件管理器\nsudo pacman -S plasma-meta konsole dolphin \n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"kde-applications则是 kde 全家桶\n"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"sudo pacman -S plasma kde-applications"}]},{"type":"text","value":"\n其中很多都没必要，而且我第一次装完后登录只显示黑屏与鼠标，不知道是部件有问题还是磁盘空间太小（应该是后者？使用最小包安装成功后我sda2 12g的存储空间只剩5g了）\n假如你不慎安装了 kde 全家桶，想要卸载，可以使用以下命令卸载"}]},{"type":"element","tag":"pre","props":{"code":"sudo pacman -Rsc plasma\nsudo pacman -Rsc kde-applications\n","language":"bash","meta":"","className":["language-bash"]},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"sudo pacman -Rsc plasma\nsudo pacman -Rsc kde-applications\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"kde 默认安装的是 xorg，如果想使用wayland的话安装以下包："}]},{"type":"element","tag":"pre","props":{"code":"pacman -S  plasma-wayland-session xdg-desktop-portal\n# N卡用户需要额外安装egl-wayland,xdg-desktop-portal包是为了如obs此类工具录制屏幕使用\n","language":"bash","meta":"","className":["language-bash"]},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"pacman -S  plasma-wayland-session xdg-desktop-portal\n# N卡用户需要额外安装egl-wayland,xdg-desktop-portal包是为了如obs此类工具录制屏幕使用\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"安装完成后，可以在登录时选择使用 xorg 还是 wayland\n另外，虚拟机环境下不需要显卡驱动"}]},{"type":"element","tag":"h2","props":{"id":"配置-sddm"},"children":[{"type":"text","value":"配置 sddm"}]},{"type":"element","tag":"pre","props":{"code":"systemctl enable sddm\nsystemctl start sddm  # 直接启动显示管理器，与以下reboot命令二选一即可\nreboot\n","language":"bash","meta":"","className":["language-bash"]},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"systemctl enable sddm\nsystemctl start sddm  # 直接启动显示管理器，与以下reboot命令二选一即可\nreboot\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"基本的 kde 就安装完成了，之后更改需要的配置，挑选喜欢的主题，查找美化的教程，安装需要的软件，时常记得 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"sudo pacman -Syu"}]},{"type":"text","value":" 滚动更新防止滚挂"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"完结撒花，可以愉快地玩耍啦 ❀"}]},{"type":"element","tag":"h1","props":{"id":"软件源配置"},"children":[{"type":"text","value":"软件源配置"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"执行安装 archlinuxcn 源所需的相关步骤："}]},{"type":"element","tag":"pre","props":{"code":"sudo pacman -S archlinuxcn-keyring # cn 源中的签名（archlinuxcn-keyring 在 archlinuxcn）\nsudo pacman -S yay # yay 命令可以让用户安装 AUR 中的软件（yay 在 archlinuxcn）\n","language":"bash","meta":"","className":["language-bash"]},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"sudo pacman -S archlinuxcn-keyring # cn 源中的签名（archlinuxcn-keyring 在 archlinuxcn）\nsudo pacman -S yay # yay 命令可以让用户安装 AUR 中的软件（yay 在 archlinuxcn）\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"若安装 archlinuxcn-keyring 时报错，是由于密钥环的问题。\n以root 权限运行"}]},{"type":"element","tag":"pre","props":{"code":"pacman -Syu haveged\nsystemctl start haveged\nsystemctl enable haveged\n\nrm -fr /etc/pacman.d/gnupg\npacman-key --init\npacman-key --populate archlinux\npacman-key --populate archlinuxcn\n","language":"bash","meta":"","className":["language-bash"]},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"pacman -Syu haveged\nsystemctl start haveged\nsystemctl enable haveged\n\nrm -fr /etc/pacman.d/gnupg\npacman-key --init\npacman-key --populate archlinux\npacman-key --populate archlinuxcn\n"}]}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"出现这个问题"}]},{"type":"element","tag":"pre","props":{"code":"错误：密钥环文件 `/usr/share/pacman/keyrings/archlinuxcn.gpg` 不存在。\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"错误：密钥环文件 `/usr/share/pacman/keyrings/archlinuxcn.gpg` 不存在。\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"解决方法是通过git方式安装yay，再通过yay安装archlinuxcn"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"git 安装yay"}]},{"type":"element","tag":"pre","props":{"code":"# 安装 git\nsudo pacman -S base-devel \nsudo pacman -S git\n# 进入 /opt 目录并克隆 yay 稳定版的 git 仓库。\ncd /opt\nsudo git clone https://aur.archlinux.org/yay.git\n# 更改源目录的所有者。将 debugpoint 替换为你的用户名。\nsudo chown -R free:users ./yay\n# 进入目录进行编译\ncd yay\nmakepkg -si\n# 安装中出现 build 错误，卡在下载一个 go 的依赖包\n","language":"bash","meta":"","className":["language-bash"]},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"# 安装 git\nsudo pacman -S base-devel \nsudo pacman -S git\n# 进入 /opt 目录并克隆 yay 稳定版的 git 仓库。\ncd /opt\nsudo git clone https://aur.archlinux.org/yay.git\n# 更改源目录的所有者。将 debugpoint 替换为你的用户名。\nsudo chown -R free:users ./yay\n# 进入目录进行编译\ncd yay\nmakepkg -si\n# 安装中出现 build 错误，卡在下载一个 go 的依赖包\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在 makepkg 过程中会因为go依赖的问题卡住，换源后再makepkg"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"不过go的代理推荐改用"},{"type":"element","tag":"a","props":{"href":"https://proxy.golang.com.cn","rel":["nofollow"]},"children":[{"type":"text","value":"https://proxy.golang.com.cn"}]},{"type":"text","value":", 感觉其他代理有时不太行，因为在安装vscode的go工具时下载有时会失败"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"element","tag":"a","props":{"href":"https://zhuanlan.zhihu.com/p/439805266","rel":["nofollow"]},"children":[{"type":"text","value":"https://zhuanlan.zhihu.com/p/439805266"}]}]},{"type":"element","tag":"pre","props":{"code":"cd /opt\ncd yay\nmakepkg -si \n# yay 安装 archlinuxcn-keyring\nyay -S archlinuxcn-keyring\n","language":"bash","meta":"","className":["language-bash"]},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"cd /opt\ncd yay\nmakepkg -si \n# yay 安装 archlinuxcn-keyring\nyay -S archlinuxcn-keyring\n"}]}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"问题已解决,推荐用上面的方法，下面安装keyring后，安装一些软件如v2ray时还是有密钥问题，上面的方法已经完全解决问题了，不过换源还是可以换一下的"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"使用"},{"type":"element","tag":"a","props":{"href":"http://mirrors.ustc.edu.cn/help/archlinuxcn.html","rel":["nofollow"]},"children":[{"type":"text","value":"中科大镜像源"}]},{"type":"text","value":"，用清华源失败了，还是中科大的靠谱"}]},{"type":"element","tag":"pre","props":{"code":"sudo vim /etc/pacman.conf\n","language":"bash","meta":"","className":["language-bash"]},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"sudo vim /etc/pacman.conf\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在末尾添加"}]},{"type":"element","tag":"pre","props":{"code":"[archlinuxcn]\nServer = https://mirrors.ustc.edu.cn/archlinuxcn/$arch\n","language":"vim","meta":"","className":["language-vim"]},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"[archlinuxcn]\nServer = https://mirrors.ustc.edu.cn/archlinuxcn/$arch\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"安装 archlinuxcn-keyring"}]},{"type":"element","tag":"pre","props":{"code":"sudo pacman -S archlinuxcn-keyring \n# 如出现错误让你使用 -Sy 安装\nsudo pacman -Sy archlinuxcn-keyring \n","language":"bash","meta":"","className":["language-bash"]},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"sudo pacman -S archlinuxcn-keyring \n# 如出现错误让你使用 -Sy 安装\nsudo pacman -Sy archlinuxcn-keyring \n"}]}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h1","props":{"id":"软件安装"},"children":[{"type":"text","value":"软件安装"}]},{"type":"element","tag":"pre","props":{"code":"sudo pacman -S firefox chromium # 安装常用的火狐、chromium 浏览器\nsudo pacman -S ark # 压缩软件。在 dolphin 中可用右键解压压缩包\nsudo pacman -S gwenview # 图片查看器\nsudo pacman -S code # all in vscode，yyds\nsudo pacman -S go # golang\nsudo pacman -S java # java 其他编程语言应该都类似安装\n","language":"bash","meta":"","className":["language-bash"]},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"sudo pacman -S firefox chromium # 安装常用的火狐、chromium 浏览器\nsudo pacman -S ark # 压缩软件。在 dolphin 中可用右键解压压缩包\nsudo pacman -S gwenview # 图片查看器\nsudo pacman -S code # all in vscode，yyds\nsudo pacman -S go # golang\nsudo pacman -S java # java 其他编程语言应该都类似安装\n"}]}]},{"type":"element","tag":"h1","props":{"id":"进一步美化桌面"},"children":[{"type":"text","value":"进一步美化桌面"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://zhuanlan.zhihu.com/p/558354279","rel":["nofollow"]},"children":[{"type":"text","value":"https://zhuanlan.zhihu.com/p/558354279"}]}]},{"type":"element","tag":"h1","props":{"id":"透明代理"},"children":[{"type":"text","value":"透明代理"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"sudo pacman -S v2ray v2raya"}]}],"toc":{"title":"","searchDepth":2,"depth":3,"links":[{"id":"下载软件","depth":2,"text":"下载软件"},{"id":"创建虚拟机","depth":2,"text":"创建虚拟机"},{"id":"开启虚拟机","depth":2,"text":"开启虚拟机"},{"id":"时间","depth":2,"text":"时间"},{"id":"磁盘分区","depth":2,"text":"磁盘分区"},{"id":"初始化分区","depth":2,"text":"初始化分区"},{"id":"系统安装","depth":2,"text":"系统安装"},{"id":"locale地区和语言配置","depth":2,"text":"locale地区和语言配置"},{"id":"设置主机名","depth":2,"text":"设置主机名"},{"id":"网络配置","depth":2,"text":"网络配置"},{"id":"root用户密码及创建新用户","depth":2,"text":"root用户密码及创建新用户"},{"id":"安装引导程序-grub","depth":2,"text":"安装引导程序 grub"},{"id":"退出重启安装完成","depth":2,"text":"退出重启，安装完成"},{"id":"开启网络","depth":2,"text":"开启网络"},{"id":"安装-kde-plasma桌面环境","depth":2,"text":"安装 KDE plasma桌面环境"},{"id":"配置-sddm","depth":2,"text":"配置 sddm"}]}},"_type":"markdown","_id":"content:essay:7.ArchLinux重开备忘录.md","_source":"content","_file":"essay/7.ArchLinux重开备忘录.md","_stem":"essay/7.ArchLinux重开备忘录","_extension":"md"},{"_path":"/essay/6.gin框架","_dir":"essay","_draft":false,"_partial":false,"_locale":"","title":"Gin框架","description":"Gin是一个使用Go语言开发的Web框架。 它提供类似Martini的API，但性能更佳，速度提升高达40倍。 如果你是性能和高效的追求者, 你会爱上 Gin。","subtitle":"Gin の使い方","index":6,"date":"2023-01-30 00:00:03","lunar_date":"正月初九","year":"2023","month":"01","month_en":"Jan","day":"30","tag":"技术","tag_en":"TECH","cover":"/img/rabbit/006.jpg","categories":"golang","body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Gin是一个使用Go语言开发的Web框架。 它提供类似Martini的API，但性能更佳，速度提升高达40倍。 如果你是性能和高效的追求者, 你会爱上 Gin。"}]},{"type":"element","tag":"h1","props":{"id":"gin-简单使用"},"children":[{"type":"text","value":"Gin 简单使用"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在这之前我们需要初始化项目"}]},{"type":"element","tag":"pre","props":{"className":["language-bash"],"code":"go mod init ginstudy\n","language":"bash","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"go mod init ginstudy\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"如果使用goland应该在项目创建时就会初始化并创建go.mod文件,我使用的vs code需要自己初始化项目"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"gin框架\n"},{"type":"element","tag":"a","props":{"href":"https://gin-gonic.com/zh-cn/docs/","rel":["nofollow"]},"children":[{"type":"text","value":"官方文档"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"下载并安装 gin："}]},{"type":"element","tag":"pre","props":{"className":["language-bash"],"code":"go get -u github.com/gin-gonic/gin\n","language":"bash","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"go get -u github.com/gin-gonic/gin\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"项目引入gin"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"import \"github.com/gin-gonic/gin\"\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"import \"github.com/gin-gonic/gin\"\n"}]}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"package main\n\nimport (\n    \"github.com/gin-gonic/gin\"\n)\n\nfunc sayHello(c *gin.Context) {\n    //返回和json格式的数据，状态码为200\n    /* gin.H\n    //H is a shortcut for map[string]interface{}   key为string类型，value为任意类型\n    type H map[string]any\n    */\n    c.JSON(200, gin.H{\n        \"message\": \"hello golang\",\n    })\n}\nfunc main() {\n    //创建一个默认的路由引擎 *gin.Engine\n    r := gin.Default()\n    // GET：GET请求方式；  /hello：请求的路径\n    // 当客户端以GET方式请求/hello路径时，会执行后面的函数sayHello\n    r.GET(\"/hello\", sayHello)\n\n    //启动服务,在指定端口监听\n    r.Run(\":9090\")\n}\n\n//运行\n//访问localhost:9090/hello，显示{\"message\":\"hello golang\"}\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"package main\n\nimport (\n    \"github.com/gin-gonic/gin\"\n)\n\nfunc sayHello(c *gin.Context) {\n    //返回和json格式的数据，状态码为200\n    /* gin.H\n    //H is a shortcut for map[string]interface{}   key为string类型，value为任意类型\n    type H map[string]any\n    */\n    c.JSON(200, gin.H{\n        \"message\": \"hello golang\",\n    })\n}\nfunc main() {\n    //创建一个默认的路由引擎 *gin.Engine\n    r := gin.Default()\n    // GET：GET请求方式；  /hello：请求的路径\n    // 当客户端以GET方式请求/hello路径时，会执行后面的函数sayHello\n    r.GET(\"/hello\", sayHello)\n\n    //启动服务,在指定端口监听\n    r.Run(\":9090\")\n}\n\n//运行\n//访问localhost:9090/hello，显示{\"message\":\"hello golang\"}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"RESTfulAPI"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在main()中加入以下请求方法"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"    r.GET(\"/book\", func(c *gin.Context) {\n        c.JSON(200, gin.H{\n            \"message\": \"GET\",\n        })\n    })\n\n    r.POST(\"/book\", func(c *gin.Context) {\n        c.JSON(200, gin.H{\n            \"message\": \"POST\",\n        })\n    })\n\n    r.PUT(\"/book\", func(c *gin.Context) {\n        c.JSON(200, gin.H{\n            \"message\": \"PUT\",\n        })\n    })\n\n    r.DELETE(\"/book\", func(c *gin.Context) {\n        c.JSON(200, gin.H{\n            \"message\": \"DELETE\",\n        })\n    })\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"    r.GET(\"/book\", func(c *gin.Context) {\n        c.JSON(200, gin.H{\n            \"message\": \"GET\",\n        })\n    })\n\n    r.POST(\"/book\", func(c *gin.Context) {\n        c.JSON(200, gin.H{\n            \"message\": \"POST\",\n        })\n    })\n\n    r.PUT(\"/book\", func(c *gin.Context) {\n        c.JSON(200, gin.H{\n            \"message\": \"PUT\",\n        })\n    })\n\n    r.DELETE(\"/book\", func(c *gin.Context) {\n        c.JSON(200, gin.H{\n            \"message\": \"DELETE\",\n        })\n    })\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"通过浏览器访问只能使用GET和POST请求，使用api测试工具进行测试\napi工具有postman、apipost、apifox等，我这里使用apipost测试"}]}],"toc":{"title":"","searchDepth":2,"depth":3,"links":[]}},"_type":"markdown","_id":"content:essay:6.gin框架.md","_source":"content","_file":"essay/6.gin框架.md","_stem":"essay/6.gin框架","_extension":"md"},{"_path":"/essay/5.go与前端的json数据交互笔记","_dir":"essay","_draft":false,"_partial":false,"_locale":"","title":"go与前端的json数据交互笔记","description":"JSON 是存储和交换文本信息的语法，类似 XML。\nJSON 比 XML 更小、更快，更易解析。\nJSON 易于人阅读和编写。\nC、Python、C++、Java、PHP、Go 等编程语言都支持 JSON。","subtitle":"Json data interaction between Go and Frontend","index":5,"date":"2023-01-30 00:00:02","lunar_date":"正月初九","year":2023,"month":"01","month_en":"Jan","day":"30","tag":"技术","tag_en":"TECH","cover":"/img/rabbit/005.jpg","categories":"golang","body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"JSON 是存储和交换文本信息的语法，类似 XML。"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\nJSON 比 XML 更小、更快，更易解析。"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\nJSON 易于人阅读和编写。"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\nC、Python、C++、Java、PHP、Go 等编程语言都支持 JSON。"}]},{"type":"element","tag":"h1","props":{"id":"go-与前端的-json-数据交互"},"children":[{"type":"text","value":"Go 与前端的 JSON 数据交互"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"golang处理json数据"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"encoding/json"}]},{"type":"text","value":"包中的"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"json.Unmarshal"}]},{"type":"text","value":"与"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"json.Marshal"}]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"json.Unmarshal"}]},{"type":"text","value":":解析json的byte类型数据，转换成结构体对象"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"json.Marshal"}]},{"type":"text","value":":将结构体对象转换成json的byte类型数据"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"type Message struct {\n    //后面的json字段与需要对应的json格式的字段一致,不一致则json与结构体对象无法互相转换\n    //例：{\"address\":\"127.0.0.1:40000\"，\"body\":\"1234\"}\n    \n    Address string `json:\"address\"`\n    Body    string `json:\"body\"`\n}\n//（a *App）是使用wails的要求，可以无视\nfunc (a *App) NewConnection(Msg string) string {\n    //接收前端json字符串Msg\n    fmt.Println(\"字符串\", Msg)\n    //结构体对象 mes\n    var mes Message\n    //将json字符串解析，Unmarshal解析需要先将json数据转为[]byte类型，返回值是错误类型\n    //解析后转换成结构体对象mes\n    err := json.Unmarshal([]byte(Msg), &mes)\n    if err != nil {\n        println(\"ERROR:\", err)\n    }\n    fmt.Println(\"ERROR\", err)\n    fmt.Println(\"接收json\", mes.Address)\n    \n    mes.Address = \"111\"\n    mes.Body = \"222\"\n    //Marshal将对象转换成json，返回[]byte和error\n    mesJson, _ := json.Marshal(mes) \n    fmt.Println(\"转换json\", string(mesJson))\n    //返回json字符串\n    return string(mesJson)\n\n}\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"type Message struct {\n    //后面的json字段与需要对应的json格式的字段一致,不一致则json与结构体对象无法互相转换\n    //例：{\"address\":\"127.0.0.1:40000\"，\"body\":\"1234\"}\n    \n    Address string `json:\"address\"`\n    Body    string `json:\"body\"`\n}\n//（a *App）是使用wails的要求，可以无视\nfunc (a *App) NewConnection(Msg string) string {\n    //接收前端json字符串Msg\n    fmt.Println(\"字符串\", Msg)\n    //结构体对象 mes\n    var mes Message\n    //将json字符串解析，Unmarshal解析需要先将json数据转为[]byte类型，返回值是错误类型\n    //解析后转换成结构体对象mes\n    err := json.Unmarshal([]byte(Msg), &mes)\n    if err != nil {\n        println(\"ERROR:\", err)\n    }\n    fmt.Println(\"ERROR\", err)\n    fmt.Println(\"接收json\", mes.Address)\n    \n    mes.Address = \"111\"\n    mes.Body = \"222\"\n    //Marshal将对象转换成json，返回[]byte和error\n    mesJson, _ := json.Marshal(mes) \n    fmt.Println(\"转换json\", string(mesJson))\n    //返回json字符串\n    return string(mesJson)\n\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"前端处理json数据"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"JSON.stringify"}]},{"type":"text","value":":将json对象转换成json字符串"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"JSON.parse"}]},{"type":"text","value":":将json字符串转换成json对象"}]},{"type":"element","tag":"pre","props":{"className":["language-js"],"code":"<script setup>\nimport { reactive } from 'vue'\n//使用wails的要求，就是直接引用go的NewConnection函数\nimport { NewConnection } from '../../wailsjs/go/main/App'\n//消息json对象\nconst msg = reactive({\n    address: \"\",\n    body: \"\"\n})\n//使用const后不能改变对象，但可以改变对象的属性\n//例msg=JSON.parse(result),msg不会发生变化，但可以使其属性发生变化 msg.body=222\n//如要使对象能够改变，请使用let定义对象\nlet reply=reactive({\n    address:\"1\",\n    body:\"1\"\n})\n\nfunction newConnection() {\n    //后端不能识别json对象，使用JSON.stringify将json对象转换成json字符串\n    NewConnection(JSON.stringify(msg)).then(result => {\n        msg.body=result\n        //使用JSON.parse将json字符串转换成json对象\n        reply=JSON.parse(result)\n        alert(JSON.stringify(reply))\n        \n    })\n\n}\n\n</script>\n","language":"js","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"<script setup>\nimport { reactive } from 'vue'\n//使用wails的要求，就是直接引用go的NewConnection函数\nimport { NewConnection } from '../../wailsjs/go/main/App'\n//消息json对象\nconst msg = reactive({\n    address: \"\",\n    body: \"\"\n})\n//使用const后不能改变对象，但可以改变对象的属性\n//例msg=JSON.parse(result),msg不会发生变化，但可以使其属性发生变化 msg.body=222\n//如要使对象能够改变，请使用let定义对象\nlet reply=reactive({\n    address:\"1\",\n    body:\"1\"\n})\n\nfunction newConnection() {\n    //后端不能识别json对象，使用JSON.stringify将json对象转换成json字符串\n    NewConnection(JSON.stringify(msg)).then(result => {\n        msg.body=result\n        //使用JSON.parse将json字符串转换成json对象\n        reply=JSON.parse(result)\n        alert(JSON.stringify(reply))\n        \n    })\n\n}\n\n</script>\n"}]}]},{"type":"element","tag":"pre","props":{"className":["language-html"],"code":"<template>\n\n    <div id=\"input\" class=\"input-box\">\n        <input id=\"address\" v-model=\"msg.address\" autocomplete=\"off\" class=\"input\" type=\"text\" />\n        <button class=\"btn\" @click=\"newConnection\">连接</button>\n    </div>\n    <textarea id=\"text\" v-model=\"msg.body\" class=\"text\"></textarea>\n    <textarea id=\"text\" v-model=\"reply.body\" class=\"text\"></textarea>\n\n</template>\n","language":"html","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"<template>\n\n    <div id=\"input\" class=\"input-box\">\n        <input id=\"address\" v-model=\"msg.address\" autocomplete=\"off\" class=\"input\" type=\"text\" />\n        <button class=\"btn\" @click=\"newConnection\">连接</button>\n    </div>\n    <textarea id=\"text\" v-model=\"msg.body\" class=\"text\"></textarea>\n    <textarea id=\"text\" v-model=\"reply.body\" class=\"text\"></textarea>\n\n</template>\n"}]}]},{"type":"element","tag":"pre","props":{"className":["language-css"],"code":"<style scoped>\n.result {\n    height: 20px;\n    line-height: 20px;\n    margin: 1.5rem auto;\n}\n\n.input-box .btn {\n    width: 60px;\n    height: 30px;\n    line-height: 30px;\n    border-radius: 3px;\n    border: none;\n    margin: 0 0 0 20px;\n    padding: 0 8px;\n    cursor: pointer;\n}\n\n.text {\n    width: 200px;\n    height: 200px;\n    line-height: 30px;\n\n}\n</style>\n","language":"css","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"<style scoped>\n.result {\n    height: 20px;\n    line-height: 20px;\n    margin: 1.5rem auto;\n}\n\n.input-box .btn {\n    width: 60px;\n    height: 30px;\n    line-height: 30px;\n    border-radius: 3px;\n    border: none;\n    margin: 0 0 0 20px;\n    padding: 0 8px;\n    cursor: pointer;\n}\n\n.text {\n    width: 200px;\n    height: 200px;\n    line-height: 30px;\n\n}\n</style>\n"}]}]}],"toc":{"title":"","searchDepth":2,"depth":3,"links":[]}},"_type":"markdown","_id":"content:essay:5.go与前端的json数据交互.md","_source":"content","_file":"essay/5.go与前端的json数据交互.md","_stem":"essay/5.go与前端的json数据交互","_extension":"md"},{"_path":"/essay/4.vue3 速成指南","_dir":"essay","_draft":false,"_partial":false,"_locale":"","title":"vue3 速成指南","description":"Vue 是一款用于构建用户界面的 JavaScript 框架。它基于标准 HTML、CSS 和 JavaScript 构建，并提供了一套声明式的、组件化的编程模型，帮助你高效地开发用户界面。","subtitle":"Vue3 quick guide","index":4,"date":"2023-01-30 00:00:01","lunar_date":"正月初九","year":"2023","month":"01","month_en":"Jan","day":"30","tag":"技术","tag_en":"TECH","cover":"/img/rabbit/004.jpg","categories":"vue","body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Vue 是一款用于构建用户界面的 JavaScript 框架。它基于标准 HTML、CSS 和 JavaScript 构建，并提供了一套声明式的、组件化的编程模型，帮助你高效地开发用户界面。"}]},{"type":"element","tag":"h1","props":{"id":"vue3-组合式-api"},"children":[{"type":"text","value":"Vue3 组合式 API"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"创建vue应用"}]},{"type":"element","tag":"pre","props":{"className":["language-bash"],"code":"初始化vue项目   npm init vue@latest\n进入项目文件夹  cd 项目\n安装依赖        npm install(简写：npm i)\n运行项目        npm dev\n","language":"bash","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"初始化vue项目   npm init vue@latest\n进入项目文件夹  cd 项目\n安装依赖        npm install(简写：npm i)\n运行项目        npm dev\n"}]}]},{"type":"element","tag":"h1","props":{"id":"基础文件"},"children":[{"type":"text","value":"基础文件"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"App.vue"}]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\n创建组件App"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"main.js"}]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\nimport引入组件App，将App挂载到"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"#app"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"index.html"}]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"#app"}]},{"type":"text","value":"即为此处的"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"<div id=\"app\"></div>"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"通过main.js将vue代码转换为html代码\n二、基础语法\nvue3与vue2的区别在于script模块，抛弃难看的vue2选项式，使用"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"setup"}]},{"type":"text","value":"，拥抱最新最潮的组合式api吧"}]},{"type":"element","tag":"pre","props":{"className":["language-js"],"code":"<script>\n    export default{\n        setup(){\n\n        }\n\n        return{\n            //return上面setup()中的变量、方法等\n        }\n    } \n</script>\n","language":"js","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"<script>\n    export default{\n        setup(){\n\n        }\n\n        return{\n            //return上面setup()中的变量、方法等\n        }\n    } \n</script>\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"再进一步改用最新最潮的setup语法糖吧,使用后会自动return"}]},{"type":"element","tag":"pre","props":{"className":["language-js"],"code":"<script setup>\n\n</script>\n","language":"js","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"<script setup>\n\n</script>\n"}]}]},{"type":"element","tag":"h1","props":{"id":"_1定义对象与变量响应式"},"children":[{"type":"text","value":"1.定义对象与变量（响应式）"}]},{"type":"element","tag":"pre","props":{"className":["language-js"],"code":"import {reactive} from \"vue\"\nconst person =reactive({\n    name:\"小明\"\n    age:\"18\"\n})\n","language":"js","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"import {reactive} from \"vue\"\nconst person =reactive({\n    name:\"小明\"\n    age:\"18\"\n})\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"reactive绑定一个person对象。对于只学过后端的同学需要注意js中的对象与后端语言的对象有一定的不同，js是没有后端类的概念的，由于对象并不和类关联， 于是可以随意地给这个对象增加属性"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://blog.csdn.net/fhjdzkp/article/details/79707749","rel":["nofollow"]},"children":[{"type":"text","value":"关于js对象，有、东西的解释"}]}]},{"type":"element","tag":"pre","props":{"className":["language-js"],"code":"import {ref} from \"vue\"\nconst person=ref(\"小明\")\n","language":"js","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"import {ref} from \"vue\"\nconst person=ref(\"小明\")\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"ref底层的本质其实还是reactive，系统会自动根据我们给ref传入的值将它转换成"}]},{"type":"element","tag":"pre","props":{"className":["language-js"],"code":"ref(xx) -> reactive({value:xx})\n","language":"js","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"ref(xx) -> reactive({value:xx})\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"所以上面的"}]},{"type":"element","tag":"pre","props":{"className":["language-js"],"code":"const person=ref(\"小明\")\n//等价于\nconst person=reactive({\n    value:\"小明\"\n})\n","language":"js","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"const person=ref(\"小明\")\n//等价于\nconst person=reactive({\n    value:\"小明\"\n})\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"一般使用ref定义基础数据类型的值，用reactive定义对象或数组"}]},{"type":"element","tag":"h1","props":{"id":"_2定义方法"},"children":[{"type":"text","value":"2.定义方法"}]},{"type":"element","tag":"pre","props":{"className":["language-js"],"code":"let money=ref(1)\n//写法1\nfunction moneyUp(){\n    money.value++\n}\n//写法2\nlet moneyUp=function(){\n    money.value++\n}\n//写法3,箭头函数\nlet moneyUp=()=>{\n    money.value++\n}\n","language":"js","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"let money=ref(1)\n//写法1\nfunction moneyUp(){\n    money.value++\n}\n//写法2\nlet moneyUp=function(){\n    money.value++\n}\n//写法3,箭头函数\nlet moneyUp=()=>{\n    money.value++\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"箭头函数写法似乎在某些情况下不推荐使用，那么就干脆以前两种为准"}]},{"type":"element","tag":"pre","props":{"className":["language-js"],"code":"<script setup>\nimport {ref} from \"vue\"\n\nlet money=ref(1)\n\nfunction moneyUp(){\n    money.value++\n}\n</script>\n\n<template>\n    <p>现在有{{money.value}}元</p>\n    <button @click=\"moneyUp\">加钱</button>\n</template>\n","language":"js","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"<script setup>\nimport {ref} from \"vue\"\n\nlet money=ref(1)\n\nfunction moneyUp(){\n    money.value++\n}\n</script>\n\n<template>\n    <p>现在有{{money.value}}元</p>\n    <button @click=\"moneyUp\">加钱</button>\n</template>\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://cloud.tencent.com/developer/article/1495550","rel":["nofollow"]},"children":[{"type":"text","value":"JS箭头函数之：为何用？怎么用？何时用？"}]}]},{"type":"element","tag":"h1","props":{"id":"_3计算属性computed"},"children":[{"type":"text","value":"3.计算属性computed"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"“若我们将同样的函数定义为一个方法而不是计算属性，两种方式在结果上确实是完全相同的，然而，不同之处在于计算属性值会基于其响应式依赖被缓存。一个计算属性仅会在其响应式依赖更新时才重新计算。”（也就是计算属性依赖的数据改变缓存才会改变，而方法没有，需要缓存的话就用计算属性）"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://www.cnblogs.com/Renyi-Fan/p/12735661.html","rel":["nofollow"]},"children":[{"type":"text","value":"VUE疑难问题---2、方法和计算属性的区别"}]}]},{"type":"element","tag":"pre","props":{"className":["language-js"],"code":"import {ref,computed} from \"vue\"\nconst money=ref(1)\nconst moneyUp = computed(() => {\n  return money.value\n})\n","language":"js","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"import {ref,computed} from \"vue\"\nconst money=ref(1)\nconst moneyUp = computed(() => {\n  return money.value\n})\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://cn.vuejs.org/guide/essentials/computed.html","rel":["nofollow"]},"children":[{"type":"text","value":"看官网吧"}]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\n计算属性默认是只读的。当你尝试修改一个计算属性时，你会收到一个运行时警告。只在某些特殊场景中你可能才需要用到“可写”的属性，你可以通过同时提供 getter 和 setter 来创建："}]},{"type":"element","tag":"pre","props":{"className":["language-js"],"code":"const fullName = computed({\n  // getter\n  get() {\n    return firstName.value + ' ' + lastName.value\n  },\n  // setter\n  set(newValue) {\n    // 注意：我们这里使用的是解构赋值语法\n    [firstName.value, lastName.value] = newValue.split(' ')\n  }\n})\n","language":"js","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"const fullName = computed({\n  // getter\n  get() {\n    return firstName.value + ' ' + lastName.value\n  },\n  // setter\n  set(newValue) {\n    // 注意：我们这里使用的是解构赋值语法\n    [firstName.value, lastName.value] = newValue.split(' ')\n  }\n})\n"}]}]},{"type":"element","tag":"h1","props":{"id":"_4监听watch"},"children":[{"type":"text","value":"4.监听watch"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://blog.csdn.net/qq_36995521/article/details/122576076","rel":["nofollow"]},"children":[{"type":"text","value":"https://blog.csdn.net/qq_36995521/article/details/122576076"}]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\n这个可以，简洁明了👍\n"},{"type":"element","tag":"a","props":{"href":"https://www.yisu.com/zixun/614924.html","rel":["nofollow"]},"children":[{"type":"text","value":"https://www.yisu.com/zixun/614924.html"}]}]},{"type":"element","tag":"h1","props":{"id":"_5路由"},"children":[{"type":"text","value":"5.路由"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"这个不戳👍"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"element","tag":"a","props":{"href":"https://kalacloud.com/blog/vue-router-tutorial-for-vue-3/","rel":["nofollow"]},"children":[{"type":"text","value":"https://kalacloud.com/blog/vue-router-tutorial-for-vue-3/"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"1)在views文件夹下创建不同的页面组件\n组件的名称需使用驼峰命名。且如果只有一个单词时会报错，"}]},{"type":"element","tag":"pre","props":{"className":["language-bash"],"code":"Component name  should always be multi-word \n","language":"bash","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"Component name  should always be multi-word \n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"这是正常的，你问我怎么办?虽然也可以关掉eslint语法检查，但还是改名字吧😅"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"2)在路由js文件下引入页面组件，定义这些组件的名称name与路径path\n3)路由js文件引入创建路由的方法，根据这些页面组件创建路由\n4)App.vue使用路由js的路径path引入页面组件,关于使用的标签"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"router-link"}]},{"type":"text","value":"、"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"<router-view/>"}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"通过"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"router-link"}]},{"type":"text","value":"可以使"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"<router-view/>"}]},{"type":"text","value":"中的显示内容路由（跳转）到src/router/index.js文件中配置的组件中去"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"5)main.js使用router"}]},{"type":"element","tag":"pre","props":{"className":["language-js"],"code":"import router from './router'\ncreateApp(App).use(router).mount('#app')\n","language":"js","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"import router from './router'\ncreateApp(App).use(router).mount('#app')\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"6)路由进阶-导航栏\n"},{"type":"element","tag":"a","props":{"href":"https://www.jianshu.com/p/c964a988b143","rel":["nofollow"]},"children":[{"type":"text","value":"https://www.jianshu.com/p/c964a988b143"}]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\n看了好多都是用框架，不利于理解，这个简单易懂👇👍"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://blog.csdn.net/weixin_40400161/article/details/96711757","rel":["nofollow"]},"children":[{"type":"text","value":"https://blog.csdn.net/weixin_40400161/article/details/96711757"}]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\n1-创建需要跳转的页面组件"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\n2-配置路由跳转js文件"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\n3-创建导航栏组件，设定样式,"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"router-link"}]},{"type":"text","value":"写在这里"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\n4-在App.vue中使用,,可以自定义显示布局"}]},{"type":"element","tag":"pre","props":{"className":["language-js"],"code":"<导航栏组件/>\n<router-view/>\n","language":"js","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"<导航栏组件/>\n<router-view/>\n"}]}]},{"type":"element","tag":"h1","props":{"id":"_6自定义布局"},"children":[{"type":"text","value":"6.自定义布局"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://www.cnblogs.com/zouzou-busy/p/13080665.html","rel":["nofollow"]},"children":[{"type":"text","value":"https://www.cnblogs.com/zouzou-busy/p/13080665.html"}]}]},{"type":"element","tag":"h1","props":{"id":"其他"},"children":[{"type":"text","value":"其他"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://www.cnblogs.com/Renyi-Fan/p/12319825.html","rel":["nofollow"]},"children":[{"type":"text","value":"单双引号的使用似乎并不严格区分-某博客"}]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"element","tag":"a","props":{"href":"https://www.zhihu.com/question/21168673","rel":["nofollow"]},"children":[{"type":"text","value":"单双引号的使用似乎并不严格区分-知乎"}]}]}],"toc":{"title":"","searchDepth":2,"depth":3,"links":[]}},"_type":"markdown","_id":"content:essay:4.vue3 速成指南.md","_source":"content","_file":"essay/4.vue3 速成指南.md","_stem":"essay/4.vue3 速成指南","_extension":"md"},{"_path":"/essay/3.前后端交互","_dir":"","_draft":false,"_partial":false,"_locale":"","title":"前后端交互","description":"一、后端写好需要调用的函数\n二、前端使用axios进行调用\n三、跨域问题与同源策略","subtitle":"Communication between Frontend and Backend","index":3,"date":"2023-01-30 00:00:00","lunar_date":"正月初九","year":"2023","month":"01","month_en":"Jan","day":"30","tag":"技术","tag_en":"TECH","cover":"/img/rabbit/003.jpg","categories":"vue","body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"一、后端写好需要调用的函数"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\n二、前端使用axios进行调用"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\n三、跨域问题与同源策略"}]},{"type":"element","tag":"h1","props":{"id":"一后端写好需要调用的函数"},"children":[{"type":"text","value":"一、后端写好需要调用的函数"}]},{"type":"element","tag":"pre","props":{"code":"package main\n\nimport (\n    \"fmt\"\n    \"net/http\"\n)\n//定义函数NewConnection\n//http.Response：后端返回给前端的响应\n// *http.Request：前端传给后端的请求\nfunc NewConnection(response http.ResponseWriter,request *http.Request){\n    str:=\"asdfghjkl\"\n    //写入需要返回响应的内容，[]byte类型\n    response.Write([]byte(str))\n}\nfunc main() {\n    //注册路由，即定义访问的路径及其调用的函数\n    http.HandleFunc(\"/connect\",NewConnection)\n    //启动服务并指定监听端口\n    err:=http.ListenAndServe(\":9090\",nil)\n    if err!=nil{\n        fmt.Println(\"启动服务失败:\",err)\n        return\n    }\n}\n//执行 go run main.go 启动服务\n//在浏览器访问localhost:9090/connect\n//可以看到 asdfghjkl字符串\n","language":"go","meta":"","className":["language-go"]},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"package main\n\nimport (\n    \"fmt\"\n    \"net/http\"\n)\n//定义函数NewConnection\n//http.Response：后端返回给前端的响应\n// *http.Request：前端传给后端的请求\nfunc NewConnection(response http.ResponseWriter,request *http.Request){\n    str:=\"asdfghjkl\"\n    //写入需要返回响应的内容，[]byte类型\n    response.Write([]byte(str))\n}\nfunc main() {\n    //注册路由，即定义访问的路径及其调用的函数\n    http.HandleFunc(\"/connect\",NewConnection)\n    //启动服务并指定监听端口\n    err:=http.ListenAndServe(\":9090\",nil)\n    if err!=nil{\n        fmt.Println(\"启动服务失败:\",err)\n        return\n    }\n}\n//执行 go run main.go 启动服务\n//在浏览器访问localhost:9090/connect\n//可以看到 asdfghjkl字符串\n"}]}]},{"type":"element","tag":"h1","props":{"id":"二前端使用axios进行调用"},"children":[{"type":"text","value":"二、前端使用axios进行调用"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"下载axios"}]},{"type":"element","tag":"pre","props":{"code":"npm i axios\n","language":"bash","meta":"","className":["language-bash"]},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"npm i axios\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"import导入"}]},{"type":"element","tag":"pre","props":{"code":"import axios from 'axios'\n","language":"js","meta":"","className":["language-js"]},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"import axios from 'axios'\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"使用axios"}]},{"type":"element","tag":"pre","props":{"code":"function newConnection(){\n    msg.body=\"2\",\n    reply.body=\"2\"\n    alert(\"1111111\")\n    axios.get(\"http://127.0.0.1:9090/connect\").then(res=>{\n        console.log(\"222222\")\n        alert(\"000000\")\n        reply.body=string(res)\n    })\n}\n","language":"js","meta":"","className":["language-js"]},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"function newConnection(){\n    msg.body=\"2\",\n    reply.body=\"2\"\n    alert(\"1111111\")\n    axios.get(\"http://127.0.0.1:9090/connect\").then(res=>{\n        console.log(\"222222\")\n        alert(\"000000\")\n        reply.body=string(res)\n    })\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"点击连接按钮，newConnection没有弹窗，F12查看控制台发现报错"}]},{"type":"element","tag":"pre","props":{"code":" GET http://127.0.0.1:9090/connect net::ERR_FAILED 200\n","language":"bash","meta":"","className":["language-bash"]},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":" GET http://127.0.0.1:9090/connect net::ERR_FAILED 200\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"但是后端控制台成功打印"}]},{"type":"element","tag":"pre","props":{"code":"请求：&{GET /connect HTTP/1.1 1 1 map[Accept:[application/json, text/plain, */*] Accept-Encoding:[gzip, \ndeflate, br] Accept-Language:[zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6] Cache-Control:[no-cache] Connection:[keep-alive] Origin:[http://127.0.0.1:5173] Pragma:[no-cache] Referer:[http://127.0.0.1:5173/] Sec-Ch-Ua:[\"Not?A_Brand\";v=\"8\", \"Chromium\";v=\"108\", \"Microsoft Edge\";v=\"108\"] Sec-Ch-Ua-Mobile:[?0] Sec-Ch-Ua-Platform:[\"Windows\"] Sec-Fetch-Dest:[empty] Sec-Fetch-Mode:[cors] Sec-Fetch-Site:[same-site] User-Agent:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36 Edg/108.0.1462.76]] {} <nil> 0 [] false 127.0.0.1:9090 map[] map[] <nil> map[] 127.0.0.1:52006 /connect <nil> <nil> <nil> 0xc0001042c0}     \n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"请求：&{GET /connect HTTP/1.1 1 1 map[Accept:[application/json, text/plain, */*] Accept-Encoding:[gzip, \ndeflate, br] Accept-Language:[zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6] Cache-Control:[no-cache] Connection:[keep-alive] Origin:[http://127.0.0.1:5173] Pragma:[no-cache] Referer:[http://127.0.0.1:5173/] Sec-Ch-Ua:[\"Not?A_Brand\";v=\"8\", \"Chromium\";v=\"108\", \"Microsoft Edge\";v=\"108\"] Sec-Ch-Ua-Mobile:[?0] Sec-Ch-Ua-Platform:[\"Windows\"] Sec-Fetch-Dest:[empty] Sec-Fetch-Mode:[cors] Sec-Fetch-Site:[same-site] User-Agent:[Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36 Edg/108.0.1462.76]] {} <nil> 0 [] false 127.0.0.1:9090 map[] map[] <nil> map[] 127.0.0.1:52006 /connect <nil> <nil> <nil> 0xc0001042c0}     \n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"通过对代码以及报错信息分析，问题出现在跨域请求上。"}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"跨域是指浏览器不允许当前所在的源请求去访问另一个不一样的源请求，源是指请求协议、域名、端口号，这三个如果有一个不一致就是跨域请求。请自行搜索关键词:跨域请求，同源策略"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"使用spring boot的时候应该是加注解后自动处理了，但无法知晓原理，不过现在遇到这个问题可以深入了解一下"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"首先将发送请求的前端作为客户端，接收请求的作为服务端，\n而从我们上面的测试已经可以看出，跨域是客户端单方面拒绝响应，服务端是接收请求并处理了的。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"spring boot后端处理：\n在 每个 Controller 类上加入 @CrossOrigin 注解,\n或者在 Controller的基类中加上 @CrossOrigin 注解然后其他 Controller 类就有了这个 @Controller,\n此时跨域访问就不会报错了。"}]},{"type":"element","tag":"h1","props":{"id":"三跨域问题与同源策略"},"children":[{"type":"text","value":"三、跨域问题与同源策略"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"三种方法：JSONP、cors、代理，本文使用代理方法解决"}]},{"type":"element","tag":"h2","props":{"id":"_1jsonp"},"children":[{"type":"text","value":"1.JSONP"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"JSONP 是一种非官方的跨域数据交互协议\n原理：利用"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"<script>"}]},{"type":"text","value":" "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"<img>"}]},{"type":"text","value":" "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"<iframe> "}]},{"type":"text","value":"等标签可以引入不同域资源的特性，将需要发送的请求的路径作为src参数,告知服务端回调函数的函数名\n例如："}]},{"type":"element","tag":"pre","props":{"code":"<script src=\"http://example.com/data.php?callback=dosomething\"></script>\n","language":"js","meta":"","className":["language-js"]},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"<script src=\"http://example.com/data.php?callback=dosomething\"></script>\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"只支持 GET 请求，而不支持 POST 请求等其他类型的 HTTP 请求,现在一般不用，不需要浪费时间去学"}]},{"type":"element","tag":"h2","props":{"id":"_2cors"},"children":[{"type":"text","value":"2.cors"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Cross-origin resource sharing 跨域资源共享。\n它是一个新的 W3C 标准，它新增的一组HTTP首部字段，允许服务端其声明哪些源站有权限访问哪些资源"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"后端允许跨域："}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://blog.csdn.net/guoer9973/article/details/54341637","rel":["nofollow"]},"children":[{"type":"text","value":"https://blog.csdn.net/guoer9973/article/details/54341637"}]}]},{"type":"element","tag":"pre","props":{"code":"func LDNS(w http.ResponseWriter, req *http.Request) {\n\n    if origin := req.Header.Get(\"Origin\"); origin != \"\" {\n        w.Header().Set(\"Access-Control-Allow-Origin\", origin)\n        w.Header().Set(\"Access-Control-Allow-Methods\", \"POST, GET, OPTIONS, PUT, DELETE\")\n        w.Header().Set(\"Access-Control-Allow-Headers\",\n            \"Accept, Content-Type, Content-Length, Accept-Encoding, X-CSRF-Token, Authorization\")\n    }\n    if req.Method == \"OPTIONS\" {\n        return\n    }\n    // 响应http code\n    w.WriteHeader(200)\n    query := strings.Split(req.Host, \".\")\n    value, err := ldns.RAMDBMgr.Get(query[0])\n    fmt.Println(\"Access-Control-Allow-Origin\", \"*\")\n    if err != nil {\n        io.WriteString(w, `{\"message\": \"\"}`)\n        return\n    }\n\n    io.WriteString(w, value)\n}\n//本人没测试过，只是拿来了解原理用的\n","language":"go","meta":"","className":["language-go"]},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"func LDNS(w http.ResponseWriter, req *http.Request) {\n\n    if origin := req.Header.Get(\"Origin\"); origin != \"\" {\n        w.Header().Set(\"Access-Control-Allow-Origin\", origin)\n        w.Header().Set(\"Access-Control-Allow-Methods\", \"POST, GET, OPTIONS, PUT, DELETE\")\n        w.Header().Set(\"Access-Control-Allow-Headers\",\n            \"Accept, Content-Type, Content-Length, Accept-Encoding, X-CSRF-Token, Authorization\")\n    }\n    if req.Method == \"OPTIONS\" {\n        return\n    }\n    // 响应http code\n    w.WriteHeader(200)\n    query := strings.Split(req.Host, \".\")\n    value, err := ldns.RAMDBMgr.Get(query[0])\n    fmt.Println(\"Access-Control-Allow-Origin\", \"*\")\n    if err != nil {\n        io.WriteString(w, `{\"message\": \"\"}`)\n        return\n    }\n\n    io.WriteString(w, value)\n}\n//本人没测试过，只是拿来了解原理用的\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"go的跨域有现成的库可以使用"}]},{"type":"element","tag":"pre","props":{"code":"go get github.com/gin-contrib/cors\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"go get github.com/gin-contrib/cors\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"我在"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"go的多线程-实时数据采集"}]},{"type":"text","value":"的"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"路由设置"}]},{"type":"text","value":"里有使用"}]},{"type":"element","tag":"pre","props":{"code":"@Override\n    public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) throws IOException, ServletException {\n        req.setAttribute(\"org.apache.catalina.ASYNC_SUPPORTED\", true);\n        HttpServletResponse response = (HttpServletResponse) res;\n        response.setHeader(\"Access-Control-Allow-Origin\", ((HttpServletRequest) req).getHeader(\"Origin\"));\n        response.setHeader(\"Access-Control-Allow-Methods\", \"POST, GET, OPTIONS, DELETE,PUT\");\n        response.setHeader(\"Access-Control-Max-Age\", \"3600\");\n        response.setHeader(\"Access-Control-Allow-Headers\", \"Content-Disposition,Origin, X-Requested-With, Content-Type, Accept,Authorization,id_token\");\n        response.setHeader(\"Access-Control-Allow-Credentials\",\"true\");\n        response.setHeader(\"Content-Security-Policy\", \"default-src 'self' 'unsafe-inline'; script-src 'self'; frame-ancestors 'self'; object-src 'none'\");\n        response.setHeader(\"X-Content-Type-Options\", \"nosniff\");\n        response.setHeader(\"X-XSS-Protection\", \"1; mode=block\");\n        chain.doFilter(req, res);\n    }\n    //本人没测试过，只是拿来了解原理用的\n","language":"java","meta":"","className":["language-java"]},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"@Override\n    public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) throws IOException, ServletException {\n        req.setAttribute(\"org.apache.catalina.ASYNC_SUPPORTED\", true);\n        HttpServletResponse response = (HttpServletResponse) res;\n        response.setHeader(\"Access-Control-Allow-Origin\", ((HttpServletRequest) req).getHeader(\"Origin\"));\n        response.setHeader(\"Access-Control-Allow-Methods\", \"POST, GET, OPTIONS, DELETE,PUT\");\n        response.setHeader(\"Access-Control-Max-Age\", \"3600\");\n        response.setHeader(\"Access-Control-Allow-Headers\", \"Content-Disposition,Origin, X-Requested-With, Content-Type, Accept,Authorization,id_token\");\n        response.setHeader(\"Access-Control-Allow-Credentials\",\"true\");\n        response.setHeader(\"Content-Security-Policy\", \"default-src 'self' 'unsafe-inline'; script-src 'self'; frame-ancestors 'self'; object-src 'none'\");\n        response.setHeader(\"X-Content-Type-Options\", \"nosniff\");\n        response.setHeader(\"X-XSS-Protection\", \"1; mode=block\");\n        chain.doFilter(req, res);\n    }\n    //本人没测试过，只是拿来了解原理用的\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"请参考"},{"type":"element","tag":"a","props":{"href":"https://www.jianshu.com/p/26d88431dc1b","rel":["nofollow"]},"children":[{"type":"text","value":"这篇文章"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"需要设置请求返回的响应头Header,详细设置内容讲解可以见"},{"type":"element","tag":"a","props":{"href":"https://www.jianshu.com/p/f880878c1398","rel":["nofollow"]},"children":[{"type":"text","value":"这篇文章"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"前端设置跨域并允许携带cookie："}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"前端请求库一般有两种：流行框架下react或者vue使用axios、fetch这两者都可以，设置允许跨域的方式有点不一样。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"原生fetch"}]},{"type":"element","tag":"pre","props":{"code":"fetch('localhost:3000',{\n      /*允许携带cookies，默认情况没写这个是不会携带的*/\n      credentials: 'include',\n      /*允许跨域**/\n      mode: 'cors'\n})\n","language":"js","meta":"","className":["language-js"]},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"fetch('localhost:3000',{\n      /*允许携带cookies，默认情况没写这个是不会携带的*/\n      credentials: 'include',\n      /*允许跨域**/\n      mode: 'cors'\n})\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"axios"}]},{"type":"element","tag":"pre","props":{"code":"import axios from 'axios'\n// 对所有 axios 请求允许携带cookie\naxios.defaults.withCredentials = true;\n\n// 对单独的 axios 请求允许携带cookie\n axios.get('localhost:3000', {\n  withCredentials: true    \n})\n","language":"js","meta":"","className":["language-js"]},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"import axios from 'axios'\n// 对所有 axios 请求允许携带cookie\naxios.defaults.withCredentials = true;\n\n// 对单独的 axios 请求允许携带cookie\n axios.get('localhost:3000', {\n  withCredentials: true    \n})\n"}]}]},{"type":"element","tag":"h2","props":{"id":"_3使用代理本文使用的方法"},"children":[{"type":"text","value":"3.使用代理(本文使用的方法)"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://juejin.cn/post/7112373669594136612","rel":["nofollow"]},"children":[{"type":"text","value":"https://juejin.cn/post/7112373669594136612"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"已知："}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"同源策略"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"跨域是请求方单方面拒绝响应，接收方是接收请求并处理了。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"代理服务器不是浏览器,它没有同源策略的限制"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"所以使用代理的解决方法是："}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"1）请求方发送请求给代理服务器，代理成功接收请求"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\n2）代理将请求做了一点修改，把请求方的域名换装成与接收方同源的域名，然后再发送请求给接收方"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\n3）接收方成功接收并处理数据，返回响应给代理，代理成功接收响应"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\n4）代理将响应做了一点修改，把接收方的域名换装成与请求方同源的域名，然后再发送给请求方"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\n5）请求方成功接收响应"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"vue配置代理的方法："},{"type":"element","tag":"br","props":{},"children":[]},{"type":"element","tag":"a","props":{"href":"https://blog.csdn.net/qq_45787691/article/details/128074655","rel":["nofollow"]},"children":[{"type":"text","value":"https://blog.csdn.net/qq_45787691/article/details/128074655"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"这里我使用vite构建的项目，故使用vite配置代理"}]},{"type":"element","tag":"pre","props":{"code":"import { defineConfig } from 'vite'\nimport vue from '@vitejs/plugin-vue'\n\n// https://vitejs.dev/config/\nexport default defineConfig({\n  plugins: [vue()],\n  //以上为其他配置\n  //代理配置\n  server:{\n    proxy:{\n        '/api':{\n            //https: true, // 默认是false, 默认就是http协议，true将http协议转换为https协议\n            // 配置需要代理的路径 --> 这里的意思是代理 http://localhost:默认端口/api/后的所有路由\n            target:'http://127.0.0.1:9090',//目标服务器地址\n            changeOrigin:true,//允许跨域\n            ws:true,//允许websocket跨域\n            // 把路径中的 /api都替换为空的字符串\n            // 因为服务端地址里面是没有api字段的，api只是为了区别需要代理的路径，如果服务端有api字段则不需要替换    \n            rewrite:(path)=>path.replace(/^\\/api/,\"\")\n        }\n    }\n  }\n})\n","language":"js","meta":"","className":["language-js"]},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"import { defineConfig } from 'vite'\nimport vue from '@vitejs/plugin-vue'\n\n// https://vitejs.dev/config/\nexport default defineConfig({\n  plugins: [vue()],\n  //以上为其他配置\n  //代理配置\n  server:{\n    proxy:{\n        '/api':{\n            //https: true, // 默认是false, 默认就是http协议，true将http协议转换为https协议\n            // 配置需要代理的路径 --> 这里的意思是代理 http://localhost:默认端口/api/后的所有路由\n            target:'http://127.0.0.1:9090',//目标服务器地址\n            changeOrigin:true,//允许跨域\n            ws:true,//允许websocket跨域\n            // 把路径中的 /api都替换为空的字符串\n            // 因为服务端地址里面是没有api字段的，api只是为了区别需要代理的路径，如果服务端有api字段则不需要替换    \n            rewrite:(path)=>path.replace(/^\\/api/,\"\")\n        }\n    }\n  }\n})\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"使用代理与axios"}]},{"type":"element","tag":"pre","props":{"code":"function newConnection() {\n    msg.body = \"2\",\n        reply.body = \"2\"\n    alert(\"1111111\")\n    axios.get(\"/api/connect\").then(res => {\n        //console.log(\"222222\")\n        //alert(\"000000\")\n        reply.body = JSON.stringify(res)\n    })\n}\n","language":"js","meta":"","className":["language-js"]},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"function newConnection() {\n    msg.body = \"2\",\n        reply.body = \"2\"\n    alert(\"1111111\")\n    axios.get(\"/api/connect\").then(res => {\n        //console.log(\"222222\")\n        //alert(\"000000\")\n        reply.body = JSON.stringify(res)\n    })\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"成功了，注意res是一个对象，我们用JSON.stringify将它转换为字符串"}]},{"type":"element","tag":"pre","props":{"code":"{\"data\":\"asdfghjkl\",\"status\":200,\"statusText\":\"OK\",\"headers\":{\"access-control-allow-origin\":\"*\",\"connection\":\"close\",\"content-length\":\"9\",\"content-type\":\"text/plain; charset=utf-8\",\"date\":\"Mon, 09 Jan 2023 08:41:30 GMT\"},\"config\":{\"transitional\":{\"silentJSONParsing\":true,\"forcedJSONParsing\":true,\"clarifyTimeoutError\":false},\"adapter\":[\"xhr\",\"http\"],\"transformRequest\":[null],\"transformResponse\":[null],\"timeout\":0,\"xsrfCookieName\":\"XSRF-TOKEN\",\"xsrfHeaderName\":\"X-XSRF-TOKEN\",\"maxContentLength\":-1,\"maxBodyLength\":-1,\"env\":{},\"headers\":{\"Accept\":\"application/json, text/plain, */*\"},\"method\":\"get\",\"url\":\"/api/connect\"},\"request\":{}}\n","language":"json","meta":"","className":["language-json"]},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"{\"data\":\"asdfghjkl\",\"status\":200,\"statusText\":\"OK\",\"headers\":{\"access-control-allow-origin\":\"*\",\"connection\":\"close\",\"content-length\":\"9\",\"content-type\":\"text/plain; charset=utf-8\",\"date\":\"Mon, 09 Jan 2023 08:41:30 GMT\"},\"config\":{\"transitional\":{\"silentJSONParsing\":true,\"forcedJSONParsing\":true,\"clarifyTimeoutError\":false},\"adapter\":[\"xhr\",\"http\"],\"transformRequest\":[null],\"transformResponse\":[null],\"timeout\":0,\"xsrfCookieName\":\"XSRF-TOKEN\",\"xsrfHeaderName\":\"X-XSRF-TOKEN\",\"maxContentLength\":-1,\"maxBodyLength\":-1,\"env\":{},\"headers\":{\"Accept\":\"application/json, text/plain, */*\"},\"method\":\"get\",\"url\":\"/api/connect\"},\"request\":{}}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"这个返回是完整的http响应，我们只需要响应的数据data即可"}]},{"type":"element","tag":"pre","props":{"code":"reply.body = res.data\n","language":"js","meta":"","className":["language-js"]},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"reply.body = res.data\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"同样后端只需要请求的内容"}]},{"type":"element","tag":"pre","props":{"code":"fmt.Printf(\"请求：%v\", request.Body)\n","language":"go","meta":"","className":["language-go"]},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"fmt.Printf(\"请求：%v\", request.Body)\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"当然我们只是调用了方法，请求内容为空，控制台打印"}]},{"type":"element","tag":"pre","props":{"code":"{}\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"{}\n"}]}]}],"toc":{"title":"","searchDepth":2,"depth":3,"links":[{"id":"_1jsonp","depth":2,"text":"1.JSONP"},{"id":"_2cors","depth":2,"text":"2.cors"},{"id":"_3使用代理本文使用的方法","depth":2,"text":"3.使用代理(本文使用的方法)"}]}},"_type":"markdown","_id":"content:essay:3.前后端交互.md","_source":"content","_file":"essay/3.前后端交互.md","_stem":"essay/3.前后端交互","_extension":"md"},{"_path":"/essay/2.vue初学笔记-单文件组件","_dir":"essay","_draft":false,"_partial":false,"_locale":"","title":"vue初学笔记-单文件组件","description":"一个 Vue 单文件组件 (SFC)，通常使用 *.vue 作为文件扩展名，它是一种使用了类似 HTML 语法的自定义文件格式，用于定义 Vue 组件。一个 Vue 单文件组件在语法上是兼容 HTML 的。","subtitle":"Vue3 初心者のノート","index":2,"date":"2022-12-19 00:00:00","lunar_date":"霜月廿六","year":"2022","month":"12","month_en":"Dec","day":"19","tag":"技术","tag_en":"TECH","cover":"/img/rabbit/002.jpg","categories":"vue","body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"一个 Vue 单文件组件 (SFC)，通常使用 *.vue 作为文件扩展名，它是一种使用了类似 HTML 语法的自定义文件格式，用于定义 Vue 组件。一个 Vue 单文件组件在语法上是兼容 HTML 的。"}]},{"type":"element","tag":"h1","props":{"id":"参考项目结构"},"children":[{"type":"text","value":"参考项目结构"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"http://doc.ruoyi.vip/ruoyi-vue/","rel":["nofollow"]},"children":[{"type":"text","value":"royi前后端分离的vue项目"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在vue项目的src文件夹下"}]},{"type":"element","tag":"pre","props":{"code":"|_src\n    |_api\n    |_assets\n    |_components\n    |_directive\n    |_icons\n    |_layout\n    |_plugins\n    |_router\n    |_store\n    |_styles\n    |_utils\n    |_views\n    \n    app.vue\n    main.js\n    permission.js\n    setting.js\n\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"|_src\n    |_api\n    |_assets\n    |_components\n    |_directive\n    |_icons\n    |_layout\n    |_plugins\n    |_router\n    |_store\n    |_styles\n    |_utils\n    |_views\n    \n    app.vue\n    main.js\n    permission.js\n    setting.js\n\n"}]}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"api"}]},{"type":"text","value":"：接口文件夹，存放对数据接口封装的方法（前后端交互的接口，此处需要声明前端需要使用的方法，该方法在后端的URL路径，请求方式（get、post等），参数）。前端在处理业务需要调用后端方法时，import此处api文件夹里相应js文件里的方法，这个方法通过url，请求方式与参数与后端建立映射。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"assets"}]},{"type":"text","value":"：静态资源文件夹，存放图片，css样式等资源"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"components"}]},{"type":"text","value":"：组件库文件夹，存放组件（一些可复用，非独立的页面），也可以创建完整页面，但一般完整页面会在views文件夹编写"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"directive"}]},{"type":"text","value":"：指令文件夹，可以在这里自定义像v-for、v-if之类的指令以供使用"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"element","tag":"a","props":{"href":"https://blog.csdn.net/wuj1935/article/details/120705144","rel":["nofollow"]},"children":[{"type":"text","value":"https://blog.csdn.net/wuj1935/article/details/120705144"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"icons"}]},{"type":"text","value":"：图标文件夹"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"layout"}]},{"type":"text","value":"：公共布局组件文件，如项目页面顶部栏区域、侧边导航栏(大部分页面公共的布局)"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"plugins"}]},{"type":"text","value":":插件文件夹，自定义插件"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"router"}]},{"type":"text","value":":路由配置文件，存放路由跳转的配置信息,路由用于设定访问路径，并将路径和组件映射起来，访问对应的路径就会跳转到相应的页面（组件）"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"element","tag":"a","props":{"href":"https://blog.csdn.net/wulala_hei/article/details/80488727","rel":["nofollow"]},"children":[{"type":"text","value":"vue路由"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"store"}]},{"type":"text","value":"：存放 vuex 为vue专门开发的状态管理器"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"styles"}]},{"type":"text","value":"：全局样式文件"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"utils"}]},{"type":"text","value":":工具包文件夹，存放工具函数"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"views"}]},{"type":"text","value":"：视图文件夹，存放各个页面的vue文件"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"app.vue"}]},{"type":"text","value":"：项目的主组件，页面入口文件 ，所有页面都在app.vue下进行切换，app.vue负责构建定义及页面组件归集"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"main.js"}]},{"type":"text","value":":实例化Vue、放置项目中经常会用到的插件和CSS样式、存储全局变量"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"permission.js"}]},{"type":"text","value":": 权限管理"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"setting.js"}]},{"type":"text","value":":配置"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"element","tag":"a","props":{"href":"https://juejin.cn/post/7041506596597432334","rel":["nofollow"]},"children":[{"type":"text","value":"配置篇(settings.js)"}]}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"一般来说，我们只需要了解api、router、views文件夹、app.vue、main.js的内容即可上手"}]},{"type":"element","tag":"h1","props":{"id":"xxxvue文件单文件组件sfc"},"children":[{"type":"text","value":"xxx.vue文件（单文件组件/SFC）"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://cn.vuejs.org/api/sfc-spec.html","rel":["nofollow"]},"children":[{"type":"text","value":"vue官方文档-单文件组件语法定义"}]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"element","tag":"a","props":{"href":"https://cn.vuejs.org/guide/scaling-up/sfc.html","rel":["nofollow"]},"children":[{"type":"text","value":"vue官方文档-应用规模化-单文件组件"}]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"element","tag":"a","props":{"href":"https://blog.csdn.net/XOIIUUZZ/article/details/103095298","rel":["nofollow"]},"children":[{"type":"text","value":"https://blog.csdn.net/XOIIUUZZ/article/details/103095298"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"首先我们需要了解一下一个vue文件一般由哪些部分组成"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"单个vue文件被称为单文件组件（Single-File Component，缩写为SFC），其内容为html、css、js的延伸"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Vue SFC 是一个框架指定的文件格式，因此必须交由 @vue/compiler-sfc 编译为标准的 JavaScript 和 CSS，一个编译后的 SFC 是一个标准的JavaScript(ES) 模块"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"一个.vue文件主要有3个部分"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"<template>"}]},{"type":"text","value":"显示的内容"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"</template>"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"<script>"}]},{"type":"text","value":"执行的功能（业务逻辑）"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"</script>"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"<style>"}]},{"type":"text","value":"内容的样式"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"</style>"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"可分别看成是html、js、css的功能，类比为名词、动词、形容词"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"官网示例如下"}]},{"type":"text","value":"："}]},{"type":"element","tag":"pre","props":{"code":"<template>\n  <div class=\"example\">{{ msg }}</div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      msg: 'Hello world!'\n    }\n  }\n}\n</script>\n\n<style>\n.example {\n  color: red;\n}\n</style>\n\n<custom1>\n  This could be e.g. documentation for the component.\n</custom1>\n","language":"js","meta":"","className":["language-js"]},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"<template>\n  <div class=\"example\">{{ msg }}</div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      msg: 'Hello world!'\n    }\n  }\n}\n</script>\n\n<style>\n.example {\n  color: red;\n}\n</style>\n\n<custom1>\n  This could be e.g. documentation for the component.\n</custom1>\n"}]}]},{"type":"element","tag":"h2","props":{"id":"template"},"children":[{"type":"text","value":"template"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"<template></template>"}]},{"type":"text","value":"语块包裹的内容将会被提取、传递给 @vue/compiler-dom，预编译为 JavaScript 渲染函数，并附在导出的组件上作为其 render 选项（vue渲染页面的一种方式）。\n我们来看一下示例中的简单的template视图层"}]},{"type":"element","tag":"pre","props":{"code":"<div class=\"example\">{{ msg }}</div>\n","language":"html","meta":"","className":["language-html"]},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"<div class=\"example\">{{ msg }}</div>\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"首先是一组"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"<div>"}]},{"type":"text","value":"标签，表示包含的内容是一个独立的部分，标签里的内容作为一个整体，有福同享，有难同当。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"class"}]},{"type":"text","value":"是表示样式的类型，其在"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"<div>"}]},{"type":"text","value":"的尖括号表明"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"<div>"}]},{"type":"text","value":"里包含的内容都会应用到该样式，那么它所说的样式类型是\"example\",这个样式来源里我们在"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"<style></style>"}]},{"type":"text","value":"所定义的样式"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"最后让我们看看这个独立部分里面的内容"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"{{ msg }}"}]},{"type":"text","value":"，这里的"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"{{}}"}]},{"type":"text","value":"叫做文本插值，使用\"Mustache\"语法，它与"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"script"}]},{"type":"text","value":"标签里定义的msg的数据绑定，"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"{{msg}}"}]},{"type":"text","value":"会被替代为msg的值'Hello world!'，并且保持同步更新"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在这基础之上，我们还可以给这个"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"<div>"}]},{"type":"text","value":"块加上一个身份标识id"}]},{"type":"element","tag":"pre","props":{"code":"<div id=\"app\" class=\"example\">{{ msg }}</div>\n","language":"html","meta":"","className":["language-html"]},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"<div id=\"app\" class=\"example\">{{ msg }}</div>\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"当需要用到该部分的内容时，即可通过\"app\"这个id来引用"}]},{"type":"element","tag":"h2","props":{"id":"script"},"children":[{"type":"text","value":"script"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"<script></script>"}]},{"type":"text","value":"包裹的是脚本代码，会作为es模块执行，进行业务逻辑的处理"}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"ECMAScript模块（简称ES模块）是2015年推出的 JavaScript 中代码重用的机制"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"我们来看一下示例中的简单的script逻辑层"}]},{"type":"element","tag":"pre","props":{"code":"\nexport default {\n  data() {\n    return {\n      msg: 'Hello world!'\n    }\n  }\n}\n\n","language":"js","meta":"","className":["language-js"]},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"\nexport default {\n  data() {\n    return {\n      msg: 'Hello world!'\n    }\n  }\n}\n\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"export主要用于对外输出本模块变量的接口，一个文件就可以被理解为一个模块,首先是定义数据对象，使用对象来存放数据。js中{}里的内容表示一个对象，在这里有两种写法，一种是直接定义一个对象，一种是通过一个函数返回一个data对象，基本都用后者，原因参考如下\n"},{"type":"element","tag":"a","props":{"href":"https://juejin.cn/post/7002584686232862734","rel":["nofollow"]},"children":[{"type":"text","value":"Vue中的data是什么"}]}]},{"type":"element","tag":"pre","props":{"code":"//直接定义\ndata:{}\n//函数返回值\ndata() { return {}}\n\n","language":"js","meta":"","className":["language-js"]},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"//直接定义\ndata:{}\n//函数返回值\ndata() { return {}}\n\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"除data之外，script层里还可以写其他内容\n"},{"type":"element","tag":"a","props":{"href":"https://juejin.cn/post/6844903796481458183","rel":["nofollow"]},"children":[{"type":"text","value":"参考:vue script结构"}]}]},{"type":"element","tag":"pre","props":{"code":"<script>\nexport default {\nname: \"Home\",\ndata() {\n  return {};\n},\nmethods: {\n  // 组件的方法\n},\nwatch: {\n  // watch擅长处理的场景：一个数据影响多个数据\n},\ncomputed: {\n  // computed擅长处理的场景：一个数据受多个数据影响\n},\nbeforeCreate: function() {\n  // 在实例初始化之后，数据观测(data observer) 和 event/watcher 事件配置之前被调用。\n},\ncreated: function() {\n  // 实例已经创建完成之后被调用。在这一步，实例已完成以下的配置：数据观测(data observer)，属性和方法的运算， watch/event 事件回调。然而，挂载阶段还没开始，$el 属性目前不可见。\n},\nbeforeMount: function() {\n  // 在挂载开始之前被调用：相关的 render 函数首次被调用。\n},\nmounted: function() {\n  // 编译好的HTML挂载到页面完成后执行的事件钩子\n  // el 被新创建的 vm.$el 替换，并挂载到实例上去之后调用该钩子。\n  // 此钩子函数中一般会做一些ajax请求获取数据进行数据初始化\n  console.log(\"Home done\");\n},\nbeforeUpdate: function() {\n  // 数据更新时调用，发生在虚拟 DOM 重新渲染和打补丁之前。 你可以在这个钩子中进一步地更改状态，这不会触发附加的重渲染过程。\n},\nupdated: function() {\n  // 由于数据更改导致的虚拟 DOM 重新渲染和打补丁，在这之后会调用该钩子。\n  // 当这个钩子被调用时，组件 DOM 已经更新，所以你现在可以执行依赖于 DOM 的操作。然而在大多数情况下，你应该避免在此期间更改状态，因为这可能会导致更新无限循环。\n  // 该钩子在服务器端渲染期间不被调用。\n},\nbeforeDestroy: function() {\n  // 实例销毁之前调用。在这一步，实例仍然完全可用。\n},\ndestroyed: function() {\n  // Vue 实例销毁后调用。调用后，Vue 实例指示的所有东西都会解绑定，所有的事件监听器会被移除，所有的子实例也会被销毁。 该钩子在服务器端渲染期间不被调用。\n}\n};\n</script>\n\n","language":"js","meta":"","className":["language-js"]},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"<script>\nexport default {\nname: \"Home\",\ndata() {\n  return {};\n},\nmethods: {\n  // 组件的方法\n},\nwatch: {\n  // watch擅长处理的场景：一个数据影响多个数据\n},\ncomputed: {\n  // computed擅长处理的场景：一个数据受多个数据影响\n},\nbeforeCreate: function() {\n  // 在实例初始化之后，数据观测(data observer) 和 event/watcher 事件配置之前被调用。\n},\ncreated: function() {\n  // 实例已经创建完成之后被调用。在这一步，实例已完成以下的配置：数据观测(data observer)，属性和方法的运算， watch/event 事件回调。然而，挂载阶段还没开始，$el 属性目前不可见。\n},\nbeforeMount: function() {\n  // 在挂载开始之前被调用：相关的 render 函数首次被调用。\n},\nmounted: function() {\n  // 编译好的HTML挂载到页面完成后执行的事件钩子\n  // el 被新创建的 vm.$el 替换，并挂载到实例上去之后调用该钩子。\n  // 此钩子函数中一般会做一些ajax请求获取数据进行数据初始化\n  console.log(\"Home done\");\n},\nbeforeUpdate: function() {\n  // 数据更新时调用，发生在虚拟 DOM 重新渲染和打补丁之前。 你可以在这个钩子中进一步地更改状态，这不会触发附加的重渲染过程。\n},\nupdated: function() {\n  // 由于数据更改导致的虚拟 DOM 重新渲染和打补丁，在这之后会调用该钩子。\n  // 当这个钩子被调用时，组件 DOM 已经更新，所以你现在可以执行依赖于 DOM 的操作。然而在大多数情况下，你应该避免在此期间更改状态，因为这可能会导致更新无限循环。\n  // 该钩子在服务器端渲染期间不被调用。\n},\nbeforeDestroy: function() {\n  // 实例销毁之前调用。在这一步，实例仍然完全可用。\n},\ndestroyed: function() {\n  // Vue 实例销毁后调用。调用后，Vue 实例指示的所有东西都会解绑定，所有的事件监听器会被移除，所有的子实例也会被销毁。 该钩子在服务器端渲染期间不被调用。\n}\n};\n</script>\n\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在script中除了export（导出）外，还有import（导入），举个例子"}]},{"type":"element","tag":"pre","props":{"code":"//从某路径下的show.vue文件导入showMsg()方法,该方法会显示括号里参数的内容\nimport { showMsg } from \"@/api/show\";\nexport default {\n  data() {\n    return {\n      msg: 'Hello world!'\n    }\n  }\n  \n  created() {\n    //实例已经创建完成之后被调用,即当你打开这个页面时就会使用\n    //this.showHello()表示该组件方法method里的里的showHello()\n    this.showHello();\n  },\n  method:{\n    showHello() {\n      //调用import进来showMsg,参数this.Msg为该组件数据data里的Msg\n      showMsg(this.msg);\n      };\n    },\n  }\n\n","language":"js","meta":"","className":["language-js"]},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"//从某路径下的show.vue文件导入showMsg()方法,该方法会显示括号里参数的内容\nimport { showMsg } from \"@/api/show\";\nexport default {\n  data() {\n    return {\n      msg: 'Hello world!'\n    }\n  }\n  \n  created() {\n    //实例已经创建完成之后被调用,即当你打开这个页面时就会使用\n    //this.showHello()表示该组件方法method里的里的showHello()\n    this.showHello();\n  },\n  method:{\n    showHello() {\n      //调用import进来showMsg,参数this.Msg为该组件数据data里的Msg\n      showMsg(this.msg);\n      };\n    },\n  }\n\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"当打开一个页面时会创建一个vue实例，调用created(),里面又调用了method里的showMsg方法，里面又调用了导入进来的showMsg方法，其参数来源于data里的Msg，而Msg又会与template里的内容绑定"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"除了导入方法，还可以导入组件，官网原话"}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Vue SFC 是一个框架指定的文件格式，因此必须交由 @vue/compiler-sfc 编译为标准的 JavaScript 和 CSS，一个编译后的 SFC 是一个标准的 JavaScript(ES) 模块，这也意味着在构建配置正确的前提下，你可以像导入其他 ES 模块一样导入 SFC："}]}]},{"type":"element","tag":"pre","props":{"code":"import MyComponent from './MyComponent.vue'\n\nexport default {\n  components: {\n    MyComponent\n  }\n}\n\n","language":"js","meta":"","className":["language-js"]},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"import MyComponent from './MyComponent.vue'\n\nexport default {\n  components: {\n    MyComponent\n  }\n}\n\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"假如说我们已经写好了一个MyComponent.vue文件（单文件组件），并且在其他vue文件中想要复用这个组件，import后在template层使用"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"<MyComponent></MyComponent>"}]},{"type":"text","value":"即可"}]},{"type":"element","tag":"h2","props":{"id":"style"},"children":[{"type":"text","value":"style"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"<style></style>"}]},{"type":"text","value":"包裹的是样式，可以使用 scoped 或 module attribute 来帮助封装当前组件的样式，在template层使用时class=\"\"即可使用样式\n同样看官网示例中"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"<style>"}]},{"type":"text","value":"标签里的内容"}]},{"type":"element","tag":"pre","props":{"code":"\n.example {\n  color: red;\n}\n\n","language":"css","meta":"","className":["language-css"]},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"\n.example {\n  color: red;\n}\n\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"样式名为example，在template中使用该样式时加上class=\"example\"即可\n此外在标签中可以使用 scoped 等帮助封装当前组件的样式\n例如"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"<style scoped></style>"}]},{"type":"text","value":"表明该CSS样式只能作用于当前的组件"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://cn.vuejs.org/api/sfc-css-features.html","rel":["nofollow"]},"children":[{"type":"text","value":"单文件组件 CSS 功能"}]}]},{"type":"element","tag":"h1","props":{"id":"小结"},"children":[{"type":"text","value":"小结"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"一个vue文件基本上就由模板、逻辑与样式三部分组成，模板定义了一个个独立的模块与内容，样式决定了这些模块的外观，逻辑描述模板里的内容如何呈现。"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\n至此单个vue文件的逻辑基本已理清， 但要写好一个界面，一个好看的界面还有很多细节需要慢慢地去熟悉，对于vue还要搞清router路由，各个页面之间的逻辑关系，且听下回分解"}]}],"toc":{"title":"","searchDepth":2,"depth":3,"links":[{"id":"template","depth":2,"text":"template"},{"id":"script","depth":2,"text":"script"},{"id":"style","depth":2,"text":"style"}]}},"_type":"markdown","_id":"content:essay:2.vue初学笔记-单文件组件.md","_source":"content","_file":"essay/2.vue初学笔记-单文件组件.md","_stem":"essay/2.vue初学笔记-单文件组件","_extension":"md"},{"_path":"/essay/1.spring boot-mybatis开发速成指南","_dir":"essay","_draft":false,"_partial":false,"_locale":"","title":"spring boot-mybatis开发速成指南","description":"Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".\nWe take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration.","subtitle":"Spring quick guide","index":1,"tag":"技术","tag_en":"TECH","date":"2022-12-01 22:26:10","lunar_date":"霜月初八","year":"2022","month":"12","month_en":"Dec","day":"01","cover":"/img/rabbit/001.jpg","body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can \"just run\".\nWe take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need minimal Spring configuration."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"本文的目的"}]},{"type":"text","value":"：了解一个spring boot项目结构的关系，知道我们应该在哪个部分做什么事"}]},{"type":"element","tag":"h1","props":{"id":"参考项目结构"},"children":[{"type":"text","value":"参考项目结构"}]},{"type":"element","tag":"pre","props":{"code":"|_java.com.cy.store\n    |_aop\n    |_config\n    |_controller\n    |_entity\n    |_interceptor\n    |_mapper\n    |_service\n        |_ex\n        |_impl\n    |_util\n    |_vo\n\n    XXXApplication\n\n|_resource\n    |_mapper\n    |_static\n    |_templates\n\n    application.yml/application.properties\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"|_java.com.cy.store\n    |_aop\n    |_config\n    |_controller\n    |_entity\n    |_interceptor\n    |_mapper\n    |_service\n        |_ex\n        |_impl\n    |_util\n    |_vo\n\n    XXXApplication\n\n|_resource\n    |_mapper\n    |_static\n    |_templates\n\n    application.yml/application.properties\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"不同项目项目结构不一样，但一般来讲，理清controller控制层、service业务逻辑层、mapper（dao）数据访问层三层关系即可"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://www.bilibili.com/video/BV1bf4y1V7Bx/?spm_id_from=333.1007.top_right_bar_window_custom_collection.content.click&vd_source=195ead58c7d9bcfe9285069f7b6015eb","rel":["nofollow"]},"children":[{"type":"text","value":"推荐项目学习"}]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\n该视频下方有热心小伙伴的文档笔记整理\n个人认为只看一个功能即可，其他大同小异，我只了解完用户注册剩下的大概看看就行了，主要是了解一个spring boot项目的整体思路"}]},{"type":"element","tag":"h1","props":{"id":"三层关系"},"children":[{"type":"text","value":"三层关系"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://blog.csdn.net/Mcdull__/article/details/117450764","rel":["nofollow"]},"children":[{"type":"text","value":"controller、service、mapper三层关系梳理1"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://blog.csdn.net/qq_41026669/article/details/107479927","rel":["nofollow"]},"children":[{"type":"text","value":"controller、service、mapper三层关系梳理2"}]}]},{"type":"element","tag":"h1","props":{"id":"数据库表设计"},"children":[{"type":"text","value":"数据库（表）设计"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://www.bilibili.com/video/BV1w44y1576p/?spm_id_from=333.337.search-card.all.click&vd_source=195ead58c7d9bcfe9285069f7b6015eb","rel":["nofollow"]},"children":[{"type":"text","value":"快速学习数据库设计步骤"}]}]},{"type":"element","tag":"h1","props":{"id":"实体层编写实体类"},"children":[{"type":"text","value":"实体层（编写实体类）"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"entity（或叫model）实体，该层存放实体类，属性值与数据库中的属性值保持一致，实现set和get方法，可使用@Data注解自动生成"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"多个类拥有同一些属性，可以把这些属性抽取成一个公共基类这样方便我们管理。例如数据库许多实体类都需要有日志相关的四个属性：创建者和时间以及修改者和时间，则可先创建包含这些属性的基类，然后其他实体类再继承这个基类"}]},{"type":"element","tag":"h1","props":{"id":"持久层-java对象与sql映射mapper接口与xml映射文件绑定"},"children":[{"type":"text","value":"持久层 （java对象与sql映射）(Mapper接口与xml映射文件绑定)"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://blog.csdn.net/meism5/article/details/108970550","rel":["nofollow"]},"children":[{"type":"text","value":"sql与xml绑定"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"mapper（或叫dao），为"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"映射"}]},{"type":"text","value":"的意思；"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\ndao（data access object），数据访问对象"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"持久层"}]},{"type":"text","value":"的意思是使数据可以永久保持地存储，可以直接理解为对数据库的CRUD等操作,就是把持久的动作封装成一个独立的层。这是为了降低功能代码之间的关联,创建一个更清晰的抽象,提高代码的内聚力,降低代码的耦合度,提高可维护性和复用性."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Mybatis"}]},{"type":"text","value":" 对jdbc 的操作数据库的过程进行封装,通过xml或注解的方式将要执行的各种statement（statement、preparedStatemnt）配置起来，并通过java对象和statement中的sql进行映射生成最终执行的sql语句，最后由mybatis框架执行sql并将结果映射成java对象并返回。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"总之："}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"确定好需要写的sql;"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"在java文件夹下的mapper包编写持久层接口（Mapper接口）："},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"XxxxMapper"}]},{"type":"text","value":",在接口中定义需要实现的抽象方法;"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"在resource文件夹下的mapper包编写xml映射文件："},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"XxxxMapper.xml"}]},{"type":"text","value":"，编写对应Mapper接口的方法的sql（抽象方法的映射配置），接口与xml文件绑定"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"1）Mapper 接口与 XML 文件的绑定是通过 XML 里 mapper 标签的 namespace 值与 Mapper 接口的 包路径.接口名 进行绑定"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"2） Mapper 接口的方法名与 XML 文件中的 sql、select、insert、update、delete 标签的 id 参数值进行绑定"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在配置文件中说明xml配置：mybatis.mapper-locations=classpath:mapper/*.xml"}]},{"type":"element","tag":"h1","props":{"id":"业务逻辑层"},"children":[{"type":"text","value":"业务逻辑层"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://blog.csdn.net/bookssea/article/details/107488749","rel":["nofollow"]},"children":[{"type":"text","value":"DAO层和Service层的理解"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"service 服务，此处翻译为业务比较合适，service层处理业务逻辑\nmapper层是对数据库的操作，不涉及业务逻辑，具体是对某张表的增删查改"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"service是业务逻辑，一个业务（功能）对应多项操作，需要有数据的处理流程和逻辑"}]},{"type":"element","tag":"pre","props":{"code":"流程：先做什么，再做什么\n逻辑：能做什么，不能做什么\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"流程：先做什么，再做什么\n逻辑：能做什么，不能做什么\n"}]}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"例：用户注册"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"mapper层："},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"UserMapper"}]},{"type":"text","value":"中定义"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"insert()"}]},{"type":"text","value":"方法（插入用户数据）、"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"findByUsername()"}]},{"type":"text","value":"方法（根据用户名查询数据）"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"service层："},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"UserService"}]},{"type":"text","value":"中定义的一个业务逻辑（功能）为"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"reg()"}]},{"type":"text","value":"（用户注册），"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"reg()"}]},{"type":"text","value":"在数据库层面的理解其实就是"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"insert()"}]},{"type":"text","value":"，但是"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"insert（）"}]},{"type":"text","value":"不涉及数据处理流程和逻辑"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"reg()的业务逻辑：先根据输入的用户名查询是否已存在用户数据（调用"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"UserMapper"}]},{"type":"text","value":"的"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"findByUsername()"}]},{"type":"text","value":"），如果不存在则插入用户数据（调用用"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"UserMapper"}]},{"type":"text","value":"的"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"insert()"}]},{"type":"text","value":"）,如果存在则抛出用户已存在的异常。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在service包中，先在"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"IUserService接口"}]},{"type":"text","value":"中定义"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"reg()"}]},{"type":"text","value":"的抽象方法，然后在"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"service.impl"}]},{"type":"text","value":"（implement：实现）包中的"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"UserServiceImpl"}]},{"type":"text","value":"实现类中实现"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"reg()"}]},{"type":"text","value":"方法"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"总之："}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"规划可能出现的异常，如用户名重复等，写在Service.ex包下"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"直接在在Service包下编写业务层接口（service接口）："},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"IXxxxService"}]},{"type":"text","value":"，该命名方式开头的I表示接口，接口中定义要实现的抽象方法——业务逻辑（功能）"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"在service.impl包下编写service接口的实现类："},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"XxxxServiceImpl"}]},{"type":"text","value":"，实现相应service接口中的抽象方法"}]}]}]},{"type":"element","tag":"h1","props":{"id":"控制层"},"children":[{"type":"text","value":"控制层"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://blog.csdn.net/kicinio/article/details/110806977","rel":["nofollow"]},"children":[{"type":"text","value":"controller的注解1"}]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"element","tag":"a","props":{"href":"https://blog.csdn.net/jiahao1186/article/details/90634764","rel":["nofollow"]},"children":[{"type":"text","value":"controller的注解2"}]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"element","tag":"a","props":{"href":"https://www.zhihu.com/question/434640634","rel":["nofollow"]},"children":[{"type":"text","value":"controller请求与响应"}]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"element","tag":"a","props":{"href":"https://blog.csdn.net/qq_43291207/article/details/110789568","rel":["nofollow"]},"children":[{"type":"text","value":"controller请求与响应生动讲解"}]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"element","tag":"a","props":{"href":"https://blog.csdn.net/qq_43291207/article/details/110790415?spm=1001.2014.3001.5502","rel":["nofollow"]},"children":[{"type":"text","value":"controller请求与响应生动讲解（续）"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Controller "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"控制器"}]},{"type":"text","value":"，与前端和service层交互，\n把用户提交来的请求通过对URL的匹配，分配不同的接收器，再进行处理，然后向用户返回结果。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"从HTTP请求中获取信息，提取参数，并将其分发给不同的处理服务（service层），根据实际需求调用不同的service定义的方法来处理不同业务，并向前端返回service层处理后的数据,他的重点就在于如何从HTTP请求中获得信息，提取参数，并分发给不同的处理服务。接收和响应请求，校验数据"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"controller负责管理service，service负责实施"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"例：用户注册"}]}]},{"type":"element","tag":"pre","props":{"code":"@RestController\n@RequestMapping(\"users\")\npublic class UserController extends BaseController {\n    @Autowired\n    private IUserService userService;\n\n\n    @RequestMapping(\"reg\")\n    public JsonResult<Void> reg(User user) {\n        // 调用业务对象执行注册\n        userService.reg(user);\n        // 返回\n        return new JsonResult<Void>(200);\n    }\n//省略其他代码\n }\n","language":"java","meta":"","className":["language-java"]},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"@RestController\n@RequestMapping(\"users\")\npublic class UserController extends BaseController {\n    @Autowired\n    private IUserService userService;\n\n\n    @RequestMapping(\"reg\")\n    public JsonResult<Void> reg(User user) {\n        // 调用业务对象执行注册\n        userService.reg(user);\n        // 返回\n        return new JsonResult<Void>(200);\n    }\n//省略其他代码\n }\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在UserController中实例化"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"IUserService"}]},{"type":"text","value":"对象"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"userService"}]},{"type":"text","value":";"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"@RequestMapping(\"users\")"}]},{"type":"text","value":"、"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"@RequestMapping(\"reg\")"}]},{"type":"text","value":"请求映射，将http请求路径映射到Controller方法上;"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"当用户在前端点击注册后，前端请求通过.../users/reg的路径发送给后端的UserController，执行"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"@RequestMapping(\"reg\")"}]},{"type":"text","value":"下的"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"reg()"}]},{"type":"text","value":"方法;"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"注意这里的reg()是Controller层的，不负责“用户注册”这个业务的实现，它会调用Service层真正实现“用户注册”业务逻辑的"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"userService.reg()"}]},{"type":"text","value":";"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"然后"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"userService.reg()"}]},{"type":"text","value":"调用mapper层的数据库操作方法"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"findByUsername()"}]},{"type":"text","value":"和"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"insert()"}]},{"type":"text","value":"，根据映射的xml文件通过Mybatis执行sql连接操作数据库，把数据写入数据库，完成该业务逻辑，但还需要返回响应结果"}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".../users"}]},{"type":"text","value":"请求路径是映射到"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"@RequestMapping(\"users\")"}]},{"type":"text","value":"下面的UserController类；\n"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".../users/reg"}]},{"type":"text","value":"请求路径映射到"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"@RequestMapping(\"users\")"}]},{"type":"text","value":"之下的"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"@RequestMapping(\"reg\")"}]},{"type":"text","value":"下面的reg方法"}]}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"pre","props":{"code":"再看一下上面的\nreturn new JsonResult<Void>(200);\n","language":"java","meta":"","className":["language-java"]},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"再看一下上面的\nreturn new JsonResult<Void>(200);\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"JsonResult"}]},{"type":"text","value":"是自定义的响应结果类，统一返回结果\n上面的"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"200"}]},{"type":"text","value":"表示正常，即注册成功,如果成功执行了reg方法，则会创建一个JsonResult类的对象，其中state（状态码）属性值设置为200"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"自定义的JsonResult类包含属性state（状态码）、message（状态描述信息）、data（数据），这里注册只需要知道是否操作成功就只返回状态码，如查询等业务则会还需要返回数据等"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"下面看一下前端代码,这个例子的前端用的是Thymeleaf模板引擎"}]},{"type":"element","tag":"pre","props":{"code":"<script type=\"text/javascript\">\n    $(\"#btn-reg\").click(function() {\n        $.ajax({\n            url: \"/users/reg\",\n            type: \"POST\",\n            data: $(\"#form-reg\").serialize(),\n            dataType: \"json\",\n            success: function(json) {\n                if (json.state == 200) {\n                    alert(\"注册成功！\");\n                    // location.href = \"login.html\";\n                } else {\n                    alert(\"注册失败！\" + json.message);\n                }\n            }\n        });\n    });\n</script>\n","language":"javascript","meta":"","className":["language-javascript"]},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"<script type=\"text/javascript\">\n    $(\"#btn-reg\").click(function() {\n        $.ajax({\n            url: \"/users/reg\",\n            type: \"POST\",\n            data: $(\"#form-reg\").serialize(),\n            dataType: \"json\",\n            success: function(json) {\n                if (json.state == 200) {\n                    alert(\"注册成功！\");\n                    // location.href = \"login.html\";\n                } else {\n                    alert(\"注册失败！\" + json.message);\n                }\n            }\n        });\n    });\n</script>\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"第四行的url即为上面提到前端的请求路径，该请求为post请求、提交数据，数据来源于id等于第六行"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"\"#form-reg\""}]},{"type":"text","value":"的表单（form），内容为用户注册所需要的信息，与User类属性一致，然后转化为json对象传给Controller,该对象（实参）在Controller中为User类的对象user（形参）"}]},{"type":"element","tag":"pre","props":{"code":"public JsonResult<Void> reg(User user)\n","language":"java","meta":"","className":["language-java"]},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"public JsonResult<Void> reg(User user)\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"后端的Controller接收该请求，当处理完请求后返回结果给前端\n如上"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"success: function(json)"}]},{"type":"text","value":"表示请求成功并返回信息（响应请求），这里括号里的"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"json"}]},{"type":"text","value":"就是后端Controller返回的结果，即一个JsonResult类的对象（实参），其state属性值为200，在前端中这个对象被命名为json（形参），那么Controller返回结果成功则json.state==200."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"以上即为前后端交互的流程，Controller负责接收请求和响应请求，调用Service处理业务，但自身不涉及业务逻辑"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"总之："}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"考虑要实现一个业务逻辑，用户在前端界面操作，该操作会从前端向后端传递什么，后端处理完该业务逻辑需要返回给前端什么"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"设计请求与响应，例：\n请求路径：/users/reg\n请求参数：User user\n请求类型：POST\n响应结果：JsonResult"},{"type":"element","tag":"void","props":{},"children":[]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"在Controller包下编写控制器类："},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"XxxxController"}]},{"type":"text","value":"，在类中实例化需要调用的service对象：xxxxService"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"XxxxController"}]},{"type":"text","value":"中编写要实现业务的控制方法，包括请求参数与响应结果（返回值），调用xxxxService对象的xxx()方法"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"使用"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"@RequestMapping"}]},{"type":"text","value":"等注解映射控制方法的请求路径，实现前后端的交互"}]}]}]},{"type":"element","tag":"h1","props":{"id":"总结"},"children":[{"type":"text","value":"总结"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"用户操作前端界面，需要实现某种业务--前端发送请求给后端controller--controller接收请求，调用service处理该业务 --service处理业务调用mapper的数据库操作方法 --mapper方法与mapper.xml存在映射关系；--Mybatis执行sql--service处理业完毕--controller返回响应结果--前端返回反馈给用户"}]},{"type":"element","tag":"pre","props":{"code":"用户操作前端界面，需要实现某种业务（<?> 操作内容）{\n    //前端api接口\n    <操作反馈> 前端发送请求给后端controller (){\n        <?> 请求路径\n        <?> 请求参数\n        <?> 请求类型\n        <?> 响应结果\n        //controller层\n        <响应结果> controller接收请求，调用service处理该业务 (<?> 请求参数){\n            //service层\n            service处理业务时，调用mapper的数据库操作方法 (<?> 请求参数){\n                //mapper层\n                mapper方法与mapper.xml存在映射关系；\n                //resource文件夹下的mapper的xml文件\n                执行sql；\n            }\n        }\n    } \n}\n\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"用户操作前端界面，需要实现某种业务（<?> 操作内容）{\n    //前端api接口\n    <操作反馈> 前端发送请求给后端controller (){\n        <?> 请求路径\n        <?> 请求参数\n        <?> 请求类型\n        <?> 响应结果\n        //controller层\n        <响应结果> controller接收请求，调用service处理该业务 (<?> 请求参数){\n            //service层\n            service处理业务时，调用mapper的数据库操作方法 (<?> 请求参数){\n                //mapper层\n                mapper方法与mapper.xml存在映射关系；\n                //resource文件夹下的mapper的xml文件\n                执行sql；\n            }\n        }\n    } \n}\n\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"考虑的时候可以是前端---controller---service---dao---database ；\n写代码的时候则database---dao---service---controller---前端"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"总而言之，言而总之"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在mapper层"}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"确定好需要写的sql;"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"在java文件夹下的mapper包编写持久层接口（Mapper接口）："},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"XxxxMapper"}]},{"type":"text","value":",在接口中定义需要实现的抽象方法;"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"在resource文件夹下的mapper包编写xml映射文件："},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"XxxxMapper.xml"}]},{"type":"text","value":"，编写对应Mapper接口的方法的sql（抽象方法的映射配置），接口与xml文件绑定"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在service层"}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"规划可能出现的异常，如用户名重复等，写在Service.ex包下"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"直接在在Service包下编写业务层接口（service接口）："},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"IXxxxService"}]},{"type":"text","value":"，该命名方式开头的I表示接口，接口中定义要实现的抽象方法——业务逻辑（功能）"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"在service.impl包下编写service接口的实现类："},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"XxxxServiceImpl"}]},{"type":"text","value":"，实现相应service接口中的抽象方法"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在controller层"}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"考虑要实现一个业务逻辑，用户在前端界面操作，该操作会从前端向后端传递什么，后端处理完该业务逻辑需要返回给前端什么"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"设计请求与响应，例：\n请求路径：/users/reg\n请求参数：User user\n请求类型：POST\n响应结果：JsonResult"},{"type":"element","tag":"void","props":{},"children":[]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"在Controller包下编写控制器类："},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"XxxxController"}]},{"type":"text","value":"，在类中实例化需要调用的service对象：xxxxService"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"XxxxController"}]},{"type":"text","value":"中编写要实现业务的控制方法，包括请求参数与响应结果（返回值），调用xxxxService对象的xxx()方法"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"使用"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"@RequestMapping"}]},{"type":"text","value":"等注解映射控制方法的请求路径，实现前后端的交互"}]}]}]}],"toc":{"title":"","searchDepth":2,"depth":3,"links":[]}},"_type":"markdown","_id":"content:essay:1. spring boot-mybatis开发速成指南.md","_source":"content","_file":"essay/1. spring boot-mybatis开发速成指南.md","_stem":"essay/1. spring boot-mybatis开发速成指南","_extension":"md"}]