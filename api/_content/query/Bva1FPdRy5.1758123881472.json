{"_path":"/essay/11.gin-gorm3é”™è¯¯å¤„ç†ä¸è·¯ç”±æ¥å£","_dir":"essay","_draft":false,"_partial":false,"_locale":"","title":"3.gin-gormé”™è¯¯å¤„ç†ä¸è·¯ç”±æ¥å£","description":"é€šè¿‡gin-gormä¹‹é¡¹ç›®å­¦ä¹ éƒ¨åˆ†çš„å­¦ä¹ ï¼Œå¯ä»¥å¯¹é¡¹ç›®çš„æ¶æ„æœ‰æ·±å…¥çš„äº†è§£ ğŸ¤Ÿ\n{% post_link \"gin-gorm1é¡¹ç›®å‡†å¤‡åˆå§‹åŒ–\" %}\n{% post_link \"gin-gorm2æ•°æ®åº“\" %}\n{% post_link \"gin-gorm3é”™è¯¯å¤„ç†ä¸è·¯ç”±æ¥å£\" %}\n{% post_link \"gin-gorm4ç”¨æˆ·æ¨¡å—æ¥å£ç¼–å†™\" %}\n{% post_link \"gin-gorm5å¯†ç åŠ å¯†\" %}\n{% post_link \"gin-gorm6ç¼–è¾‘ã€åˆ é™¤ç”¨æˆ·\" %}","subtitle":"Error handling and routing interface","index":11,"date":"2023-02-13 00:00:03","lunar_date":"æ­£æœˆå»¿ä¸‰","year":"2023","month":"02","month_en":"Feb","day":"13","tag":"æŠ€æœ¯","tag_en":"TECH","cover":"/img/rabbit/011.jpg","categories":"gin-gormä¹‹é¡¹ç›®å­¦ä¹ ","body":{"type":"root","children":[{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"é€šè¿‡"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"gin-gormä¹‹é¡¹ç›®å­¦ä¹ "}]},{"type":"text","value":"éƒ¨åˆ†çš„å­¦ä¹ ï¼Œå¯ä»¥å¯¹é¡¹ç›®çš„æ¶æ„æœ‰æ·±å…¥çš„äº†è§£ ğŸ¤Ÿ\n{% post_link \"gin-gorm1é¡¹ç›®å‡†å¤‡åˆå§‹åŒ–\" %}"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\n{% post_link \"gin-gorm2æ•°æ®åº“\" %}"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\n{% post_link \"gin-gorm3é”™è¯¯å¤„ç†ä¸è·¯ç”±æ¥å£\" %}"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\n{% post_link \"gin-gorm4ç”¨æˆ·æ¨¡å—æ¥å£ç¼–å†™\" %}"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\n{% post_link \"gin-gorm5å¯†ç åŠ å¯†\" %}"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\n{% post_link \"gin-gorm6ç¼–è¾‘ã€åˆ é™¤ç”¨æˆ·\" %}"},{"type":"element","tag":"br","props":{},"children":[]}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h1","props":{"id":"é”™è¯¯å¤„ç†"},"children":[{"type":"text","value":"é”™è¯¯å¤„ç†"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"çº¦å®šå¥½çŠ¶æ€ç ï¼Œä¾¿äºé”™è¯¯å¤„ç†ï¼Œåœ¨utilsä¸‹æ–°å»ºerrmsgæ–‡ä»¶å¤¹ï¼Œåœ¨é‡Œé¢æ–°å»ºerrmsg.go"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"const (\n    SUCCESS = 200\n    ERROR   = 500\n    //çº¦å®šçŠ¶æ€ç \n    //code=1000...ç”¨æˆ·æ¨¡å—é”™è¯¯\n    ERROR_USERNAME_USED  = 1001\n    ERROR_PASSWORD_WRONG = 1002\n    ERROR_USER_NOT_EXIST = 1003\n\n    ERROR_TOKEN_NOT_EXIST = 1004\n    ERROR_TOKEN_OUT_TIME  = 1005\n    ERROR_TOKEN_WRONG     = 1006\n    ERROR_TYPE_WRONG      = 1007\n\n    //code=2000...æ–‡ç« æ¨¡å—é”™è¯¯\n\n    //code=3000...åˆ†ç±»æ¨¡å—é”™è¯¯\n)\n\nvar codeMsg = map[int]string{\n    SUCCESS:               \"OK\",\n    ERROR:                 \"FAIL\",\n    ERROR_USERNAME_USED:   \"è¯¥ç”¨æˆ·åå·²å­˜åœ¨\",\n    ERROR_PASSWORD_WRONG:  \"å¯†ç é”™è¯¯\",\n    ERROR_USER_NOT_EXIST:  \"ç”¨æˆ·ä¸å­˜åœ¨\",\n    ERROR_TOKEN_NOT_EXIST: \"tokenä¸å­˜åœ¨\",\n    ERROR_TOKEN_OUT_TIME:  \"tokenå·²è¿‡æœŸ\",\n    ERROR_TOKEN_WRONG:     \"tokené”™è¯¯\",\n    ERROR_TYPE_WRONG:      \" tokenæ ¼å¼é”™è¯¯\",\n}\n\nfunc GetErrMsg(code int) string {\n    return codeMsg[code]\n}\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"const (\n    SUCCESS = 200\n    ERROR   = 500\n    //çº¦å®šçŠ¶æ€ç \n    //code=1000...ç”¨æˆ·æ¨¡å—é”™è¯¯\n    ERROR_USERNAME_USED  = 1001\n    ERROR_PASSWORD_WRONG = 1002\n    ERROR_USER_NOT_EXIST = 1003\n\n    ERROR_TOKEN_NOT_EXIST = 1004\n    ERROR_TOKEN_OUT_TIME  = 1005\n    ERROR_TOKEN_WRONG     = 1006\n    ERROR_TYPE_WRONG      = 1007\n\n    //code=2000...æ–‡ç« æ¨¡å—é”™è¯¯\n\n    //code=3000...åˆ†ç±»æ¨¡å—é”™è¯¯\n)\n\nvar codeMsg = map[int]string{\n    SUCCESS:               \"OK\",\n    ERROR:                 \"FAIL\",\n    ERROR_USERNAME_USED:   \"è¯¥ç”¨æˆ·åå·²å­˜åœ¨\",\n    ERROR_PASSWORD_WRONG:  \"å¯†ç é”™è¯¯\",\n    ERROR_USER_NOT_EXIST:  \"ç”¨æˆ·ä¸å­˜åœ¨\",\n    ERROR_TOKEN_NOT_EXIST: \"tokenä¸å­˜åœ¨\",\n    ERROR_TOKEN_OUT_TIME:  \"tokenå·²è¿‡æœŸ\",\n    ERROR_TOKEN_WRONG:     \"tokené”™è¯¯\",\n    ERROR_TYPE_WRONG:      \" tokenæ ¼å¼é”™è¯¯\",\n}\n\nfunc GetErrMsg(code int) string {\n    return codeMsg[code]\n}\n"}]}]},{"type":"element","tag":"h1","props":{"id":"è·¯ç”±æ¥å£"},"children":[{"type":"text","value":"è·¯ç”±æ¥å£"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"åœ¨api/v1åˆ›å»ºæ§åˆ¶æ•°æ®æ¨¡å‹çš„æ¥å£user.goã€article.goã€category.goï¼Œä»¥åŠæ§åˆ¶ç™»å½•çš„æ¥å£login.go\nä»¥ç”¨æˆ·æ¨¡å—ä¸ºä¾‹"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"//æŸ¥è¯¢ç”¨æˆ·æ˜¯å¦å­˜åœ¨\nfunc UserExist(ctx *gin.Context) {\n\n}\n//æŸ¥è¯¢ç”¨æˆ·\n//æŸ¥è¯¢ç”¨æˆ·åˆ—è¡¨\nfunc GetUsers(ctx *gin.Context) {\n\n}\n//æ·»åŠ ç”¨æˆ·\nfunc AddUser(ctx *gin.Context) {\n\n}\n//ç¼–è¾‘ç”¨æˆ·\nfunc EditUser(ctx *gin.Context) {\n\n}\n//åˆ é™¤ç”¨æˆ·\nfunc DeleteUser(ctx *gin.Context) {\n\n}\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"//æŸ¥è¯¢ç”¨æˆ·æ˜¯å¦å­˜åœ¨\nfunc UserExist(ctx *gin.Context) {\n\n}\n//æŸ¥è¯¢ç”¨æˆ·\n//æŸ¥è¯¢ç”¨æˆ·åˆ—è¡¨\nfunc GetUsers(ctx *gin.Context) {\n\n}\n//æ·»åŠ ç”¨æˆ·\nfunc AddUser(ctx *gin.Context) {\n\n}\n//ç¼–è¾‘ç”¨æˆ·\nfunc EditUser(ctx *gin.Context) {\n\n}\n//åˆ é™¤ç”¨æˆ·\nfunc DeleteUser(ctx *gin.Context) {\n\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"åœ¨routes/router.goçš„v1è·¯ç”±ç»„ä¸­åˆ›å»ºè·¯ç”±æ¥å£ï¼Œè¿™ç§apiä¸ºrestfulé£æ ¼"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"router := r.Group(\"api/v1\")\n    {\n        //Useç”¨æˆ·æ¨¡å—è·¯ç”±æ¥å£\n        router.POST(\"user/add\", v1.AddUser)\n        router.GET(\"users\", v1.GetUsers)\n        router.PUT(\"user/:id\", v1.EditUser)\n        router.DELETE(\"user/:id\", v1.DeleteUser)\n\n        //Categoryåˆ†ç±»æ¨¡å—è·¯ç”±æ¥å£\n\n        //Articleæ–‡ç« æ¨¡å—è·¯ç”±æ¥å£\n    }\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"router := r.Group(\"api/v1\")\n    {\n        //Useç”¨æˆ·æ¨¡å—è·¯ç”±æ¥å£\n        router.POST(\"user/add\", v1.AddUser)\n        router.GET(\"users\", v1.GetUsers)\n        router.PUT(\"user/:id\", v1.EditUser)\n        router.DELETE(\"user/:id\", v1.DeleteUser)\n\n        //Categoryåˆ†ç±»æ¨¡å—è·¯ç”±æ¥å£\n\n        //Articleæ–‡ç« æ¨¡å—è·¯ç”±æ¥å£\n    }\n"}]}]}],"toc":{"title":"","searchDepth":2,"depth":3,"links":[]}},"_type":"markdown","_id":"content:essay:11.gin-gorm3é”™è¯¯å¤„ç†ä¸è·¯ç”±æ¥å£.md","_source":"content","_file":"essay/11.gin-gorm3é”™è¯¯å¤„ç†ä¸è·¯ç”±æ¥å£.md","_stem":"essay/11.gin-gorm3é”™è¯¯å¤„ç†ä¸è·¯ç”±æ¥å£","_extension":"md"}