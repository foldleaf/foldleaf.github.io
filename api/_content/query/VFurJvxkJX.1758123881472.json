{"_path":"/essay/19.slice与map操作","_dir":"essay","_draft":false,"_partial":false,"_locale":"","title":"slice与map操作","description":"https://github.com/unknwon/the-way-to-go_ZH_CN/blob/master/eBook/07.6.md","subtitle":"Slice and Map Operations","index":19,"date":"2023-03-06 00:00:01","lunar_date":"二月十五","year":"2023","month":"03","month_en":"Mar","day":"01","tag":"技术","tag_en":"TECH","cover":"/img/rabbit/019.jpg","categories":"golang","body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://github.com/unknwon/the-way-to-go_ZH_CN/blob/master/eBook/07.6.md","rel":["nofollow"]},"children":[{"type":"text","value":"https://github.com/unknwon/the-way-to-go_ZH_CN/blob/master/eBook/07.6.md"}]}]},{"type":"element","tag":"h2","props":{"id":"slice操作"},"children":[{"type":"text","value":"slice操作"}]},{"type":"element","tag":"h3","props":{"id":"插入"},"children":[{"type":"text","value":"插入"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在切片a后追加元素x"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"a=append(a, x)\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"a=append(a, x)\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在切片a后追加切片b的元素:"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"a=append(a, b...)\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"a=append(a, b...)\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"将切片a的元素复制到切片b:"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"b:=make([]int,len(a))\ncopy(b,a)\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"b:=make([]int,len(a))\ncopy(b,a)\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"切片a扩展m个长度"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"a=append(a,make([]int,m))\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"a=append(a,make([]int,m))\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在索引i处插入元素x"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"a = append(a[:i], append([]T{x}, a[i:]...)...)\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"a = append(a[:i], append([]T{x}, a[i:]...)...)\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在索引i处插入j长度的切片"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"a=append(a[:i],append(make([]T,j),a[i:]...)...)\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"a=append(a[:i],append(make([]T,j),a[i:]...)...)\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在索引i处插入切片b的所有元素"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"a=append(a[:i],append(b,a[i:]...)...)\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"a=append(a[:i],append(b,a[i:]...)...)\n"}]}]},{"type":"element","tag":"h3","props":{"id":"删除"},"children":[{"type":"text","value":"删除"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"删除切片索引i的元素"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"a=append(a[:i],a[i+1:]...)\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"a=append(a[:i],a[i+1:]...)\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"删除切片索引i到j的元素:"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"a=append(a[:i],a[j+1:]...)\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"a=append(a[:i],a[j+1:]...)\n"}]}]},{"type":"element","tag":"h3","props":{"id":"查询"},"children":[{"type":"text","value":"查询"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"// 索引i的元素\na[i]\n// 切片的的长度\nlen(a)\n// 切片a的容量\ncap(a)\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"// 索引i的元素\na[i]\n// 切片的的长度\nlen(a)\n// 切片a的容量\ncap(a)\n"}]}]},{"type":"element","tag":"h3","props":{"id":"排序"},"children":[{"type":"text","value":"排序"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"// 均为快速排序\n// a为int切片、b为float64切片、c为string切片\n// int类型的排序\nsort.Ints(a)\n// float64类型的排序\nsort.Float64s(b)\n// string类型的排序\nsort.Strings(c)\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"// 均为快速排序\n// a为int切片、b为float64切片、c为string切片\n// int类型的排序\nsort.Ints(a)\n// float64类型的排序\nsort.Float64s(b)\n// string类型的排序\nsort.Strings(c)\n"}]}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"// 倒序\nsort.Sort(sort.Reverse(sort.IntSlice(a)))\nsort.Sort(sort.Reverse(sort.Float64Slice(b)))\nsort.Sort(sort.Reverse(sort.StringSlice(c))))\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"// 倒序\nsort.Sort(sort.Reverse(sort.IntSlice(a)))\nsort.Sort(sort.Reverse(sort.Float64Slice(b)))\nsort.Sort(sort.Reverse(sort.StringSlice(c))))\n"}]}]},{"type":"element","tag":"h3","props":{"id":"遍历"},"children":[{"type":"text","value":"遍历"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"for i,v:=range slice{\n   fmt.Printf(\"%d:%v\\n\",i,v)\n}\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"for i,v:=range slice{\n   fmt.Printf(\"%d:%v\\n\",i,v)\n}\n"}]}]},{"type":"element","tag":"h2","props":{"id":"map操作"},"children":[{"type":"text","value":"map操作"}]},{"type":"element","tag":"h3","props":{"id":"插入和更新"},"children":[{"type":"text","value":"插入和更新"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"map[key]=value\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"map[key]=value\n"}]}]},{"type":"element","tag":"h3","props":{"id":"删除-1"},"children":[{"type":"text","value":"删除"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"delete(mapName,key)\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"delete(mapName,key)\n"}]}]},{"type":"element","tag":"h3","props":{"id":"单个查询"},"children":[{"type":"text","value":"单个查询"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"value,ok:=map[key]\nif ok{\n    fmt.Printf(\"存在/%v,值为%v\",key,value)\n}else{\n    fmt.Printf(\"不存在/%v\",key)\n}\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"value,ok:=map[key]\nif ok{\n    fmt.Printf(\"存在/%v,值为%v\",key,value)\n}else{\n    fmt.Printf(\"不存在/%v\",key)\n}\n"}]}]},{"type":"element","tag":"h3","props":{"id":"遍历-1"},"children":[{"type":"text","value":"遍历"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"for i,v:=range map{\n    fmt.Printf(\"%d:%v\\n\",i,v)\n}\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"for i,v:=range map{\n    fmt.Printf(\"%d:%v\\n\",i,v)\n}\n"}]}]},{"type":"element","tag":"h2","props":{"id":"关于string"},"children":[{"type":"text","value":"关于string"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"string的结构本质上有两个字段，一个是指向底层字符数组的指针，一个是长度。我们可以将string认为是字符数组，可以使用切片的操作对string进行处理，在strings与strconv包中也有更方便的专门处理string的函数，详见字符串处理。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"不过go中不能直接改变字符串中的指定字符，如"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"str[i] = 'c'"}]},{"type":"text","value":"是不允许的"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"必须先将字符串转换成字节数组，然后再通过修改数组中的元素值来达到修改字符串的目的，最后将字节数组转换回字符串格式。"}]},{"type":"element","tag":"pre","props":{"className":["language-go"],"code":"s := \"hello\"\nc := []byte(s)\nc[0] = 'c'\ns2 := string(c) // s2 == \"cello\"\n","language":"go","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"s := \"hello\"\nc := []byte(s)\nc[0] = 'c'\ns2 := string(c) // s2 == \"cello\"\n"}]}]}],"toc":{"title":"","searchDepth":2,"depth":3,"links":[{"id":"slice操作","depth":2,"text":"slice操作","children":[{"id":"插入","depth":3,"text":"插入"},{"id":"删除","depth":3,"text":"删除"},{"id":"查询","depth":3,"text":"查询"},{"id":"排序","depth":3,"text":"排序"},{"id":"遍历","depth":3,"text":"遍历"}]},{"id":"map操作","depth":2,"text":"map操作","children":[{"id":"插入和更新","depth":3,"text":"插入和更新"},{"id":"删除-1","depth":3,"text":"删除"},{"id":"单个查询","depth":3,"text":"单个查询"},{"id":"遍历-1","depth":3,"text":"遍历"}]},{"id":"关于string","depth":2,"text":"关于string"}]}},"_type":"markdown","_id":"content:essay:19.slice与map操作.md","_source":"content","_file":"essay/19.slice与map操作.md","_stem":"essay/19.slice与map操作","_extension":"md"}