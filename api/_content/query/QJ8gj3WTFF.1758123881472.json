{"_path":"/essay/36.vue-router","_dir":"essay","_draft":false,"_partial":false,"_locale":"","title":"vue-router","description":"","subtitle":"vue-router","index":36,"date":"2023-04-16","lunar_date":"闰二廿六","year":"2023","month":"04","month_en":"Apr","day":"16","tag":"技术","tag_en":"TECH","cover":"/img/rabbit/036.jpg","categories":"vue","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"项目创建"},"children":[{"type":"text","value":"项目创建"}]},{"type":"element","tag":"pre","props":{"className":["language-bash"],"code":"npm create vite@latest\n# 项目命名为 sidebar\ncd sidebar\nnpm i\nnpm run dev\n","language":"bash","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"npm create vite@latest\n# 项目命名为 sidebar\ncd sidebar\nnpm i\nnpm run dev\n"}]}]},{"type":"element","tag":"h1","props":{"id":"资源准备"},"children":[{"type":"text","value":"资源准备"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"图标与字体，在index.html中head标签中引用"}]},{"type":"element","tag":"pre","props":{"className":["language-html"],"code":"<link\n    href=\"https://fonts.googleapis.com/css2?family=Material+Icons\"\n    rel=\"stylesheet\"\n/>\n        \n<link \n    rel=\"preconnect\" \n    href=\"https://fonts.googleapis.com\" \n/>\n<link \n    rel=\"preconnect\" \n    href=\"https://fonts.gstatic.com\" \n    crossorigin \n/>\n<link\n    href=\"https://fonts.googleapis.com/css2?family=Fira+Sans:wght@100&display=swap\"\n    rel=\"stylesheet\"\n/>\n","language":"html","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"<link\n    href=\"https://fonts.googleapis.com/css2?family=Material+Icons\"\n    rel=\"stylesheet\"\n/>\n        \n<link \n    rel=\"preconnect\" \n    href=\"https://fonts.googleapis.com\" \n/>\n<link \n    rel=\"preconnect\" \n    href=\"https://fonts.gstatic.com\" \n    crossorigin \n/>\n<link\n    href=\"https://fonts.googleapis.com/css2?family=Fira+Sans:wght@100&display=swap\"\n    rel=\"stylesheet\"\n/>\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"sass"}]},{"type":"element","tag":"pre","props":{"className":["language-bash"],"code":"npm add -D sass\n","language":"bash","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"npm add -D sass\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"vue-router"}]},{"type":"element","tag":"pre","props":{"className":["language-bash"],"code":"npm i vue-router\n","language":"bash","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"npm i vue-router\n"}]}]},{"type":"element","tag":"h1","props":{"id":"路由配置"},"children":[{"type":"text","value":"路由配置"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"以下都是在src文件夹下:\nsrc/views/Home.vue"}]},{"type":"element","tag":"pre","props":{"className":["language-html"],"code":"<template>\n    <main class=\"home-page\">\n        <h1>Home</h1>\n        <p>This is Home page</p>\n    </main>\n</template>\n","language":"html","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"<template>\n    <main class=\"home-page\">\n        <h1>Home</h1>\n        <p>This is Home page</p>\n    </main>\n</template>\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"src/views/About.vue类似"}]},{"type":"element","tag":"pre","props":{"className":["language-html"],"code":"<template>\n    <main class=\"about-page\">\n        <h1>About</h1>\n        <p>This is About page</p>\n    </main>\n</template>\n","language":"html","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"<template>\n    <main class=\"about-page\">\n        <h1>About</h1>\n        <p>This is About page</p>\n    </main>\n</template>\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"src/main.js"}]},{"type":"element","tag":"pre","props":{"className":["language-js"],"code":"import { createApp } from 'vue'\n// import './style.css'\nimport App from './App.vue'\nimport { createRouter,createWebHistory } from 'vue-router'\nimport Home from './views/Home.vue'\nimport About from './views/About.vue'\n\nconst router=createRouter({\n    history: createWebHistory(),\n    routes: [\n        {\n            path:'/',\n            component: Home,\n        },\n        {\n            path:'/about',\n            component: About,\n        }\n    ]\n})\n\ncreateApp(App).use(router).mount('#app')\n","language":"js","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"import { createApp } from 'vue'\n// import './style.css'\nimport App from './App.vue'\nimport { createRouter,createWebHistory } from 'vue-router'\nimport Home from './views/Home.vue'\nimport About from './views/About.vue'\n\nconst router=createRouter({\n    history: createWebHistory(),\n    routes: [\n        {\n            path:'/',\n            component: Home,\n        },\n        {\n            path:'/about',\n            component: About,\n        }\n    ]\n})\n\ncreateApp(App).use(router).mount('#app')\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"src/App.vue"}]},{"type":"element","tag":"pre","props":{"className":["language-html"],"code":"<script setup>\n\n</script>\n\n<template>\n  <div class=\"app\">\n    <router-view/>\n  </div>\n</template>\n\n<style lang=\"scss\">\n\n</style>\n","language":"html","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"<script setup>\n\n</script>\n\n<template>\n  <div class=\"app\">\n    <router-view/>\n  </div>\n</template>\n\n<style lang=\"scss\">\n\n</style>\n"}]}]},{"type":"element","tag":"h1","props":{"id":"将路由配置独立出来"},"children":[{"type":"text","value":"将路由配置独立出来"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"新建文件夹src/router\n将原来main.js有关router的代码移动到"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"src/router/index.js"}]},{"type":"text","value":"，注"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"import"}]},{"type":"text","value":"时文件层级会发生变化;\n该文件导出模块命名为router: "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"export default router"}]}]},{"type":"element","tag":"pre","props":{"className":["language-js"],"code":"import { createRouter,createWebHistory } from 'vue-router'\nimport Home from '../views/Home.vue'\nimport About from '../views/About.vue'\n\nconst router=createRouter({\n    history: createWebHistory(),\n    routes: [\n        {\n            path:'/',\n            component: Home,\n        },\n        {\n            path:'/about',\n            component: About,\n        }\n    ]\n})\n\nexport default router\n","language":"js","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"import { createRouter,createWebHistory } from 'vue-router'\nimport Home from '../views/Home.vue'\nimport About from '../views/About.vue'\n\nconst router=createRouter({\n    history: createWebHistory(),\n    routes: [\n        {\n            path:'/',\n            component: Home,\n        },\n        {\n            path:'/about',\n            component: About,\n        }\n    ]\n})\n\nexport default router\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在main.js中引用"}]},{"type":"element","tag":"pre","props":{"className":["language-js"],"code":"import { createApp } from 'vue'\n// import './style.css'\nimport App from './App.vue'\nimport router from './router'\n\ncreateApp(App).use(router).mount('#app')\n","language":"js","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"import { createApp } from 'vue'\n// import './style.css'\nimport App from './App.vue'\nimport router from './router'\n\ncreateApp(App).use(router).mount('#app')\n"}]}]},{"type":"element","tag":"h1","props":{"id":"侧边栏准备"},"children":[{"type":"text","value":"侧边栏准备"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"src/components/Sidebar.vue"}]},{"type":"element","tag":"pre","props":{"className":["language-html"],"code":"<template>\n    <aside>\n        Sidebar\n    </aside>\n</template>\n\n<script setup>\n\n</script>\n\n<style lang=\"scss\" scoped>\n\n</style>\n","language":"html","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"<template>\n    <aside>\n        Sidebar\n    </aside>\n</template>\n\n<script setup>\n\n</script>\n\n<style lang=\"scss\" scoped>\n\n</style>\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"src/App.vue"}]},{"type":"element","tag":"pre","props":{"className":["language-html"],"code":"<script setup>\nimport Sidebar from './components/Sidebar.vue';\n</script>\n\n<template>\n    <div class=\"app\">\n        <Sidebar />\n        <router-view />\n    </div>\n</template>\n\n<style lang=\"scss\">\n:root {\n    --primary: #4ade80;\n    --grey: #64748b;\n    --dark: #1e293b;\n    --dark-alt: #334155;\n    --light: #f1f5f9;\n    --sidebar-width: 300px;\n}\n\n* {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n    font-family: 'Fira sans', sans-serif;\n}\n\nbody {\n    background: var(--light);\n}\n\nbutton {\n    cursor: pointer;\n    appearance: none;\n    border: none;\n    outline: none;\n    background: none;\n}\n\n.app{\n    display: flex;\n    main{\n        flex: 1 1 0;\n        padding: 2rem;\n\n        @media (max-width: 768px) {\n            padding-left: 6rem;\n        }\n    }\n}\n</style>\n","language":"html","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"<script setup>\nimport Sidebar from './components/Sidebar.vue';\n</script>\n\n<template>\n    <div class=\"app\">\n        <Sidebar />\n        <router-view />\n    </div>\n</template>\n\n<style lang=\"scss\">\n:root {\n    --primary: #4ade80;\n    --grey: #64748b;\n    --dark: #1e293b;\n    --dark-alt: #334155;\n    --light: #f1f5f9;\n    --sidebar-width: 300px;\n}\n\n* {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n    font-family: 'Fira sans', sans-serif;\n}\n\nbody {\n    background: var(--light);\n}\n\nbutton {\n    cursor: pointer;\n    appearance: none;\n    border: none;\n    outline: none;\n    background: none;\n}\n\n.app{\n    display: flex;\n    main{\n        flex: 1 1 0;\n        padding: 2rem;\n\n        @media (max-width: 768px) {\n            padding-left: 6rem;\n        }\n    }\n}\n</style>\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"主要是写整体的css样式排版，我也不是很懂\n接下来重点在src/components/Sidebar.vue上"}]},{"type":"element","tag":"h1","props":{"id":"侧边导航栏"},"children":[{"type":"text","value":"侧边导航栏"}]},{"type":"element","tag":"pre","props":{"className":["language-html"],"code":"<div class=\"menu\">\n    <router-link class=\"button\" to=\"/\">\n        <span class=\"material-icons\">home</span>\n        <span class=\"text\">Home</span>\n    </router-link>\n    <router-link class=\"button\" to=\"/about\">\n        <span class=\"material-icons\">description</span>\n        <span class=\"text\">About</span>\n    </router-link>\n</div>\n","language":"html","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"<div class=\"menu\">\n    <router-link class=\"button\" to=\"/\">\n        <span class=\"material-icons\">home</span>\n        <span class=\"text\">Home</span>\n    </router-link>\n    <router-link class=\"button\" to=\"/about\">\n        <span class=\"material-icons\">description</span>\n        <span class=\"text\">About</span>\n    </router-link>\n</div>\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"css代码有点麻烦，忽略，只了解router-link即可"}]},{"type":"element","tag":"h1","props":{"id":"sidebar代码"},"children":[{"type":"text","value":"Sidebar代码"}]},{"type":"element","tag":"pre","props":{"className":["language-html"],"code":"<template>\n    <!-- 当is_expanded为true时，添加类名为'is_expanded'的样式 -->\n    <aside :class=\"`${is_expanded&&'is_expanded'}`\">\n        <div class=\"logo\">\n            <img src=\"../assets/vue.svg\" alt=\"vue\"/>\n        </div>\n        \n        <div class=\"menu-toggle-wrap\">\n            <button class=\"menu-toggle\" @click=\"ToggleMenu\">\n                <span class=\"material-icons\">keyboard_double_arrow_right</span>\n            </button>\n        </div>\n\n        <h3>Menu</h3>\n        <div class=\"menu\">\n            <router-link class=\"button\" to=\"/\">\n                <span class=\"material-icons\">home</span>\n                <span class=\"text\">Home</span>\n            </router-link>\n\n            <router-link class=\"button\" to=\"/about\">\n                <span class=\"material-icons\">description</span>\n                <span class=\"text\">About</span>\n            </router-link>\n        </div>\n\n    </aside>\n</template>\n\n<script setup>\nimport { ref } from 'vue';\nimport { RouterLink } from 'vue-router';\n\nconst is_expanded=ref(false)\nconst ToggleMenu=()=>{\n    is_expanded.value=!is_expanded.value\n}\n\n</script>\n\n<style lang=\"scss\" scoped>\naside{\n    display: flex;\n    flex-direction: column;\n\n    background-color: var(--dark);\n    color: var(--light);\n    width: calc(2rem + 32px);\n    overflow: hidden;\n    min-height: 100vh;\n    padding: 1rem;\n    transition: 0.2s ease-out;\n\n    .logo{\n        margin-bottom: 1rem;\n        img{\n            width: 2rem;\n        }\n    }\n\n    .menu-toggle-wrap{\n        display: flex;\n        justify-content: flex-end;\n        margin-bottom: 1rem;\n        \n        position: relative;\n        top: 0;\n        transition: 0.2s ease-out;\n\n        .menu-toggle{\n            transition: 0.2s ease-out;\n            .material-icons{\n                font-size: 2rem;\n                color: var(--light);\n                transition: 0.2s ease-out;\n            }\n\n            &:hover{\n                .material-icons{\n                    \n                    color: var(--primary);\n                    transform: translateX(0.5rem);\n                }\n            }\n        }\n    }\n\n    h3, .button .text{\n        opacity: 1;\n        transition: 0.3s ease-out;\n    }\n\n    .menu{\n        margin: 0 -1rem;\n\n        .button{\n            display: flex;\n            align-items: center;\n            text-decoration: none;\n\n            padding: 0.5rem 1rem;\n            transition: 0.2s ease-out;\n        }\n\n        .material-icons{\n            font-size: 2rem;\n            color: var(--light);\n            transition: 0.2s ease-out;\n        }\n\n        .text{\n            color: var(--light);\n            transition: 0.2s ease-out;\n        }\n\n        &:hover{\n            background-color: var(--dark-alt);\n\n            \n                \n        \n        }\n\n        \n    }\n    &.is_expanded{\n        width: var(--sidebar-width);\n\n        .menu-toggle-wrap{\n            top: -3rem;\n            .menu-toggle{\n                transform: rotate(-180deg);\n            }\n        }\n    }\n\n    @media (max-width: 768px) {\n        position: fixed;\n        z-index: 99;\n    }\n}\n</style>\n","language":"html","meta":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"<template>\n    <!-- 当is_expanded为true时，添加类名为'is_expanded'的样式 -->\n    <aside :class=\"`${is_expanded&&'is_expanded'}`\">\n        <div class=\"logo\">\n            <img src=\"../assets/vue.svg\" alt=\"vue\"/>\n        </div>\n        \n        <div class=\"menu-toggle-wrap\">\n            <button class=\"menu-toggle\" @click=\"ToggleMenu\">\n                <span class=\"material-icons\">keyboard_double_arrow_right</span>\n            </button>\n        </div>\n\n        <h3>Menu</h3>\n        <div class=\"menu\">\n            <router-link class=\"button\" to=\"/\">\n                <span class=\"material-icons\">home</span>\n                <span class=\"text\">Home</span>\n            </router-link>\n\n            <router-link class=\"button\" to=\"/about\">\n                <span class=\"material-icons\">description</span>\n                <span class=\"text\">About</span>\n            </router-link>\n        </div>\n\n    </aside>\n</template>\n\n<script setup>\nimport { ref } from 'vue';\nimport { RouterLink } from 'vue-router';\n\nconst is_expanded=ref(false)\nconst ToggleMenu=()=>{\n    is_expanded.value=!is_expanded.value\n}\n\n</script>\n\n<style lang=\"scss\" scoped>\naside{\n    display: flex;\n    flex-direction: column;\n\n    background-color: var(--dark);\n    color: var(--light);\n    width: calc(2rem + 32px);\n    overflow: hidden;\n    min-height: 100vh;\n    padding: 1rem;\n    transition: 0.2s ease-out;\n\n    .logo{\n        margin-bottom: 1rem;\n        img{\n            width: 2rem;\n        }\n    }\n\n    .menu-toggle-wrap{\n        display: flex;\n        justify-content: flex-end;\n        margin-bottom: 1rem;\n        \n        position: relative;\n        top: 0;\n        transition: 0.2s ease-out;\n\n        .menu-toggle{\n            transition: 0.2s ease-out;\n            .material-icons{\n                font-size: 2rem;\n                color: var(--light);\n                transition: 0.2s ease-out;\n            }\n\n            &:hover{\n                .material-icons{\n                    \n                    color: var(--primary);\n                    transform: translateX(0.5rem);\n                }\n            }\n        }\n    }\n\n    h3, .button .text{\n        opacity: 1;\n        transition: 0.3s ease-out;\n    }\n\n    .menu{\n        margin: 0 -1rem;\n\n        .button{\n            display: flex;\n            align-items: center;\n            text-decoration: none;\n\n            padding: 0.5rem 1rem;\n            transition: 0.2s ease-out;\n        }\n\n        .material-icons{\n            font-size: 2rem;\n            color: var(--light);\n            transition: 0.2s ease-out;\n        }\n\n        .text{\n            color: var(--light);\n            transition: 0.2s ease-out;\n        }\n\n        &:hover{\n            background-color: var(--dark-alt);\n\n            \n                \n        \n        }\n\n        \n    }\n    &.is_expanded{\n        width: var(--sidebar-width);\n\n        .menu-toggle-wrap{\n            top: -3rem;\n            .menu-toggle{\n                transform: rotate(-180deg);\n            }\n        }\n    }\n\n    @media (max-width: 768px) {\n        position: fixed;\n        z-index: 99;\n    }\n}\n</style>\n"}]}]}],"toc":{"title":"","searchDepth":2,"depth":3,"links":[]}},"_type":"markdown","_id":"content:essay:36.vue-router.md","_source":"content","_file":"essay/36.vue-router.md","_stem":"essay/36.vue-router","_extension":"md"}